"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[147],{8535:function(e,i,n){var t=n(9439),a=n(2791),o=n(176),s=n(184),r=function(e){var i=e.children,n=e.justifyContent,r=e.width,l=e.height,c=e.padding,_=void 0===c?"10px":c,d=e.margin,u=e.bordered,p=void 0!==u&&u,h=e.backgroundColor,m=e.borderColor,v=void 0===m?"#3c8dcf":m,f=e.borderWidth,b=void 0===f?"px":f,E=e.borderRadius,g=void 0===E?"5px":E,x=e.flexDirection,A=void 0===x?"row":x,T=e.textAlign,C=void 0===T?"":T,S=e.hidden,j=void 0!==S&&S,L=e.wrap,Z=(0,a.useState)(""),R=(0,t.Z)(Z,2),w=(R[0],R[1]);return(0,a.useEffect)((function(){p&&w("".concat(b," solid ").concat(v))}),[v,b,p]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.k,{width:r,height:l,padding:_,margin:d,background:h,borderRadius:g,flexDirection:A,textAlign:C,justifyContent:n,hidden:j,wrap:L?"wrap":"",children:i})})};i.Z=(0,a.memo)(r)},1986:function(e,i,n){n.d(i,{Z:function(){return j}});var t=n(2791),a=n(9230),o=n(176),s=n(4585),r=n(1413),l=n(5987),c=n(9439),_=n(6992),d=n(7872),u=n(3765),p=n(184),h=["children","placeholder","className"],m=(0,d.G)((function(e,i){var n=e.children,t=e.placeholder,a=e.className,o=(0,l.Z)(e,h);return(0,p.jsxs)(u.m.select,(0,r.Z)((0,r.Z)({},o),{},{ref:i,className:(0,_.cx)("chakra-select",a),children:[t&&(0,p.jsx)("option",{value:"",children:t}),n]}))}));m.displayName="SelectField";var v=n(2657),f=n(9084),b=n(9592),E=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],g=["children"];var x=(0,d.G)((function(e,i){var n,t=(0,f.jC)("Select",e),a=(0,b.Lr)(e),o=a.rootProps,s=a.placeholder,d=a.icon,h=a.color,g=a.height,x=a.h,A=a.minH,T=a.minHeight,S=a.iconColor,j=a.iconSize,L=function(e,i){for(var n={},t={},a=0,o=Object.entries(e);a<o.length;a++){var s=(0,c.Z)(o[a],2),r=s[0],l=s[1];i.includes(r)?n[r]=l:t[r]=l}return[n,t]}((0,l.Z)(a,E),b.oE),Z=(0,c.Z)(L,2),R=Z[0],w=Z[1],y=(0,v.Y)(w),O={width:"100%",height:"fit-content",position:"relative",color:h},I=(0,r.Z)((0,r.Z)({paddingEnd:"2rem"},t.field),{},{_focus:(0,r.Z)({zIndex:"unset"},null==(n=t.field)?void 0:n._focus)});return(0,p.jsxs)(u.m.div,(0,r.Z)((0,r.Z)((0,r.Z)({className:"chakra-select__wrapper",__css:O},R),o),{},{children:[(0,p.jsx)(m,(0,r.Z)((0,r.Z)({ref:i,height:null!=x?x:g,minH:null!=A?A:T,placeholder:s},y),{},{__css:I,children:e.children})),(0,p.jsx)(C,(0,r.Z)((0,r.Z)((0,r.Z)({"data-disabled":(0,_.PB)(y.disabled)},(S||h)&&{color:S||h}),{},{__css:t.icon},j&&{fontSize:j}),{},{children:d}))]}))}));x.displayName="Select";var A=function(e){return(0,p.jsx)("svg",(0,r.Z)((0,r.Z)({viewBox:"0 0 24 24"},e),{},{children:(0,p.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}))},T=(0,u.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),C=function(e){var i=e.children,n=void 0===i?(0,p.jsx)(A,{}):i,a=(0,l.Z)(e,g),o=(0,t.cloneElement)(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,p.jsx)(T,(0,r.Z)((0,r.Z)({},a),{},{className:"chakra-select__icon-wrapper",children:(0,t.isValidElement)(n)?o:null}))};C.displayName="SelectIcon";var S=function(e){var i=e.width,n=void 0===i?"200px":i,t=e.Options,r=void 0===t?[{label:"",value:0}]:t,l=e.onChange,c=e.Label,_=e.value,d=void 0===_?0:_,u=e.name,h=e.withLabel,m=void 0!==h&&h,v=e.margin,f=void 0===v?"10px":v,b=e.padding,E=e.placeholder,g=void 0===E?"Select":E,A=e.selectLabelName,T=void 0===A?"label_select":A,C=(0,a.$G)().t;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(o.k,{direction:"column",width:n,padding:b,margin:f,children:[(0,p.jsx)(s.l,{fontSize:"md",as:"b",margin:"0 0 5px",children:C(c)}),(0,p.jsx)(x,{placeholder:C(g),onChange:function(e){Array.isArray(r)&&r.map((function(i){i.value===+e.target.value&&l(m?{value:i.value,selectLabelName:T,label:i.label,name:u}:{value:i.value,name:u})}))},children:Array.isArray(r)?r.map((function(e){return(0,p.jsxs)("option",{value:e.value,selected:d===e.value&&!0,children:[" ",C(e.label)]},e.value)})):(0,p.jsx)("option",{disabled:!0,children:C("No data")})})]})})},j=(0,t.memo)(S)},6888:function(e,i,n){var t=n(2791),a=n(1986),o=n(3838),s=n(184),r=function(e){var i=e.width,n=e.Api,t=e.onChange,r=e.Label,l=e.name,c=void 0===l?"":l,_=e.value,d=void 0===_?0:_,u=e.withLabel,p=void 0!==u&&u,h=e.padding,m=e.margin,v=e.params,f=e.fetchOnFirstRun,b=void 0!==f&&f,E=e.selectLabelName,g=void 0===E?"label_select":E,x=(0,o.Z)({link:n,fetchOnFirstRun:b,params:v}).data;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.Z,{Options:x,onChange:t,Label:r,value:d,name:c,width:i,withLabel:p,margin:m,padding:h,selectLabelName:g})})};i.Z=(0,t.memo)(r)},5057:function(e,i,n){n.d(i,{Z:function(){return S}});var t=n(9439),a=n(2791),o=n(184),s=function(e){var i=e.icon,n=e.onClick,t=e.disabled,a=void 0!==t&&t,s=e.width,r=void 0===s?"30px":s,l=e.height,c=void 0===l?"30px":l,_=e.color,d=e.margin,u=void 0===d?"10px":d,p=e.padding,h=e.hidden,m=void 0!==h&&h;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{style:{border:"none",width:r,height:c,backgroundColor:_,padding:p,margin:u,borderRadius:"20px"},hidden:m,onClick:n,disabled:a,children:(0,o.jsx)("i",{className:i})})})},r=(0,a.memo)(s),l=n(898),c=n(4880),_=n(4045),d=n(9230),u=n(1146),p=n.n(u),h=n(1900),m=n(9229),v=n(3676),f=n(4087),b=n(2732),E=n(553),g=n(3129),x=n(5237),A=n(8500),T=n(4004),C=n(8535),S=function(e){var i=e.dataSource,n=e.height,s=void 0===n?"300px":n,u=e.rowKey,S=void 0===u?"rowKey":u,j=e.columns,L=e.hideTools,Z=void 0===L||L,R=e.canEdit,w=void 0!==R&&R,y=e.canAdd,O=void 0!==y&&y,I=e.canDelete,P=void 0!==I&&I,U=e.canExcel,k=void 0!==U&&U,N=e.onAdd,Y=e.onEdit,D=e.onDelete,M=e.actionColumn,B=void 0!==M&&M,Q=e.onAction,F=e.actionLabel,z=void 0===F?"":F,H=e.onSelectedRow,V=e.label,q=e.canPrint,G=void 0!==q&&q,W=(e.onPrint,e.additionalButtons),J=e.onSave,$=e.canSave,K=void 0!==$&&$,X=e.width,ee=void 0===X?"100%":X,ie=e.margin,ne=void 0===ie?"":ie,te=e.padding,ae=void 0===te?"":te,oe=e.loading,se=void 0!==oe&&oe,re=e.onDoubleClick,le=void 0===re?function(e){console.log(e)}:re,ce=(0,c.TH)().pathname,_e=(0,d.$G)().t,de=(0,a.useState)(),ue=(0,t.Z)(de,2),pe=ue[0],he=ue[1],me=(0,a.useCallback)((function(e){return function(){H&&H(e),he(e)}}),[H]),ve=(0,a.useCallback)((function(e){return function(){le&&le(e),he(e)}}),[le]),fe=(0,a.useCallback)((function(){var e=ce.replace("/",""),n=_.P6.book_new(),t=_.P6.json_to_sheet(i);_.P6.book_append_sheet(n,t,e),_.NC(n,"".concat(e," ").concat((new Date).toUTCString(),".xlsx"))}),[i,ce]),be=(0,a.useRef)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(h.x,{width:ee,padding:ae,margin:ne,children:[V&&(0,o.jsx)(m.x,{width:"100%",textAlign:"center",marginBottom:"7px",fontSize:"md",fontWeight:"bold",children:_e(V)}),(0,o.jsxs)(C.Z,{width:"100%",padding:"0",margin:"5px 0",justifyContent:"center",hidden:Z,children:[(0,o.jsx)(r,{icon:"fa-sharp fa-solid fa-plus",onClick:N,hidden:!O}),(0,o.jsx)(r,{icon:"fa-sharp fa-solid fa-pen-clip",onClick:Y,hidden:!w,disabled:!pe}),(0,o.jsx)(r,{icon:"fa-sharp fa-solid fa-trash",onClick:D,hidden:!P,disabled:!pe}),W&&W.map((function(e){return(0,o.jsx)(r,{icon:e.icon,onClick:e.onClick,disabled:e.disabled,hidden:!1})})),(0,o.jsx)(r,{icon:"fa-solid fa-floppy-disk",onClick:J,hidden:!K,disabled:!K}),(0,o.jsx)(p(),{trigger:function(){return(0,o.jsx)(r,{icon:"fa-solid fa-print",hidden:!G,disabled:!G})},content:function(){return be.current},documentTitle:"dd"}),(0,o.jsx)(r,{icon:"fa-sharp fa-regular fa-file-excel",onClick:fe,hidden:!k,disabled:!k})]}),(0,o.jsx)(v.O,{isLoaded:!se,fadeDuration:0,children:(0,o.jsxs)(f.xu,{overflowY:"auto",height:s,children:[(0,o.jsxs)(b.i,{ref:be,children:[(0,o.jsx)(E.h,{top:0,position:"sticky",bgColor:"#3edae6",children:(0,o.jsxs)(g.Tr,{children:[j.map((function(e){return(0,o.jsx)(x.Th,{maxWidth:e.width,minWidth:e.width,children:_e(e.title)})})),(0,o.jsx)(x.Th,{hidden:!B,children:_e("actn")})]})}),(0,o.jsx)(A.p,{children:null===i||void 0===i?void 0:i.map((function(e){return(0,o.jsxs)(g.Tr,{onClick:me(e),onDoubleClick:ve(e),background:"".concat(pe===e?"#dbffbf":""),children:[j.map((function(i){return(0,o.jsx)(T.Td,{maxWidth:i.width,minWidth:i.width,children:e[i.dataIndex]})})),(0,o.jsx)(T.Td,{hidden:!B,children:(0,o.jsx)(l.Z,{label:z,onClick:function(){Q(e)}})})]},e[S])}))})]}),!Array.isArray(i)||0===i.length&&!se?(0,o.jsx)(C.Z,{justifyContent:"center",width:"100%",children:(0,o.jsx)(m.x,{as:"b",fontSize:"md",color:"red",children:"No Data"})}):(0,o.jsx)(o.Fragment,{})]})})]})})}},399:function(e,i){i.Z={QUERY_CUSTOMER_TABLE_DATA:"basic_data/customers/customers_table_data",POST_CUSTOMER_TABLE_DATA:"basic_data/customers/customers_table_data_dml",QUERY_SUPPLIER_TABLE_DATA:"basic_data/suppliers/suppliers_table_data",POST_CUSTOMER_INVOICE_DETAILS:"invoices/customer_invoice/new_customer_invoice",POST_EMPLOYEE_ATTENDANCE:"employeesData/employee_attendance_dml",POST_EMPLOYEE_LEAVING:"employeesData/employee_leaving_dml",QUERY_EMPLOYEES_TABLE_DATA:"employees/employee_data/employee_table_data",POST_EMPLOYEES_TABLE_DATA:"employees/employee_data/employee_table_data_dml",QUERY_INVOICE_DETAIL_TABLE_DATA:"invoices/invoice_search/customer_supplier_invoice_detail_table",QUERY_INVOICE_MASTER_TABLE_DATA:"invoices/invoice_search/customer_supplier_invoice_main_table",QUERY_CUSTOMERS_INVOICES_FOT_TODAY:"invoices/invoice_search/customer_invoices_for_today",QUERY_SUPPLIERS_INVOICES_FOT_TODAY:"invoices/invoice_search/supplier_invoices_for_today",QUERY_ITEMS_TABLE_DATA:"basic_data/items/items_table_data",POST_ITEMS_TABLE_DATA:"basic_data/items/items_table_data_dml",QUERY_PRINT_OPTIONS_TABLE_DAT:"basic_data/print_options/print_options_table_data",POST_PRINT_OPTIONS_TABLE_DATA:"basic_data/print_options/print_options_table_data_dml",USER_LOG_IN:"auth_security/sign_in",POST_SUPPLIER_INVOICE:"invoices/supplier_invoice/new_supplier_invoice",QUERY_LABELS:"get_labels",QUERY_CHUNK_LABELS:"get_chunk_labels",QUERY_EMPLOYEE_NAME_LIST:"employeesData/pop_employee_name",QUERY_CUSTOMER_AND_SUPPLIER_LIST:"invoices/invoice_search/customer_supplier_list",QUERY_SUPPLIER_LIST:"basic_data/suppliers/suppliers_list",QUERY_CUSTOMERS_LIST:"basic_data/customers/customers_list",QUERY_ITEMS_LIST:"basic_data/items/items_list",QUERY_PRINT_OPTIONS_LIST:"basic_data/print_options/print_options_lins",QUERY_EMPLOYEE_SHEET_SALARY:"employeesData/employee_sheet",QUERY_CASHER_RECEIPT_VOUCHER_TABLE_DATA:"income_and_expenses/casher_receipt_voucher/main_table",POST_CASHER_RECEIPT_VOUCHER_TABLE_DATA:"income_and_expenses/casher_receipt_voucher/main_table_dml",QUERY_CASHER_PAYMENT_VOUCHER_TABLE_DATA:"income_and_expenses/casher_payment_voucher/main_table",POST_CASHER_PAYMENT_VOUCHER_TABLE_DATA:"income_and_expenses/casher_payment_voucher/main_table_dml",QUERY_MAIN_CHART_DATA:"home/dash_board_get_data",QUERY_EXPENSES_TYPES_TABLE_DATA:"basic_data/expenses_type/expenses_type_table_data",POST_EXPENSES_TYPES_TABLE_DATA:"basic_data/expenses_type/expenses_type_table_data_dml",GET_PRIMARY_IMAGE:"application_logo/primary_logo",QUERY_INVOICES_CHART_DATA:"charts/invoices_query",QUERY_USERS_TABLE_DATA:"auth_security/users_info",POST_USERS_TABLE_DATA:"auth_security/users_info_dml",QUERY_PAGE_NAME_MAIN_TABLE:"system_tools/page_name/page_name_table_data",POST_PAGE_NAME_MAIN_TABLE:"system_tools/page_name/page_name_table_data_dml",QUERY_CUSTOMER_SUMMARY_TABLE:"system_reports/customer_summary_table",QUERY_SUPPLIER_SUMMARY_TABLE:"system_reports/supplier_summary_table",QUERY_ITEM_SUMMARY_TABLE:"system_reports/items_summary_table",QUERY_DAILY_SUMMARY_TABLE:"system_reports/daily_summary_table",QUERY_ACCOUNTS_SUMMARY_TABLE:"system_reports/accounts_summary_table"}},5848:function(e,i,n){n.d(i,{_:function(){return t}});var t="".concat((new Date).getFullYear(),"-0").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())},3838:function(e,i,n){var t=n(4165),a=n(5861),o=n(9439),s=n(2791),r=n(399),l=n(1227),c=n(1295);i.Z=function(e){var i=e.link,n=void 0===i?"":i,_=e.fetchOnFirstRun,d=(e.refreshTimeout,e.params),u=e.noAuthorization,p=void 0!==u&&u,h=(0,c.p)(),m=(0,l.Z)().authorization,v="http://192.168.1.250:5000/api/".concat(r.Z[n]),f=(0,s.useState)(void 0),b=(0,o.Z)(f,2),E=b[0],g=b[1],x=(0,s.useState)(!1),A=(0,o.Z)(x,2),T=A[0],C=A[1],S=(0,s.useCallback)((0,a.Z)((0,t.Z)().mark((function e(){var i,n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),!m&&!p){e.next=11;break}return i={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(m)}},e.next=5,fetch("".concat(v,"?").concat(new URLSearchParams(d)),i);case 5:return n=e.sent,C(!1),e.next=9,n.json();case 9:a=e.sent,g(a);case 11:case"end":return e.stop()}}),e)}))),[m,p,d,v]),j=(0,s.useCallback)((function(){_&&S()}),[_,S]);(0,s.useEffect)((function(){_&&S()}),[_,S,v,d,j]),(0,s.useEffect)((function(){E&&E.response&&h({position:"top-right",title:"error",description:"".concat(JSON.stringify(E.response)),status:"error",duration:5e3,isClosable:!0})}),[E,h]);var L=(0,s.useCallback)((function(){S()}),[S]);return{data:E,runFetch:L,setData:g,loading:T}}},3388:function(e,i,n){n.d(i,{Z:function(){return c}});var t=n(3433),a=n(4942),o=n(1413),s=n(9439),r=n(2791),l=function(e){var i=(0,r.useRef)();return(0,r.useEffect)((function(){i.current=e})),i.current},c=function(e){var i=e.initialValues,n=(0,r.useState)(i),c=(0,s.Z)(n,2),_=c[0],d=c[1],u=(0,r.useRef)(!1),p=l(i),h=(0,r.useCallback)((function(){return!Object.is(JSON.stringify(p),JSON.stringify(i))}),[i,p]);(0,r.useEffect)((function(){h()&&d((0,o.Z)({},i))}),[h,i]);var m=(0,r.useCallback)((function(){u.current=!1,d((function(){return i}))}),[i]);(0,r.useEffect)((function(){return m}),[]);var v=(0,r.useCallback)((function(e){var i=e.name,n=e.value;d((0,o.Z)((0,o.Z)({},_),{},(0,a.Z)({},i,n)))}),[_]),f=(0,r.useCallback)((function(e){d(e)}),[]),b=(0,r.useCallback)((function(e){var i;d((0,o.Z)((0,o.Z)({},_),{},(i={},(0,a.Z)(i,e.name,e.value),(0,a.Z)(i,e.selectLabelName,e.label),i)))}),[_]),E=(0,r.useCallback)((function(e){var i=e.name,n=e.value;d((0,o.Z)((0,o.Z)({},_),{},(0,a.Z)({},i,[].concat((0,t.Z)(_[i]),[n]))))}),[_]);return{state:_,onChange:v,resetForm:m,handleRootState:f,handleSelectWithLabelChange:b,handleArrayChange:E}}},4082:function(e,i,n){var t=n(4165),a=n(5861),o=n(9439),s=n(2791),r=n(1227),l=n(399),c=n(1295);i.Z=function(e){var i=e.link,n=void 0===i?"":i,_=e.noAuthorization,d=void 0!==_&&_,u=e.additionalFunctionToRun,p=e.runOnSuccess,h=e.runOnFail,m=e.method,v=void 0===m?"POST":m,f=(0,c.p)(),b="http://192.168.1.250:5000/api/".concat(l.Z[n]),E=(0,s.useState)(),g=(0,o.Z)(E,2),x=g[0],A=g[1],T=(0,r.Z)().authorization,C=(0,s.useCallback)(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(i){var n,a,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T&&!d){e.next=17;break}return n={method:v,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(T)},body:JSON.stringify(i)},e.prev=2,e.next=5,fetch(b,n);case 5:return a=e.sent,e.next=8,a.json();case 8:return"success"===(o=e.sent).response?(f({position:"top-right",title:"Success",description:"".concat(o.response),status:"success",duration:5e3,isClosable:!0}),p&&p()):(f({position:"top-right",title:"Error",description:"".concat(o.message),status:"error",duration:9e3,isClosable:!0}),h&&h()),A(o),u&&u(),e.abrupt("return",o);case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(i){return e.apply(this,arguments)}}(),[u,T,v,d,h,p,f,b]);return{success:x,setRow:(0,s.useCallback)((function(e){C(e)}),[C])}}},1746:function(e,i,n){var t=n(2791),a=n(176),o=n(4585),s=n(4792),r=n(9230),l=n(184),c=function(e){var i=e.disabled,n=e.value,c=e.name,_=void 0===c?"number":c,d=e.Label,u=void 0===d?"":d,p=e.onChange,h=e.width,m=void 0===h?"200px":h,v=e.padding,f=e.margin,b=void 0===f?"10px":f,E=e.step,g=void 0===E?1:E,x=e.min,A=void 0===x?0:x,T=e.max,C=(0,r.$G)().t,S=(0,t.useCallback)((function(e){p({name:_,value:+e.target.value})}),[_,p]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(a.k,{direction:"column",width:m,padding:v,margin:b,children:[(0,l.jsx)(o.l,{children:C(u)}),(0,l.jsx)(s.Y2,{step:g,min:A,max:T,isDisabled:i,value:0|n,children:(0,l.jsx)(s.zu,{onChange:S})})]})})};i.Z=(0,t.memo)(c)},7595:function(e,i,n){var t=n(2791),a=n(9230),o=n(176),s=n(4585),r=n(6069),l=n(184),c=function(e){var i=e.disabled,n=e.value,c=e.name,_=e.Label,d=void 0===_?"":_,u=e.onChange,p=e.width,h=void 0===p?"200px":p,m=e.type,v=void 0===m?"text":m,f=e.placeHolder,b=e.padding,E=e.margin,g=void 0===E?"10px":E,x=e.className,A=void 0===x?"":x,T=e.required,C=void 0!==T&&T,S=(0,a.$G)().t,j=(0,t.useCallback)((function(e){u({name:c,value:e.target.value})}),[c,u]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(o.k,{direction:"column",width:h,padding:b,margin:g,children:[(0,l.jsx)(s.l,{children:S(d)}),(0,l.jsx)(r.I,{placeholder:f,size:"md",isDisabled:i,isRequired:C,onChange:j,width:"100%",className:A,value:n,type:v})]})})};i.Z=(0,t.memo)(c)},147:function(e,i,n){n.r(i),n.d(i,{default:function(){return T}});var t=n(1413),a=n(2791),o=n(5057),s=n(5987),r=n(7595),l=n(5848),c=n(184),_=["value"],d=function(e){var i=e.value,n=(0,s.Z)(e,_);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(r.Z,(0,t.Z)((0,t.Z)({type:"date"},n),{},{value:""!==i?i:l._}))})},u=(0,a.memo)(d),p=n(3388),h=n(4082),m=n(6888),v=n(898),f=n(8535),b=n(1746),E=[{title:"itmnm",width:"11.1%",dataIndex:"item_name"},{title:"wdth",width:"11.1%",dataIndex:"supplier_invoice_item_width"},{title:"hght",width:"11.1%",dataIndex:"supplier_invoice_item_height"},{title:"sz",width:"11.1%",dataIndex:"supplier_invoice_item_size"},{title:"qnty",width:"11.1%",dataIndex:"supplier_invoice_item_quantity"},{title:"prc",width:"11.1%",dataIndex:"supplier_invoice_item_price"},{title:"total",width:"11.1%",dataIndex:"supplier_invoice_item_total"},{title:"nts",width:"11.1%",dataIndex:"supplier_invoice_item_notes"}],g=function(e){var i=e.onChange,n=e.state,o=e.handleRootState,s=e.handleSelectWithLabelChange;return(0,a.useEffect)((function(){o((0,t.Z)((0,t.Z)({},n),{},{supplier_invoice_item_size:+n.supplier_invoice_item_width*+n.supplier_invoice_item_height,supplier_invoice_item_total:+n.supplier_invoice_item_quantity*+n.supplier_invoice_item_price*+n.supplier_invoice_item_width*+n.supplier_invoice_item_height}))}),[n.supplier_invoice_item_width,n.supplier_invoice_item_height,n.supplier_invoice_item_quantity,n.supplier_invoice_item_price]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(f.Z,{width:"100%",flexDirection:"column",margin:"0",padding:"0",children:[(0,c.jsx)(f.Z,{margin:"0",padding:"0",children:(0,c.jsx)(m.Z,{Api:"QUERY_ITEMS_LIST",onChange:s,value:n.supplier_invoice_item_id,Label:"itmnm",name:"supplier_invoice_item_id",withLabel:!0,fetchOnFirstRun:!0,selectLabelName:"item_name"})}),(0,c.jsxs)(f.Z,{margin:"0",padding:"0",children:[(0,c.jsx)(b.Z,{name:"supplier_invoice_item_width",value:n.supplier_invoice_item_width,Label:"wdth",onChange:i,width:"14%"}),(0,c.jsx)(b.Z,{name:"supplier_invoice_item_height",value:n.supplier_invoice_item_height,Label:"hght",onChange:i,width:"14%"}),(0,c.jsx)(b.Z,{name:"supplier_invoice_item_size",value:n.supplier_invoice_item_size,Label:"sz",onChange:i,disabled:!0,width:"14%"}),(0,c.jsx)(b.Z,{name:"supplier_invoice_item_quantity",value:n.supplier_invoice_item_quantity,Label:"qty",onChange:i,width:"14%"}),(0,c.jsx)(b.Z,{name:"supplier_invoice_item_price",value:n.supplier_invoice_item_price,Label:"prc",onChange:i,width:"14%"}),(0,c.jsx)(b.Z,{name:"supplier_invoice_item_total",value:n.supplier_invoice_item_total,Label:"total",onChange:i,disabled:!0,width:"14%"}),(0,c.jsx)(r.Z,{name:"supplier_invoice_item_notes",value:n.supplier_invoice_item_notes,Label:"nts",onChange:i,width:"14%"})]})]})})},x=(0,a.memo)(g),A=function(){var e=(0,p.Z)({initialValues:{supplier_id:0,supplier_name:"",supplier_invoice_date:l._,supplier_invoice_items:[],query_status:"n",supplier_invoice_total:0,supplier_invoice_discount:0,supplier_invoice_after_discount:0,supplier_invoice_paid:0,supplier_invoice_credit:0}}),i=e.state,n=e.onChange,s=e.resetForm,r=e.handleRootState,_=e.handleArrayChange,d=e.handleSelectWithLabelChange,g=(0,p.Z)({initialValues:{supplier_invoice_item_id:0,supplier_invoice_item_width:0,supplier_invoice_item_height:0,supplier_invoice_item_size:0,supplier_invoice_item_quantity:0,supplier_invoice_item_price:0,supplier_invoice_item_total:0,supplier_invoice_item_notes:"",item_name:""}}),A=g.state,T=g.onChange,C=g.handleRootState,S=g.handleSelectWithLabelChange,j=g.resetForm,L=(0,h.Z)({link:"POST_SUPPLIER_INVOICE",runOnSuccess:s}).setRow,Z=(0,a.useCallback)((function(){L(i)}),[L,i]);(0,a.useEffect)((function(){if(Array.isArray(i.supplier_invoice_items)&&0!==i.supplier_invoice_items.length){var e=0;i.supplier_invoice_items.forEach((function(i){e+=i.supplier_invoice_item_total})),n({name:"supplier_invoice_total",value:e})}}),[i.supplier_invoice_items]),(0,a.useEffect)((function(){r((0,t.Z)((0,t.Z)({},i),{},{supplier_invoice_after_discount:i.supplier_invoice_total-i.supplier_invoice_discount,supplier_invoice_credit:i.supplier_invoice_total-i.supplier_invoice_discount-i.supplier_invoice_paid}))}),[i.supplier_invoice_total,i.supplier_invoice_discount,i.supplier_invoice_paid]);var R=[{icon:"fa-solid fa-broom",onClick:s}],w=(0,a.useCallback)((function(){_({name:"supplier_invoice_items",value:A}),j()}),[A,_,j]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(f.Z,{flexDirection:"column",width:"100%",children:[(0,c.jsxs)(f.Z,{margin:"0",padding:"0",children:[(0,c.jsx)(m.Z,{Api:"QUERY_SUPPLIER_LIST",onChange:d,value:i.supplier_id,Label:"splr",name:"supplier_id",fetchOnFirstRun:!0,withLabel:!0,selectLabelName:"supplier_name"}),(0,c.jsx)(u,{name:"supplier_invoice_date",value:i.supplier_invoice_date,Label:"dt",onChange:n})]}),(0,c.jsx)(x,{state:A,onChange:T,handleRootState:C,handleSelectWithLabelChange:S}),(0,c.jsx)(o.Z,{columns:E,dataSource:i.supplier_invoice_items,actionColumn:!0,actionLabel:"Delete",hideTools:!1,onAdd:w,canAdd:!0,canPrint:!0,additionalButtons:R}),(0,c.jsxs)(f.Z,{width:"100%",justifyContent:"space-around",children:[(0,c.jsx)(b.Z,{name:"supplier_invoice_total",disabled:!0,value:i.supplier_invoice_total,Label:"total",width:"15%"}),(0,c.jsx)(b.Z,{name:"supplier_invoice_discount",value:i.supplier_invoice_discount,Label:"dscnt",onChange:n,width:"15%"}),(0,c.jsx)(b.Z,{name:"supplier_invoice_after_discount",disabled:!0,value:i.supplier_invoice_after_discount,Label:"Tlaftrdsnt",width:"15%"}),(0,c.jsx)(b.Z,{name:"supplier_invoice_paid",value:i.supplier_invoice_paid,Label:"paid",onChange:n,width:"15%"}),(0,c.jsx)(b.Z,{name:"supplier_invoice_credit",disabled:!0,value:i.supplier_invoice_credit,Label:"Crdt",width:"15%"}),(0,c.jsx)(v.Z,{label:"sv",width:"15%",margin:"30px 0",onClick:Z})]})]})})},T=(0,a.memo)(A)}}]);
//# sourceMappingURL=147.ffd3dc62.chunk.js.map