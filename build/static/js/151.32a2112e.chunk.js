"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[151],{3224:(e,n,t)=>{t.d(n,{Z:()=>m});var a=t(2791);const i=()=>{const e=(0,a.useRef)(),n=(0,a.useCallback)((async()=>{var n;return await(null===(n=e.current)||void 0===n?void 0:n.handleOpen())}),[e]);return{PDFRef:e,handleOpenModal:n}};var l=t(6314),o=t(184);const r=(e,n)=>{let{reportName:t,params:i}=e;const[r,s]=(0,a.useState)(!1),d=(0,a.useCallback)((()=>{s(!0)}),[]),c=(0,a.useCallback)((()=>{s(!1)}),[]);(0,a.useImperativeHandle)(n,(()=>({handleOpen:d})));const u="http://192.168.1.250:5000/system_pdf_generate/".concat(t,"?").concat(new URLSearchParams(i));return(0,o.jsx)(l.Z,{label:"PDF Viewer",visible:r,onClose:c,noFooter:!0,width:"90%",height:"80%",children:(0,o.jsx)("object",{data:u,width:"100%",height:"100%",children:"Your browser does not support pdf files."})})},s=(0,a.memo)((0,a.forwardRef)(r));var d=t(890);const c=e=>{let{visible:n,onClose:t,onConfirm:i,message:r}=e;const s=(0,a.useCallback)((()=>{i(),t()}),[t,i]);return(0,o.jsx)(l.Z,{label:"cnfrmtn",visible:n,onClose:t,width:"25%",onOK:s,submitTitle:"cnfrm",children:r||"Are you want to continue ?"})},u=(0,a.memo)(c);var h=t(6903),p=t(7262);const b=(e,n)=>{let{api:t,postApi:r,columns:c,ModalContent:b,onClick:m,fetchOnFirstRun:g=!1,params:x,checkForParams:v=!1,modalWidth:f="60%",printProps:C,reportName:w,...k}=e;const{data:Z,runFetch:j,loading:y,setData:F,resetData:S}=(0,d.Z)({link:t,fetchOnFirstRun:g,params:x,checkForParams:v}),{onSaveAndInsertion:R}=(0,p.Z)({api:r,runFetch:j}),{PDFRef:T,handleOpenModal:D}=i(),[O,P]=(0,a.useState)({}),[A,_]=(0,a.useState)(!1),[I,E]=(0,a.useState)(!1),z=(0,a.useCallback)((()=>{P({query_status:"n"}),_(!0)}),[P]),N=(0,a.useCallback)((()=>{P({...O,query_status:"u"}),_(!0)}),[O,P]),M=(0,a.useCallback)((()=>{_(!1)}),[]),q=(0,a.useCallback)((()=>{E(!1)}),[]),B=(0,a.useCallback)((()=>{E(!0)}),[]),K=(0,a.useMemo)((()=>null===Z||void 0===Z?void 0:Z.data),[null===Z||void 0===Z?void 0:Z.data]),U=(0,a.useCallback)((()=>{O&&D()}),[D,O]);return(0,a.useImperativeHandle)(n,(()=>({runFetch:j,setTableData:F,resetTableData:S,getCurrentDataSource:()=>K}))),(0,o.jsxs)(o.Fragment,{children:[b&&(0,o.jsx)(l.Z,{visible:A,onClose:M,hideCloseButton:!0,hideSaveButton:!0,label:"dtls",noFooter:!0,width:f,children:(0,o.jsx)(b,{onClose:M,selectedRow:O,refreshTable:j})}),(0,o.jsx)(u,{visible:I,onConfirm:()=>{R({...O,query_status:"d"})},onClose:q}),(0,o.jsx)(s,{ref:T,reportName:w,params:C}),(0,o.jsx)(h.Z,{dataSource:null===Z||void 0===Z?void 0:Z.data,columns:c,onAdd:z,onEdit:N,onPrint:U,onDelete:B,onSelectedRow:e=>{P(e),m&&m(e)},loading:y,...k})]})},m=(0,a.memo)((0,a.forwardRef)(b))},6590:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(2791);const i=()=>{const e=(0,a.useRef)(),n=(0,a.useCallback)((async n=>{var t;return await(null===(t=e.current)||void 0===t?void 0:t.runFetch(n))}),[e]),t=(0,a.useCallback)((()=>{var n;return(null===(n=e.current)||void 0===n?void 0:n.getCurrentDataSource())||[]}),[e]),i=(0,a.useCallback)((n=>{var t;return(null===(t=e.current)||void 0===t?void 0:t.setTableData(n))||[]}),[e]),l=(0,a.useCallback)((()=>{var n;return(null===(n=e.current)||void 0===n?void 0:n.resetTableData())||[]}),[e]);return{tableRef:e,fetchTableData:n,getTableData:t,setTableData:i,resetTable:l}}},7262:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(2791),i=t(4082);const l=e=>{let{api:n="",runFetch:t}=e;const{setRow:l}=(0,i.Z)({link:n,additionalFunctionToRun:t,method:"POST"}),{setRow:o}=(0,i.Z)({link:n,additionalFunctionToRun:t,method:"PUT"}),{setRow:r}=(0,i.Z)({link:n,additionalFunctionToRun:t,method:"Delete"});return{onSaveAndInsertion:(0,a.useCallback)((e=>{"n"===e.query_status?l(e):"u"===e.query_status?o(e):"d"===e.query_status&&r(e)}),[l,o,r])}}},4826:(e,n,t)=>{t.d(n,{Z:()=>p});var a,i,l=t(2791),o=t(9230),r=t(168),s=t(225);const d=s.Z.div(a||(a=(0,r.Z)(["\n  position: relative;\n  margin: ",";\n  padding: ",";\n  height: ",";\n  width: ",";\n"])),(e=>{let{margin:n}=e;return n}),(e=>{let{padding:n}=e;return n||"5px 0"}),(e=>{let{height:n}=e;return n}),(e=>{let{width:n}=e;return n})),c=s.Z.label(i||(i=(0,r.Z)(["\n  position: absolute;\n  top: ",";\n  left: 10px;\n  color: #999;\n  padding: 0;\n  margin: 0;\n  transition: top 0.3s, font-size 0.3s, background-color 0.5s;\n\n  ","\n"])),(e=>{let{top:n}=e;return n||"5px"}),(e=>{let{hasContent:n}=e;return n&&"\n    top: -5px;\n    font-size: 12px;\n    color: #007bff;\n    font-size: 14px;\n    background-color: white;\n  "}));var u=t(184);const h=e=>{let{hasContent:n,name:t,label:a="",height:i,width:l="200px",padding:r,margin:s,children:h,hidden:p,top:b}=e;const{t:m}=(0,o.$G)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d,{width:l,height:i,margin:s,padding:r,hidden:p,children:[h,(0,u.jsx)(c,{top:b,htmlFor:t,hasContent:n,children:m(a)})]})})},p=(0,l.memo)(h)},3388:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(2791);const i=e=>{const n=(0,a.useRef)();return(0,a.useEffect)((()=>{n.current=e})),n.current},l=e=>{let{initialValues:n}=e;const[t,l]=(0,a.useState)(n),o=(0,a.useRef)(!1),r=i(n),s=(0,a.useCallback)((()=>!Object.is(JSON.stringify(r),JSON.stringify(n))),[n,r]);(0,a.useEffect)((()=>{s()&&l({...n})}),[s,n]);const d=(0,a.useCallback)((()=>{o.current=!1,l((()=>n))}),[n]);(0,a.useEffect)((()=>d),[]);const c=(0,a.useCallback)((e=>{const{name:n,value:a}=e;l({...t,[n]:a})}),[t]),u=(0,a.useCallback)((e=>{l({...t,...e})}),[t]),h=(0,a.useCallback)((e=>{l({...t,[e.name]:e.value,[e.selectLabelName]:e.label})}),[t]),p=(0,a.useCallback)((e=>{let{name:n,value:a}=e;l({...t,[n]:[...t[n],a]})}),[t]);return{state:t,onChange:c,resetForm:d,handleRootState:l,handleSelectWithLabelChange:h,handleArrayChange:p,handleMultiInput:u}}},4082:(e,n,t)=>{t.d(n,{Z:()=>r});var a=t(2791),i=t(1227),l=t(399),o=t(8382);const r=e=>{let{link:n="",noAuthorization:t=!1,additionalFunctionToRun:r,runOnSuccess:s,runOnFail:d,method:c="POST"}=e;const u=(0,o.p)(),h="http://192.168.1.250:5000/api/".concat(l.Z[n]),[p,b]=(0,a.useState)(),{authorization:m}=(0,i.Z)(),g=(0,a.useCallback)((async e=>{if(m||t){const t={method:c,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(m)},body:JSON.stringify(e)};try{const e=await fetch(h,t),n=await e.json();return"success"===n.response?(u({position:"top-right",title:"Success",description:"".concat(n.response),status:"success",duration:5e3,isClosable:!0}),s&&s()):(u({position:"top-right",title:"Error",description:"".concat(n.message),status:"error",duration:9e3,isClosable:!0}),d&&d()),b(n),r&&r(),n}catch(n){}}}),[r,m,c,t,d,s,u,h]);return{success:p,setRow:(0,a.useCallback)((e=>{g(e)}),[g])}}},6314:(e,n,t)=>{t.d(n,{Z:()=>C});var a,i,l,o,r,s=t(2791),d=t(81),c=t(2125),u=t(168),h=t(225);const p=h.Z.div(a||(a=(0,u.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n"]))),b=h.Z.div(i||(i=(0,u.Z)(["\n  /* position: relative;\n    margin: 5% auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: ",";\n    height: ",";\n    background-color: white;\n    border-radius: 15px; */\n  /* max-height: 90vh;\n\tmax-width: 500px; */\n  width: ",";\n  height: ",";\n  margin-left: auto;\n  margin-right: auto;\n  background-color: #fff;\n  border-radius: 15px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 15px 30px 0 rgba(#000, 0.25);\n  @media (max-width: 600px) {\n    width: 90%;\n  }\n"])),(e=>{let{width:n}=e;return n}),(e=>{let{height:n}=e;return n}),(e=>{let{width:n}=e;return n}),(e=>{let{height:n}=e;return n})),m=h.Z.div(l||(l=(0,u.Z)(["\n  padding: 15px 32px;\n  border-bottom: 1px solid #ddd;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),g=h.Z.div(o||(o=(0,u.Z)(["\n  margin: 10px 15px;\n  overflow-y: auto;\n  height: 100%;\n"]))),x=h.Z.div(r||(r=(0,u.Z)(['\n  padding: 35px 32px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  border-top: 1px solid #ddd;\n  gap: 12px;\n  position: relative;\n  &:after {\n    content: "";\n    display: block;\n    position: absolute;\n    top: -51px;\n    left: 24px;\n    right: 24px;\n    height: 50px;\n    flex-shrink: 0;\n    background-image: linear-gradient(to top, rgba(#fff, 0.75), transparent);\n    pointer-events: none;\n  }\n'])));var v=t(184);const f=e=>{let{children:n,visible:t=!1,label:a,onClose:i,onOK:l,submitTitle:o="smbt",width:r="90%",height:s="auto",hideSaveButton:u=!1,hideCloseButton:h=!1,noFooter:f=!1}=e;return(0,v.jsx)(v.Fragment,{children:t&&(0,v.jsx)(p,{hidden:!t,children:(0,v.jsxs)(b,{width:r,height:s,children:[(0,v.jsxs)(m,{children:[(0,v.jsx)(c.Z,{children:a}),(0,v.jsx)(d.Z,{label:"\xd7",width:"5%",backGround:"none",margin:"0",padding:"0","data-dismiss":"modal",onClick:i,fontWeight:"19px"})]}),(0,v.jsx)(g,{children:n}),!f&&(0,v.jsxs)(x,{hidden:f,children:[!u&&(0,v.jsx)(d.Z,{onClick:l,label:o,hidden:u,width:"20%",margin:"0"}),!h&&(0,v.jsx)(d.Z,{onClick:i,label:"cls",hidden:h,width:"20%",backGround:"red",margin:"0"})]})]})})})},C=(0,s.memo)(f)},4663:(e,n,t)=>{t.d(n,{Z:()=>g});var a,i,l,o=t(2791),r=t(9230),s=t(4826),d=t(168),c=t(9256);const u=c.ZP.div(a||(a=(0,d.Z)(["\n  width: 100%;\n  padding: 5px 7px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  gap: 10px;\n  background-color: white;\n"]))),h=c.ZP.label(i||(i=(0,d.Z)(["\n  display: block;\n  font-size: 14px;\n"]))),p=c.ZP.input(l||(l=(0,d.Z)(["\n  margin-right: 5px;\n"])));var b=t(184);const m=e=>{let{name:n,options:t,width:a,onChange:i,value:l,label:d,margin:c,padding:m,height:g,hidden:x,disabled:v}=e;const{t:f}=(0,r.$G)(),C=(0,o.useCallback)((e=>{var t;i({name:n,value:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.defaultValue})}),[n,i]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(s.Z,{width:a,height:g,padding:m,margin:c,label:d,hidden:x,top:"-8px",children:(0,b.jsx)(u,{children:t.map((e=>(0,b.jsxs)(h,{children:[(0,b.jsx)(p,{type:"radio",value:e.value,onClick:C,checked:e.value===l,disabled:v}),f(e.label)]})))})})})},g=(0,o.memo)(m)},7151:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var a=t(2791),i=t(4663),l=t(3388),o=t(5410),r=t(6590),s=t(3224),d=t(81);const c=[{label:"splr",value:"S"},{label:"cstmr",value:"C"},{label:"itms",value:"I"},{label:"expns",value:"E"}],u=[{title:"id",dataIndex:"rowKey",width:"8%"},{title:"nm",dataIndex:"record_name",width:"30%"},{title:"crdt",dataIndex:"credit",width:"20%"},{title:"dbt",dataIndex:"debit",width:"20%"},{title:"total",dataIndex:"total",width:"20%"}];var h=t(184);const p=()=>{const{state:e,onChange:n}=(0,l.Z)({initialValues:{type:"C"}}),{tableRef:t,fetchTableData:p}=(0,r.Z)(),b=(0,a.useCallback)((()=>{p({type:e.type})}),[p,e.type]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(o.Z,{bordered:!0,width:"100%",wrap:!0,children:[(0,h.jsx)(i.Z,{name:"type",onChange:n,value:null===e||void 0===e?void 0:e.type,label:"type",options:c}),(0,h.jsx)(d.Z,{onClick:b,label:"search",width:"10%"})]}),(0,h.jsx)(s.Z,{ref:t,api:"QUERY_ACCOUNTS_SUMMARY_TABLE",columns:u,hideTools:!1,canExcel:!0,rowKey:"rowKey"})]})},b=(0,a.memo)(p)}}]);
//# sourceMappingURL=151.32a2112e.chunk.js.map