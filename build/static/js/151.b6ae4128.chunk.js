"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[151],{8535:function(n,e,i){var t=i(1413),a=i(9439),o=i(5987),r=i(2791),d=i(6582),c=i(184),l=["children","justifyContent","width","height","padding","margin","bordered","backgroundColor","borderColor","borderWidth","borderRadius","flexDirection","textAlign","hidden","wrap"],s=function(n){var e=n.children,i=n.justifyContent,s=n.width,u=n.height,h=n.padding,f=void 0===h?"10px":h,p=n.margin,x=n.bordered,v=void 0!==x&&x,b=n.backgroundColor,m=n.borderColor,g=void 0===m?"#3c8dcf":m,C=n.borderWidth,j=void 0===C?"px":C,k=n.borderRadius,w=void 0===k?"5px":k,Z=n.flexDirection,y=void 0===Z?"row":Z,S=n.textAlign,R=void 0===S?"":S,F=n.hidden,T=void 0!==F&&F,A=n.wrap,_=(0,o.Z)(n,l),D=(0,r.useState)(""),O=(0,a.Z)(D,2),E=(O[0],O[1]);return(0,r.useEffect)((function(){v&&E("".concat(j," solid ").concat(g))}),[g,j,v]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.k,(0,t.Z)((0,t.Z)({width:s,height:u,padding:f,margin:p,background:b,borderRadius:w,flexDirection:y,textAlign:R,justifyContent:i,hidden:T,wrap:A?"wrap":""},_),{},{children:e}))})};e.Z=(0,r.memo)(s)},7940:function(n,e,i){i.d(e,{Z:function(){return y}});var t=i(1413),a=i(9439),o=i(5987),r=i(2791),d=i(5057),c=i(890),l=i(9230),s=i(990),u=i(8874),h=i(2989),f=i(5473),p=i(634),x=i(6241),v=i(6582),b=i(7685),m=i(9055),g=i(184),C=function(n){var e=n.children,i=n.visible,t=void 0!==i&&i,a=n.label,o=n.onClose,r=n.onOK,d=n.submitTitle,c=void 0===d?"smbt":d,C=n.width,j=void 0===C?"3xl":C,k=n.hideSaveButton,w=void 0!==k&&k,Z=n.hideCloseButton,y=void 0!==Z&&Z,S=(0,l.$G)().t;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(s.u_,{isOpen:t,onClose:o,size:j,children:[(0,g.jsx)(u.Z,{}),(0,g.jsxs)(h.h,{children:[(0,g.jsx)(f.x,{children:S(a)}),(0,g.jsx)(p.o,{}),(0,g.jsx)(x.f,{children:(0,g.jsx)(v.k,{w:"100%",padding:"5px",wrap:"wrap",children:e})}),(0,g.jsx)(b.m,{children:(0,g.jsxs)(v.k,{w:"25%",justifyContent:"space-around",children:[(0,g.jsx)(m.z,{colorScheme:"red",mr:3,onClick:o,hidden:y,children:S("cls")}),(0,g.jsx)(m.z,{colorScheme:"blue",onClick:r,hidden:w,children:S(c)})]})})]})]})})},j=(0,r.memo)(C),k=i(7262),w=["api","postApi","columns","ModalContent","onClick","fetchOnFirstRun","params","checkForParams"],Z=function(n,e){var i=n.api,l=n.postApi,s=n.columns,u=n.ModalContent,h=n.onClick,f=n.fetchOnFirstRun,p=void 0!==f&&f,x=n.params,v=(n.checkForParams,(0,o.Z)(n,w)),b=(0,c.Z)({link:i,fetchOnFirstRun:p,params:x,checkForParams:!0}),m=b.data,C=b.runFetch,Z=b.loading,y=(0,k.Z)({api:l,runFetch:C}).onSaveAndInsertion,S=(0,r.useState)({}),R=(0,a.Z)(S,2),F=R[0],T=R[1],A=(0,r.useState)(!1),_=(0,a.Z)(A,2),D=_[0],O=_[1],E=(0,r.useCallback)((function(){T({query_status:"n"}),O(!0)}),[T]),P=(0,r.useCallback)((function(){T((0,t.Z)((0,t.Z)({},F),{},{query_status:"u"})),O(!0)}),[F,T]),I=(0,r.useCallback)((function(){O(!1)}),[]);return(0,r.useImperativeHandle)(e,(function(){return{runFetch:C}})),(0,g.jsxs)(g.Fragment,{children:[u&&(0,g.jsx)(j,{visible:D,onClose:I,hideCloseButton:!0,hideSaveButton:!0,label:"dtls",children:(0,g.jsx)(u,{onClose:I,selectedRow:F,refreshTable:C})}),(0,g.jsx)(d.Z,(0,t.Z)({dataSource:null===m||void 0===m?void 0:m.data,columns:s,onAdd:E,onEdit:P,onDelete:function(){y((0,t.Z)((0,t.Z)({},F),{},{query_status:"d"}))},onSelectedRow:function(n){T(n),h&&h(n)},loading:Z},v))]})},y=(0,r.memo)((0,r.forwardRef)(Z))},5057:function(n,e,i){i.d(e,{Z:function(){return y}});var t=i(9439),a=i(2791),o=i(184),r=function(n){var e=n.icon,i=n.onClick,t=n.disabled,a=void 0!==t&&t,r=n.width,d=void 0===r?"30px":r,c=n.height,l=void 0===c?"30px":c,s=n.color,u=n.margin,h=void 0===u?"10px":u,f=n.padding,p=n.hidden,x=void 0!==p&&p;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{style:{border:"none",width:d,height:l,backgroundColor:s,padding:f,margin:h,borderRadius:"20px"},hidden:x,onClick:i,disabled:a,children:(0,o.jsx)("i",{className:e})})})},d=(0,a.memo)(r),c=i(898),l=i(4880),s=i(4045),u=i(9230),h=i(1146),f=i.n(h),p=i(1813),x=i(2715),v=i(8773),b=i(824),m=i(1364),g=i(5802),C=i(8733),j=i(7588),k=i(2940),w=i(5606),Z=i(8535),y=function(n){var e=n.dataSource,i=n.height,r=void 0===i?"300px":i,h=n.rowKey,y=void 0===h?"rowKey":h,S=n.columns,R=n.hideTools,F=void 0===R||R,T=n.canEdit,A=void 0!==T&&T,_=n.canAdd,D=void 0!==_&&_,O=n.canDelete,E=void 0!==O&&O,P=n.canExcel,I=void 0!==P&&P,z=n.onAdd,N=n.onEdit,W=n.onDelete,B=n.actionColumn,L=void 0!==B&&B,K=n.onAction,q=n.actionLabel,U=void 0===q?"":q,M=n.onSelectedRow,Y=n.label,G=n.canPrint,J=void 0!==G&&G,$=(n.onPrint,n.additionalButtons),H=n.onSave,V=n.canSave,Q=void 0!==V&&V,X=n.width,nn=void 0===X?"100%":X,en=n.margin,tn=void 0===en?"":en,an=n.padding,on=void 0===an?"":an,rn=n.loading,dn=void 0!==rn&&rn,cn=n.onDoubleClick,ln=void 0===cn?function(n){console.log(n)}:cn,sn=(0,l.TH)().pathname,un=(0,u.$G)().t,hn=(0,a.useState)(),fn=(0,t.Z)(hn,2),pn=fn[0],xn=fn[1],vn=(0,a.useCallback)((function(n){return function(){M&&M(n),xn(n)}}),[M]),bn=(0,a.useCallback)((function(n){return function(){ln&&ln(n),xn(n)}}),[ln]),mn=(0,a.useCallback)((function(){var n=sn.replace("/",""),i=s.P6.book_new(),t=s.P6.json_to_sheet(e);s.P6.book_append_sheet(i,t,n),s.NC(i,"".concat(n," ").concat((new Date).toUTCString(),".xlsx"))}),[e,sn]),gn=(0,a.useRef)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(p.x,{width:nn,padding:on,margin:tn,children:[Y&&(0,o.jsx)(x.x,{width:"100%",textAlign:"center",marginBottom:"7px",fontSize:"md",fontWeight:"bold",children:un(Y)}),(0,o.jsxs)(Z.Z,{width:"100%",padding:"0",margin:"5px 0",justifyContent:"center",hidden:F,children:[(0,o.jsx)(d,{icon:"fa-sharp fa-solid fa-plus",onClick:z,hidden:!D}),(0,o.jsx)(d,{icon:"fa-sharp fa-solid fa-pen-clip",onClick:N,hidden:!A,disabled:!pn}),(0,o.jsx)(d,{icon:"fa-sharp fa-solid fa-trash",onClick:W,hidden:!E,disabled:!pn}),$&&$.map((function(n){return(0,o.jsx)(d,{icon:n.icon,onClick:n.onClick,disabled:n.disabled,hidden:!1})})),(0,o.jsx)(d,{icon:"fa-solid fa-floppy-disk",onClick:H,hidden:!Q,disabled:!Q}),(0,o.jsx)(f(),{trigger:function(){return(0,o.jsx)(d,{icon:"fa-solid fa-print",hidden:!J,disabled:!J})},content:function(){return gn.current},documentTitle:"dd"}),(0,o.jsx)(d,{icon:"fa-sharp fa-regular fa-file-excel",onClick:mn,hidden:!I,disabled:!I})]}),(0,o.jsx)(v.O,{isLoaded:!dn,fadeDuration:0,children:(0,o.jsxs)(b.xu,{overflowY:"auto",height:r,children:[(0,o.jsxs)(m.i,{ref:gn,children:[(0,o.jsx)(g.h,{top:0,position:"sticky",bgColor:"#3edae6",children:(0,o.jsxs)(C.Tr,{children:[S.map((function(n){return(0,o.jsx)(j.Th,{maxWidth:n.width,minWidth:n.width,children:un(n.title)})})),(0,o.jsx)(j.Th,{hidden:!L,children:un("actn")})]})}),(0,o.jsx)(k.p,{children:null===e||void 0===e?void 0:e.map((function(n){return(0,o.jsxs)(C.Tr,{onClick:vn(n),onDoubleClick:bn(n),background:"".concat(pn===n?"#dbffbf":""),children:[S.map((function(e){return(0,o.jsx)(w.Td,{maxWidth:e.width,minWidth:e.width,children:n[e.dataIndex]})})),(0,o.jsx)(w.Td,{hidden:!L,children:(0,o.jsx)(c.Z,{label:U,onClick:function(){K(n)}})})]},n[y])}))})]}),!Array.isArray(e)||0===e.length&&!dn?(0,o.jsx)(Z.Z,{justifyContent:"center",width:"100%",children:(0,o.jsx)(x.x,{as:"b",fontSize:"md",color:"red",children:"No Data"})}):(0,o.jsx)(o.Fragment,{})]})})]})})}},6590:function(n,e,i){var t=i(4165),a=i(5861),o=i(2791);e.Z=function(){var n,e=(0,o.useRef)(),i=(0,o.useCallback)((function(i){return(n=n||(0,a.Z)((0,t.Z)().mark((function n(i){var a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===(a=e.current)||void 0===a?void 0:a.runFetch(i);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}),[e]);return{tableRef:e,fetchTableData:i}}},7262:function(n,e,i){var t=i(2791),a=i(4082);e.Z=function(n){var e=n.api,i=void 0===e?"":e,o=n.runFetch,r=(0,a.Z)({link:i,additionalFunctionToRun:o,method:"POST"}).setRow,d=(0,a.Z)({link:i,additionalFunctionToRun:o,method:"PUT"}).setRow,c=(0,a.Z)({link:i,additionalFunctionToRun:o,method:"Delete"}).setRow;return{onSaveAndInsertion:(0,t.useCallback)((function(n){"n"===n.query_status?r(n):"u"===n.query_status?d(n):"d"===n.query_status&&c(n)}),[r,d,c])}}},3388:function(n,e,i){i.d(e,{Z:function(){return l}});var t=i(3433),a=i(4942),o=i(1413),r=i(9439),d=i(2791),c=function(n){var e=(0,d.useRef)();return(0,d.useEffect)((function(){e.current=n})),e.current},l=function(n){var e=n.initialValues,i=(0,d.useState)(e),l=(0,r.Z)(i,2),s=l[0],u=l[1],h=(0,d.useRef)(!1),f=c(e),p=(0,d.useCallback)((function(){return!Object.is(JSON.stringify(f),JSON.stringify(e))}),[e,f]);(0,d.useEffect)((function(){p()&&u((0,o.Z)({},e))}),[p,e]);var x=(0,d.useCallback)((function(){h.current=!1,u((function(){return e}))}),[e]);(0,d.useEffect)((function(){return x}),[]);var v=(0,d.useCallback)((function(n){var e=n.name,i=n.value;u((0,o.Z)((0,o.Z)({},s),{},(0,a.Z)({},e,i)))}),[s]),b=(0,d.useCallback)((function(n){u(n)}),[]),m=(0,d.useCallback)((function(n){var e;u((0,o.Z)((0,o.Z)({},s),{},(e={},(0,a.Z)(e,n.name,n.value),(0,a.Z)(e,n.selectLabelName,n.label),e)))}),[s]),g=(0,d.useCallback)((function(n){var e=n.name,i=n.value;u((0,o.Z)((0,o.Z)({},s),{},(0,a.Z)({},e,[].concat((0,t.Z)(s[e]),[i]))))}),[s]);return{state:s,onChange:v,resetForm:x,handleRootState:b,handleSelectWithLabelChange:m,handleArrayChange:g}}},4082:function(n,e,i){var t=i(4165),a=i(5861),o=i(9439),r=i(2791),d=i(1227),c=i(399),l=i(8382);e.Z=function(n){var e,i=n.link,s=void 0===i?"":i,u=n.noAuthorization,h=void 0!==u&&u,f=n.additionalFunctionToRun,p=n.runOnSuccess,x=n.runOnFail,v=n.method,b=void 0===v?"POST":v,m=(0,l.p)(),g="http://144.24.209.19:9090/api/".concat(c.Z[s]),C=(0,r.useState)(),j=(0,o.Z)(C,2),k=j[0],w=j[1],Z=(0,d.Z)().authorization,y=(0,r.useCallback)((function(n){return(e=e||(0,a.Z)((0,t.Z)().mark((function n(e){var i,a,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Z&&!h){n.next=17;break}return i={method:b,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},body:JSON.stringify(e)},n.prev=2,n.next=5,fetch(g,i);case 5:return a=n.sent,n.next=8,a.json();case 8:return"success"===(o=n.sent).response?(m({position:"top-right",title:"Success",description:"".concat(o.response),status:"success",duration:5e3,isClosable:!0}),p&&p()):(m({position:"top-right",title:"Error",description:"".concat(o.message),status:"error",duration:9e3,isClosable:!0}),x&&x()),w(o),f&&f(),n.abrupt("return",o);case 15:n.prev=15,n.t0=n.catch(2);case 17:case"end":return n.stop()}}),n,null,[[2,15]])})))).apply(this,arguments)}),[f,Z,b,h,x,p,m,g]);return{success:k,setRow:(0,r.useCallback)((function(n){y(n)}),[y])}}},8456:function(n,e,i){var t=i(1413),a=i(5987),o=i(2791),r=i(9230),d=i(6582),c=i(930),l=i(3027),s=i(3387),u=i(164),h=i(184),f=["name","options","width","onChange","value","Label","margin","padding","hidden","disabled"],p=function(n){var e=n.name,i=n.options,p=n.width,x=n.onChange,v=n.value,b=n.Label,m=n.margin,g=void 0===m?"10px":m,C=n.padding,j=n.hidden,k=void 0!==j&&j,w=n.disabled,Z=void 0!==w&&w,y=(0,a.Z)(n,f),S=(0,r.$G)().t,R=(0,o.useCallback)((function(n){x({name:e,value:n})}),[e,x]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(d.k,{direction:"column",width:p,padding:C,margin:g,wrap:"wrap",hidden:k,children:[(0,h.jsx)(c.l,{fontSize:"md",as:"b",margin:"0 0 5px",children:S(b)}),(0,h.jsx)(d.k,{className:"css-1xsh6d8",width:"100%",children:(0,h.jsx)(l.E,(0,t.Z)((0,t.Z)({padding:"7px",onChange:R,value:v,width:"100%",display:"flex",gap:"15px",flexWrap:"wrap",isDisabled:Z},y),{},{children:i.map((function(n){return(0,h.jsx)(s.K,{direction:"row",children:(0,h.jsx)(u.Y,{value:n.value,children:S(n.label)})})}))}))})]})})};e.Z=(0,o.memo)(p)},7151:function(n,e,i){i.r(e),i.d(e,{default:function(){return p}});var t=i(2791),a=i(8456),o=i(3388),r=i(8535),d=i(6590),c=i(7940),l=i(898),s=[{label:"splr",value:"S"},{label:"cstmr",value:"C"},{label:"itms",value:"I"},{label:"expns",value:"E"}],u=[{title:"id",dataIndex:"rowKey",width:"5%"},{title:"nm",dataIndex:"record_name",width:"10%"},{title:"crdt",dataIndex:"credit",width:"10%"},{title:"dbt",dataIndex:"debit",width:"10%"},{title:"total",dataIndex:"total",width:"10%"}],h=i(184),f=function(){var n=(0,o.Z)({initialValues:{type:"C"}}),e=n.state,i=n.onChange,f=(0,d.Z)(),p=f.tableRef,x=f.fetchTableData,v=(0,t.useCallback)((function(){x({type:e.type})}),[x,e.type]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(r.Z,{bordered:!0,width:"100%",wrap:!0,children:[(0,h.jsx)(a.Z,{name:"type",onChange:i,value:null===e||void 0===e?void 0:e.type,Label:"type",options:s}),(0,h.jsx)(l.Z,{onClick:v,label:"search",width:"10%"})]}),(0,h.jsx)(c.Z,{ref:p,api:"QUERY_ACCOUNTS_SUMMARY_TABLE",columns:u,hideTools:!1,canExcel:!0,rowKey:"rowKey"})]})},p=(0,t.memo)(f)}}]);
//# sourceMappingURL=151.b6ae4128.chunk.js.map