"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[178],{3224:(t,e,n)=>{n.d(e,{Z:()=>b});var a=n(2791);const o=()=>{const t=(0,a.useRef)(),e=(0,a.useCallback)((async()=>{var e;return await(null===(e=t.current)||void 0===e?void 0:e.handleOpen())}),[t]);return{PDFRef:t,handleOpenModal:e}};var i=n(9539),r=n(184);const s=(t,e)=>{let{reportName:n,params:o}=t;const[s,l]=(0,a.useState)(!1),d=(0,a.useCallback)((()=>{l(!0)}),[]),c=(0,a.useCallback)((()=>{l(!1)}),[]);(0,a.useImperativeHandle)(e,(()=>({handleOpen:d})));const u="http://192.168.1.250:5000/system_pdf_generate/".concat(n,"?").concat(new URLSearchParams(o));return(0,r.jsx)(i.Z,{label:"PDF Viewer",visible:s,onClose:c,noFooter:!0,width:"90%",height:"80%",children:(0,r.jsx)("object",{data:u,width:"100%",height:"100%",children:"Your browser does not support pdf files."})})},l=(0,a.memo)((0,a.forwardRef)(s));var d=n(890);const c=t=>{let{visible:e,onClose:n,onConfirm:o,message:s}=t;const l=(0,a.useCallback)((()=>{o(),n()}),[n,o]);return(0,r.jsx)(i.Z,{label:"cnfrmtn",visible:e,onClose:n,width:"25%",onOK:l,submitTitle:"cnfrm",children:s||"Are you want to continue ?"})},u=(0,a.memo)(c);var h=n(9606),p=n(7262);const m=(t,e)=>{let{api:n,postApi:s,columns:c,ModalContent:m,onClick:b,fetchOnFirstRun:x=!1,params:g,checkForParams:f=!1,modalWidth:v="60%",printProps:w,reportName:C,...k}=t;const{data:Z,runFetch:j,loading:y,setData:R,resetData:S}=(0,d.Z)({link:n,fetchOnFirstRun:x,params:g,checkForParams:f}),{onSaveAndInsertion:F}=(0,p.Z)({api:s,runFetch:j}),{PDFRef:T,handleOpenModal:_}=o(),[D,O]=(0,a.useState)({}),[I,P]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),M=(0,a.useCallback)((()=>{O({query_status:"n"}),P(!0)}),[O]),U=(0,a.useCallback)((()=>{O({...D,query_status:"u"}),P(!0)}),[D,O]),q=(0,a.useCallback)((()=>{P(!1)}),[]),z=(0,a.useCallback)((()=>{E(!1)}),[]),B=(0,a.useCallback)((()=>{E(!0)}),[]),K=(0,a.useMemo)((()=>null===Z||void 0===Z?void 0:Z.data),[null===Z||void 0===Z?void 0:Z.data]),N=(0,a.useCallback)((()=>{D&&_()}),[_,D]);return(0,a.useImperativeHandle)(e,(()=>({runFetch:j,setTableData:R,resetTableData:S,getCurrentDataSource:()=>K}))),(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsx)(i.Z,{visible:I,onClose:q,hideCloseButton:!0,hideSaveButton:!0,label:"dtls",noFooter:!0,width:v,children:(0,r.jsx)(m,{onClose:q,selectedRow:D,refreshTable:j})}),(0,r.jsx)(u,{visible:A,onConfirm:()=>{F({...D,query_status:"d"})},onClose:z}),(0,r.jsx)(l,{ref:T,reportName:C,params:w}),(0,r.jsx)(h.Z,{dataSource:null===Z||void 0===Z?void 0:Z.data,columns:c,onAdd:M,onEdit:U,onPrint:N,onDelete:B,onSelectedRow:t=>{O(t),b&&b(t)},loading:y,...k})]})},b=(0,a.memo)((0,a.forwardRef)(m))},6590:(t,e,n)=>{n.d(e,{Z:()=>o});var a=n(2791);const o=()=>{const t=(0,a.useRef)(),e=(0,a.useCallback)((async e=>{var n;return await(null===(n=t.current)||void 0===n?void 0:n.runFetch(e))}),[t]),n=(0,a.useCallback)((()=>{var e;return(null===(e=t.current)||void 0===e?void 0:e.getCurrentDataSource())||[]}),[t]),o=(0,a.useCallback)((e=>{var n;return(null===(n=t.current)||void 0===n?void 0:n.setTableData(e))||[]}),[t]),i=(0,a.useCallback)((()=>{var e;return(null===(e=t.current)||void 0===e?void 0:e.resetTableData())||[]}),[t]);return{tableRef:t,fetchTableData:e,getTableData:n,setTableData:o,resetTable:i}}},7262:(t,e,n)=>{n.d(e,{Z:()=>i});var a=n(2791),o=n(4082);const i=t=>{let{api:e="",runFetch:n}=t;const{setRow:i}=(0,o.Z)({link:e,additionalFunctionToRun:n,method:"POST"}),{setRow:r}=(0,o.Z)({link:e,additionalFunctionToRun:n,method:"PUT"}),{setRow:s}=(0,o.Z)({link:e,additionalFunctionToRun:n,method:"Delete"});return{onSaveAndInsertion:(0,a.useCallback)((t=>{"n"===t.query_status?i(t):"u"===t.query_status?r(t):"d"===t.query_status&&s(t)}),[i,r,s])}}},4082:(t,e,n)=>{n.d(e,{Z:()=>s});var a=n(2791),o=n(1227),i=n(399),r=n(8382);const s=t=>{let{link:e="",noAuthorization:n=!1,additionalFunctionToRun:s,runOnSuccess:l,runOnFail:d,method:c="POST"}=t;const u=(0,r.p)(),h="http://192.168.1.250:5000/api/".concat(i.Z[e]),[p,m]=(0,a.useState)(),{authorization:b}=(0,o.Z)(),x=(0,a.useCallback)((async t=>{if(b||n){const n={method:c,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(b)},body:JSON.stringify(t)};try{const t=await fetch(h,n),e=await t.json();return"success"===e.response?(u({position:"top-right",title:"Success",description:"".concat(e.response),status:"success",duration:5e3,isClosable:!0}),l&&l()):(u({position:"top-right",title:"Error",description:"".concat(e.message),status:"error",duration:9e3,isClosable:!0}),d&&d()),m(e),s&&s(),e}catch(e){}}}),[s,b,c,n,d,l,u,h]);return{success:p,setRow:(0,a.useCallback)((t=>{x(t)}),[x])}}},9539:(t,e,n)=>{n.d(e,{Z:()=>Z});var a=n(2791),o=n(4067),i=n(9230),r=n(184);const s=t=>{let{value:e,margin:n,padding:a,width:o="",fontSize:s="",color:l,backgroundColor:d}=t;const{t:c}=(0,i.$G)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("strong",{style:{padding:a,margin:n,width:o,fontSize:s,color:l,backgroundColor:d},children:c(e)})})},l=(0,a.memo)(s);var d,c,u,h,p,m=n(8535),b=n(168),x=n(225);const g=x.Z.div(d||(d=(0,b.Z)(["\n  position: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n    z-index: 1;\n"]))),f=x.Z.div(c||(c=(0,b.Z)(["\n /* position: relative;\n    margin: 5% auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: ",";\n    height: ",";\n    background-color: white;\n    border-radius: 15px; */\n    /* max-height: 90vh;\n\tmax-width: 500px; */\n    width: ",";\n    height: ",";\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tbackground-color: #fff;\n\tborder-radius: 15px;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-shadow: 0 15px 30px 0 rgba(#000, 0.25);\n\t@media (max-width: 600px) {\n\t\twidth: 90%;\n\t}\n"])),(t=>{let{width:e}=t;return e}),(t=>{let{height:e}=t;return e}),(t=>{let{width:e}=t;return e}),(t=>{let{height:e}=t;return e})),v=x.Z.div(u||(u=(0,b.Z)(["\n\tpadding: 15px 32px;\n\tborder-bottom: 1px solid #ddd;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n"]))),w=x.Z.div(h||(h=(0,b.Z)(["\n\tpadding: 10px 32px;\n\toverflow-y: auto;\n    height: 100%;\n"]))),C=x.Z.div(p||(p=(0,b.Z)(['\n    padding: 15px 32px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tborder-top: 1px solid #ddd;\n\tgap: 12px;\n\tposition: relative;\n\t&:after {\n\t\tcontent: "";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: -51px;\n\t\tleft: 24px;\n\t\tright: 24px;\n\t\theight: 50px;\n\t\tflex-shrink: 0;\n\t\tbackground-image: linear-gradient(to top, rgba(#fff, 0.75), transparent);\n\t\tpointer-events: none;\n\t}\n']))),k=t=>{let{children:e,visible:n=!1,label:a,onClose:i,onOK:s,submitTitle:d="smbt",width:c="90%",height:u="auto",hideSaveButton:h=!1,hideCloseButton:p=!1,noFooter:b=!1}=t;return(0,r.jsx)(r.Fragment,{children:n&&(0,r.jsx)(g,{hidden:!n,children:(0,r.jsxs)(f,{width:c,height:u,children:[(0,r.jsxs)(v,{children:[(0,r.jsx)(l,{value:a}),(0,r.jsx)(o.Z,{label:"\xd7",backGround:"none",margin:"0",padding:"0","data-dismiss":"modal",onClick:i})]}),(0,r.jsx)(w,{children:(0,r.jsx)(m.Z,{width:"100%",padding:"0",wrap:"wrap",height:"100%",children:e})}),!b&&(0,r.jsxs)(C,{hidden:b,children:[!h&&(0,r.jsx)(o.Z,{onClick:s,label:d,hidden:h,width:"20%",margin:"0"}),!p&&(0,r.jsx)(o.Z,{onClick:i,label:"cls",hidden:p,width:"20%",backGround:"red",margin:"0"})]})]})})})},Z=(0,a.memo)(k)},5178:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var a=n(2791),o=n(8535),i=n(9457),r=n(6888),s=n(6590),l=n(3224),d=n(3388),c=n(3557);const u=[{title:"cstmr",dataIndex:"customer_name",width:"13%"},{title:"dt",dataIndex:"date",width:"13%"},{title:"crdt",dataIndex:"credit",width:"15%"},{title:"dbt",dataIndex:"debit",width:"15%"},{title:"blnc",dataIndex:"balance",width:"15%"},{title:"dscrptn",dataIndex:"description",width:"25%"}];var h=n(184);const p=()=>{const{state:t,onChange:e}=(0,d.Z)({initialValues:{date_from:"",date_to:"",customer_id:""}}),{tableRef:n,fetchTableData:p}=(0,s.Z)(),m=(0,a.useCallback)((()=>{p({customer_id:t.customer_id})}),[p,t.customer_id]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(o.Z,{width:"100%",flexDirection:"column",children:[(0,h.jsxs)(o.Z,{width:"100%",children:[(0,h.jsx)(r.Z,{label:"cstmr",fetchOnFirstRun:!0,name:"customer_id",value:t.customer_id,onChange:e,api:"QUERY_CUSTOMERS_LIST"}),(0,h.jsx)(i.Z,{name:"date_from",type:"date",label:"frm",onChange:e}),(0,h.jsx)(i.Z,{name:"date_to",type:"date",label:"to",onChange:e}),(0,h.jsx)(c.Z,{onSearch:m,width:"20%"})]}),(0,h.jsx)(l.Z,{ref:n,api:"QUERY_CUSTOMER_SUMMARY_TABLE",columns:u,rowKey:"rowKey",hideTools:!1,canExcel:!0})]})})},m=(0,a.memo)(p)}}]);
//# sourceMappingURL=178.a6d3bf1e.chunk.js.map