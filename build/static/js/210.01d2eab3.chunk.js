"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[210],{4209:(e,i,t)=>{t.d(i,{Z:()=>u});var n,a=t(2791),l=t(4826),o=t(168),r=t(225),s=t(5353);const p=(0,r.Z)(s.Z)(n||(n=(0,o.Z)(["\n  width: 100%;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  margin: 0;\n  background-color: white;\n  transition: border-color 0.3s;\n  box-sizing: border-box;\n\n  &:focus {\n    outline: none !important;\n    border-color: #007bff;\n  }\n"])));var c=t(184);const _=e=>{let{height:i="65px",width:t="200px",options:n,onChange:a,label:o,value:r,name:s,margin:_,padding:u,onSearch:d,hidden:h,disabled:m,loading:v,mode:g}=e;return(0,c.jsx)(l.Z,{label:o,hasContent:r&&r.toString(),margin:_,padding:u,height:i,width:t,hidden:h,top:"7px",children:(0,c.jsx)(p,{options:n,bordered:!1,allowClear:!0,showSearch:!0,onSearch:d,onChange:(e,i)=>{a({name:s,value:e,option:i})},filterOption:!1,loading:v,disabled:v||m,mode:g,placeholder:""})})},u=(0,a.memo)(_)},6888:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(2791),a=t(4209),l=t(890),o=t(184);const r=e=>{let{width:i,api:t,onChange:r,label:s,name:p="",value:c=0,withLabel:_=!1,padding:u,margin:d,params:h,selectLabelName:m="label_select",...v}=e;const{data:g,runFetch:b,loading:x}=(0,l.Z)({link:t,fetchOnFirstRun:!0,params:h,checkForParams:!0}),w=(0,n.useCallback)((e=>{}),[]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a.Z,{options:g,onChange:r,label:s,value:c,name:p,width:i,withLabel:_,margin:d,padding:u,selectLabelName:m,onSearch:w,loading:x,...v})})},s=(0,n.memo)(r)},8216:(e,i,t)=>{t.d(i,{Z:()=>m});var n,a=t(2791),l=t(7892),o=t.n(l),r=t(4826),s=t(168),p=t(225),c=t(1535);const _=(0,p.Z)(c.Z)(n||(n=(0,s.Z)(["\n  ","\n  width: 100%;\n"])),(e=>{let{required:i}=e;return i&&"border: 1px solid red;"})),u={fullDate:"YYYY-MM-DD",weakDate:"MM-DD",monthFormat:"YYYY-MM",fullDateWithTime:"YYYY-MM-DD HH:mm:ss",fullDateWithTimeNoSecond:"YYYY-MM-DD HH:mm"};var d=t(184);const h=e=>{let{dateFormat:i="fullDate",label:t,value:n,width:a="200px",height:l,padding:s,margin:p,name:c,onChange:h,required:m=!1,showTime:v,...g}=e;const b=n?o()(n,u[i]):void 0;return(0,d.jsx)(r.Z,{label:t,width:a,height:l,padding:s,margin:p,hasContent:b&&(null===b||void 0===b?void 0:b.toString()),top:"7px",children:(0,d.jsx)(_,{defaultValue:b,value:b,format:u[i],showTime:v,width:"100%",onChange:(e,i)=>{h&&h({name:c,value:i})},placeholder:"",required:m,...g})})},m=(0,a.memo)(h)},4826:(e,i,t)=>{t.d(i,{Z:()=>d});var n,a,l=t(2791),o=t(9230),r=t(168),s=t(225);const p=s.Z.div(n||(n=(0,r.Z)(["\n  position: relative;\n  margin: ",";\n  padding: ",";\n  height: ",";\n  width: ",";\n"])),(e=>{let{margin:i}=e;return i}),(e=>{let{padding:i}=e;return i||"5px 0"}),(e=>{let{height:i}=e;return i}),(e=>{let{width:i}=e;return i})),c=s.Z.label(a||(a=(0,r.Z)(["\n  position: absolute;\n  top: ",";\n  left: 10px;\n  color: #999;\n  padding: 0;\n  margin: 0;\n  transition: top 0.3s, font-size 0.3s, background-color 0.5s;\n\n  ","\n"])),(e=>{let{top:i}=e;return i||"5px"}),(e=>{let{hasContent:i}=e;return i&&"\n    top: -5px;\n    font-size: 12px;\n    color: #007bff;\n    font-size: 14px;\n    background-color: white;\n  "}));var _=t(184);const u=e=>{let{hasContent:i,name:t,label:n="",height:a,width:l="200px",padding:r,margin:s,children:u,hidden:d,top:h}=e;const{t:m}=(0,o.$G)();return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(p,{width:l,height:a,margin:s,padding:r,hidden:d,children:[u,(0,_.jsx)(c,{top:h,htmlFor:t,hasContent:i,children:m(n)})]})})},d=(0,l.memo)(u)},5848:(e,i,t)=>{t.d(i,{_8:()=>a});const n=new Date,a="".concat(n.getFullYear(),"-").concat((n.getMonth()+1).toString().padStart(2,"0"),"-").concat(n.getDate().toString().padStart(2,"0")),l="".concat(n.getHours().toString().padStart(2,"0"),":").concat(n.getMinutes().toString().padStart(2,"0"),":").concat(n.getSeconds().toString().padStart(2,"0"));"".concat(a," ").concat(l)},3388:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(2791);const a=e=>{const i=(0,n.useRef)();return(0,n.useEffect)((()=>{i.current=e})),i.current},l=e=>{let{initialValues:i}=e;const[t,l]=(0,n.useState)(i),o=(0,n.useRef)(!1),r=a(i),s=(0,n.useCallback)((()=>!Object.is(JSON.stringify(r),JSON.stringify(i))),[i,r]);(0,n.useEffect)((()=>{s()&&l({...i})}),[s,i]);const p=(0,n.useCallback)((()=>{o.current=!1,l((()=>i))}),[i]);(0,n.useEffect)((()=>p),[]);const c=(0,n.useCallback)((e=>{const{name:i,value:n}=e;l({...t,[i]:n})}),[t]),_=(0,n.useCallback)((e=>{l({...t,...e})}),[t]),u=(0,n.useCallback)((e=>{l({...t,[e.name]:e.value,[e.selectLabelName]:e.label})}),[t]),d=(0,n.useCallback)((e=>{let{name:i,value:n}=e;l({...t,[i]:[...t[i],n]})}),[t]);return{state:t,onChange:c,resetForm:p,handleRootState:l,handleSelectWithLabelChange:u,handleArrayChange:d,handleMultiInput:_}}},4082:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(2791),a=t(1227),l=t(399),o=t(8382);const r=e=>{let{link:i="",noAuthorization:t=!1,additionalFunctionToRun:r,runOnSuccess:s,runOnFail:p,method:c="POST"}=e;const _=(0,o.p)(),u="http://144.24.209.19:9090/api/".concat(l.Z[i]),[d,h]=(0,n.useState)(),{authorization:m}=(0,a.Z)(),v=(0,n.useCallback)((async e=>{if(m||t){const t={method:c,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(m)},body:JSON.stringify(e)};try{const e=await fetch(u,t),i=await e.json();return"success"===i.response?(_({position:"top-right",title:"Success",description:"".concat(i.response),status:"success",duration:5e3,isClosable:!0}),s&&s()):(_({position:"top-right",title:"Error",description:"".concat(i.message),status:"error",duration:9e3,isClosable:!0}),p&&p()),h(i),r&&r(),i}catch(i){}}}),[r,m,c,t,p,s,_,u]);return{success:d,setRow:(0,n.useCallback)((e=>{v(e)}),[v])}}},1561:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(2791),a=t(8382);const l=e=>{let{validateFelids:i,functionToRun:t,stateToValidate:l}=e;const o=(0,a.p)();return(0,n.useCallback)((()=>{let e=[];i.forEach((i=>{void 0===l[i]||l[i]||e.push(i)})),0!==e.length?o({position:"top-right",title:"Error",description:"\n      Make sure to fill this required fields\n      ".concat(e.toString(),"\n      "),status:"info",duration:5e3,isClosable:!0}):t()}),[t,l,o,i])}},9242:(e,i,t)=>{t.d(i,{Z:()=>d});var n,a=t(2791),l=t(4826),o=t(168),r=t(225),s=t(4184),p=t(4360);const c=(0,r.Z)(s.Z)(n||(n=(0,o.Z)(["\n  width: 100%;\n  /* padding: 5px 7px; */\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  transition: border-color 0.3s;\n  margin: 0;\n  box-sizing: border-box;\n  /* ","; */\n\n  &:focus {\n    outline: none !important;\n    border-color: #007bff;\n  }\n"])),(e=>{let{required:i}=e;return i&&"background-color:  ".concat(p.w.required)}));var _=t(184);const u=e=>{let{disabled:i,value:t,name:n,label:o,onChange:r,height:s,width:p="200px",padding:u,margin:d,max:h,min:m=0,...v}=e;const g=(0,a.useCallback)((e=>{r({name:n,value:e})}),[n,r]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(l.Z,{label:o,width:p,height:s,padding:u,margin:d,hasContent:t&&t.toString(),top:"7px",children:(0,_.jsx)(c,{disabled:i,value:t,name:n,onChange:g,padding:u,margin:d,max:h,min:m,...v})})})},d=(0,a.memo)(u)},9457:(e,i,t)=>{t.d(i,{Z:()=>u});var n,a=t(2791),l=t(4826),o=t(168),r=t(225),s=t(4360);const p=r.Z.input(n||(n=(0,o.Z)(["\n  width: 100%;\n  padding: 5px 7px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n\n  transition: border-color 0.3s;\n  box-sizing: border-box;\n  /* ","; */\n\n  &:focus {\n    outline: none !important;\n    border-color: #007bff;\n  }\n"])),(e=>{let{required:i}=e;return i&&"background-color:  ".concat(s.w.required)}));var c=t(184);const _=e=>{let{disabled:i,value:t,name:n,label:o="",onChange:r,height:s,width:_="200px",type:u="text",placeHolder:d,padding:h,margin:m,className:v,required:g,...b}=e;const x=(0,a.useCallback)((e=>{r({name:n,value:e.target.value})}),[n,r]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(l.Z,{label:o,hasContent:t&&t.toString(),margin:m,padding:h,height:s,width:_,children:(0,c.jsx)(p,{placeholder:d,disabled:i,required:g,onChange:x,width:"100%",className:v,value:t,type:u,...b})})})},u=(0,a.memo)(_)},7210:(e,i,t)=>{t.r(i),t.d(i,{default:()=>Z});var n=t(2791),a=t(6903),l=t(8216),o=t(3388),r=t(4082),s=t(1561),p=t(6888),c=t(81),_=t(5410),u=t(9242);const d={supplier_id:0,supplier_name:"",supplier_invoice_date:t(5848)._8,supplier_invoice_items:[],query_status:"n",supplier_invoice_total:0,supplier_invoice_discount:0,supplier_invoice_after_discount:0,supplier_invoice_paid:0,supplier_invoice_credit:0},h={supplier_invoice_item_id:0,supplier_invoice_item_width:0,supplier_invoice_item_height:0,supplier_invoice_item_size:0,supplier_invoice_item_quantity:0,supplier_invoice_item_price:0,supplier_invoice_item_total:0,supplier_invoice_item_notes:""},m=["supplier_invoice_item_id","supplier_invoice_item_width","supplier_invoice_item_height","supplier_invoice_item_size","supplier_invoice_item_quantity","supplier_invoice_item_price","supplier_invoice_item_total"],v=["supplier_id","supplier_invoice_date","supplier_invoice_items","supplier_invoice_total","supplier_invoice_after_discount"],g=[{title:"itmnm",width:"30%",dataIndex:"item_name"},{title:"wdth",width:"7%",dataIndex:"supplier_invoice_item_width"},{title:"hght",width:"7%",dataIndex:"supplier_invoice_item_height"},{title:"sz",width:"7%",dataIndex:"supplier_invoice_item_size"},{title:"qnty",width:"7%",dataIndex:"supplier_invoice_item_quantity"},{title:"prc",width:"7%",dataIndex:"supplier_invoice_item_price"},{title:"total",width:"10%",dataIndex:"supplier_invoice_item_total"},{title:"nts",width:"15%",dataIndex:"supplier_invoice_item_notes"}];var b=t(9457),x=t(184);const w=e=>{let{onChange:i,state:t,handleSelectWithLabelChange:a,handleItemMultiInput:l}=e;const o=(0,n.useCallback)((e=>{let{name:i,value:n}=e;l({[i]:n,supplier_invoice_item_size:+(+n*+t.supplier_invoice_item_height).toFixed(2),supplier_invoice_item_total:+(+n*+t.supplier_invoice_item_height*+t.supplier_invoice_item_quantity*+t.supplier_invoice_item_price).toFixed(2)})}),[l,t.supplier_invoice_item_height,t.supplier_invoice_item_price,t.supplier_invoice_item_quantity]),r=(0,n.useCallback)((e=>{let{name:i,value:n}=e;l({[i]:n,supplier_invoice_item_size:+(+n*+t.supplier_invoice_item_width).toFixed(2),supplier_invoice_item_total:+(+n*+t.supplier_invoice_item_width*+t.supplier_invoice_item_quantity*+t.supplier_invoice_item_price).toFixed(2)})}),[l,t.supplier_invoice_item_price,t.supplier_invoice_item_quantity,t.supplier_invoice_item_width]),s=(0,n.useCallback)((e=>{let{name:i,value:n}=e;l({[i]:n,supplier_invoice_item_total:+n*+t.supplier_invoice_item_price*+t.supplier_invoice_item_size})}),[l,t.supplier_invoice_item_price,t.supplier_invoice_item_size]),c=(0,n.useCallback)((e=>{let{name:i,value:n}=e;l({[i]:n,supplier_invoice_item_total:+t.supplier_invoice_item_quantity*+n*+t.supplier_invoice_item_size})}),[l,t.supplier_invoice_item_quantity,t.supplier_invoice_item_size]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(_.Z,{width:"100%",flexDirection:"column",margin:"0",padding:"0",children:[(0,x.jsx)(_.Z,{margin:"0",padding:"0",children:(0,x.jsx)(p.Z,{api:"QUERY_ITEMS_LIST",onChange:a,value:t.supplier_invoice_item_id,label:"itmnm",name:"supplier_invoice_item_id",withLabel:!0,fetchOnFirstRun:!0,selectLabelName:"item_name"})}),(0,x.jsxs)(_.Z,{margin:"0",padding:"0",children:[(0,x.jsx)(u.Z,{name:"supplier_invoice_item_width",value:t.supplier_invoice_item_width,label:"wdth",onChange:o,width:"14%"}),(0,x.jsx)(u.Z,{name:"supplier_invoice_item_height",value:t.supplier_invoice_item_height,label:"hght",onChange:r,width:"14%"}),(0,x.jsx)(u.Z,{name:"supplier_invoice_item_size",value:t.supplier_invoice_item_size,label:"sz",onChange:i,disabled:!0,width:"14%"}),(0,x.jsx)(u.Z,{name:"supplier_invoice_item_quantity",value:t.supplier_invoice_item_quantity,label:"qty",onChange:s,width:"14%"}),(0,x.jsx)(u.Z,{name:"supplier_invoice_item_price",value:t.supplier_invoice_item_price,label:"prc",onChange:c,width:"14%"}),(0,x.jsx)(u.Z,{name:"supplier_invoice_item_total",value:t.supplier_invoice_item_total,label:"total",onChange:i,disabled:!0,width:"14%"}),(0,x.jsx)(b.Z,{name:"supplier_invoice_item_notes",value:t.supplier_invoice_item_notes,label:"nts",onChange:i,width:"14%"})]})]})})},C=(0,n.memo)(w),f=()=>{const{state:e,onChange:i,resetForm:t,handleArrayChange:b,handleMultiInput:w,handleSelectWithLabelChange:f}=(0,o.Z)({initialValues:d}),{state:Z,onChange:j,handleSelectWithLabelChange:S,resetForm:k,handleMultiInput:y}=(0,o.Z)({initialValues:h}),{setRow:F}=(0,r.Z)({link:"POST_SUPPLIER_INVOICE",runOnSuccess:t}),q=(0,n.useCallback)((()=>{F(e)}),[F,e]),z=[{icon:"clear",onClick:t}],I=(0,n.useCallback)((()=>{b({name:"supplier_invoice_items",value:{...Z,rowKey:e.supplier_invoice_items.length+1}});let i=0;e.supplier_invoice_items.forEach((e=>{i+=+e.supplier_invoice_item_total}));const t=i+Z.supplier_invoice_item_total;w({supplier_invoice_items:[...e.supplier_invoice_items,Z],supplier_invoice_total:t,supplier_invoice_after_discount:t-e.supplier_invoice_discount,supplier_invoice_credit:t-e.supplier_invoice_discount-e.supplier_invoice_paid}),k()}),[Z,b,w,k,e.supplier_invoice_discount,e.supplier_invoice_items,e.supplier_invoice_paid]),L=(0,n.useCallback)((i=>{let{name:t,value:n}=i;w({[t]:+n,supplier_invoice_after_discount:+e.supplier_invoice_total-+n,supplier_invoice_credit:+e.supplier_invoice_paid-+e.supplier_invoice_total-+n})}),[w,e.supplier_invoice_paid,e.supplier_invoice_total]),M=(0,n.useCallback)((i=>{let{name:t,value:n}=i;w({[t]:+n,supplier_invoice_credit:e.supplier_invoice_total-e.supplier_invoice_discount-+n})}),[w,e.supplier_invoice_discount,e.supplier_invoice_total]),Y=i=>{const t=e.supplier_invoice_items.filter((e=>i.rowKey!==e.rowKey)),n=e.supplier_invoice_total-e.supplier_invoice_item_total;w({supplier_invoice_items:t,supplier_invoice_total:n,supplier_invoice_after_discount:n-e.supplier_invoice_discount,supplier_invoice_credit:n-e.supplier_invoice_discount-e.supplier_invoice_paid})},T=(0,s.Z)({validateFelids:m,functionToRun:I,stateToValidate:Z}),D=(0,s.Z)({validateFelids:v,functionToRun:q,stateToValidate:e}),R=[{label:"delete",onClick:Y,width:"100%",margin:"0",padding:"0"}];return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(_.Z,{flexDirection:"column",width:"100%",children:[(0,x.jsxs)(_.Z,{margin:"0",padding:"0",children:[(0,x.jsx)(p.Z,{api:"QUERY_SUPPLIER_LIST",onChange:f,value:e.supplier_id,label:"splr",name:"supplier_id",fetchOnFirstRun:!0,withLabel:!0,selectLabelName:"supplier_name"}),(0,x.jsx)(l.Z,{name:"supplier_invoice_date",value:e.supplier_invoice_date,label:"dt",onChange:i})]}),(0,x.jsx)(C,{state:Z,onChange:j,handleSelectWithLabelChange:S,handleItemMultiInput:y}),(0,x.jsx)(a.Z,{columns:g,dataSource:e.supplier_invoice_items,actionColumn:R,actionWidth:100,actionLabel:"dlt",rowKey:"supplier_invoice_item_id",onAction:Y,hideTools:!1,onAdd:T,canAdd:!0,additionalButtons:z,fixedHeight:"250px",noPagination:!0}),(0,x.jsxs)(_.Z,{width:"100%",justifyContent:"space-around",children:[(0,x.jsx)(u.Z,{name:"supplier_invoice_total",disabled:!0,value:e.supplier_invoice_total,label:"total",width:"15%"}),(0,x.jsx)(u.Z,{name:"supplier_invoice_discount",value:e.supplier_invoice_discount,label:"dscnt",onChange:L,width:"15%"}),(0,x.jsx)(u.Z,{name:"supplier_invoice_after_discount",disabled:!0,value:e.supplier_invoice_after_discount,label:"tlaftrdsnt",width:"15%"}),(0,x.jsx)(u.Z,{name:"supplier_invoice_paid",value:e.handlePaid,label:"paid",onChange:M,max:e.supplier_invoice_after_discount,width:"15%"}),(0,x.jsx)(u.Z,{name:"supplier_invoice_credit",disabled:!0,value:e.supplier_invoice_credit,label:"crdt",width:"15%"}),(0,x.jsx)(c.Z,{label:"sv",width:"15%",margin:"30px 0",onClick:D})]})]})})},Z=(0,n.memo)(f)}}]);
//# sourceMappingURL=210.01d2eab3.chunk.js.map