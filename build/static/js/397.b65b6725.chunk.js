"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[397],{9397:function(e,n,i){i.r(n),i.d(n,{default:function(){return k}});var t=i(9439),a=i(2791),d=i(5057),o=i(3388),l=i(8535),r=i(3838),c=i(9230),s=i(176),h=i(4585),u=i(9498),p=i(3269),m=i(2767),_=i(184),x=function(e){var n=e.name,i=e.options,t=e.width,d=e.onChange,o=e.value,l=e.Label,r=e.margin,x=void 0===r?"10px":r,v=e.padding,w=(0,c.$G)().t,g=(0,a.useCallback)((function(e){d({name:n,value:e})}),[n,d]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(s.k,{direction:"column",width:t,padding:v,margin:x,wrap:"wrap",children:[(0,_.jsx)(h.l,{fontSize:"md",as:"b",margin:"0 0 5px",children:w(l)}),(0,_.jsx)(s.k,{className:"css-1xsh6d8",height:"100%",width:"100%",children:(0,_.jsx)(u.E,{padding:"7px",onChange:g,value:o,width:"100%",display:"flex",gap:"15px",flexWrap:"wrap",children:i.map((function(e){return(0,_.jsx)(p.K,{direction:"row",children:(0,_.jsx)(m.Y,{value:e.value,children:w(e.label)})})}))})})]})})},v=(0,a.memo)(x),w=[{title:"no",dataIndex:"invoice_id",width:"15%"},{title:"nm",dataIndex:"invoice_holder_name",width:"20%"},{title:"dt",dataIndex:"invoice_date",width:"10%"},{title:"total",dataIndex:"invoice_after_discount",width:"10%"}],g=[{title:"itmid",dataIndex:"item_id",width:"7%"},{title:"itmnm",dataIndex:"item_name",width:"15%"},{title:"wdth",dataIndex:"width",width:"5%"},{title:"hght",dataIndex:"height",width:"5%"},{title:"sz",dataIndex:"size",width:"5%"},{title:"qnty",dataIndex:"quantity",width:"5%"},{title:"prc",dataIndex:"price",width:"5%"},{title:"total",dataIndex:"total",width:"5%"}],j=[{label:"splr",value:"S"},{label:"cstmr",value:"C"}],f=i(6888),C=i(7595),y=i(9173),I=function(e){var n=e.onChange,i=e.state,t=e.runQuery;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(l.Z,{bordered:!0,width:"100%",wrap:!0,children:[(0,_.jsx)(v,{name:"invoice_type",options:j,value:i.invoice_type,onChange:n,Label:"invctyp",width:"17%"}),(0,_.jsx)(C.Z,{name:"invoice_no",Label:"no",onChange:n,type:"number",value:i.invoice_no}),(0,_.jsx)(f.Z,{name:"person_id",Api:"QUERY_CUSTOMER_AND_SUPPLIER_LIST",Label:"nm",params:{invoice_type:i.invoice_type},value:i.name,fetchOnFirstRun:!0,onChange:n}),(0,_.jsx)(C.Z,{name:"date_from",value:i.date_from,Label:"dtfrm",onChange:n,type:"date"}),(0,_.jsx)(C.Z,{name:"date_to",value:i.date_to,Label:"dto",onChange:n,type:"date"})]}),(0,_.jsx)(y.Z,{onClick:t})]})},b=(0,a.memo)(I),Z=function(){var e=(0,a.useState)({invoice_id:""}),n=(0,t.Z)(e,2),i=n[0],c=n[1],s=(0,o.Z)({initialValues:{invoice_type:"C",invoice_no:"",person_id:"",date_from:"",date_to:""}}),h=s.state,u=s.onChange,p=h.invoice_type,m=h.invoice_no,x=h.person_id,v=(0,a.useCallback)((function(e){c(e)}),[]),j=(0,r.Z)({link:"QUERY_INVOICE_MASTER_TABLE_DATA",params:{invoice_type:p,invoice_no:m,person_id:x}}),f=j.data,C=j.runFetch,y=j.loading,I=(0,r.Z)({link:"QUERY_INVOICE_DETAIL_TABLE_DATA",params:{invoice_type:p,invoice_no:i.invoice_id}}),Z=I.data,k=I.runFetch,E=I.loading,L=(0,a.useCallback)((function(){C(),k()}),[C,k]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(l.Z,{width:"100%",margin:"0",padding:"0",flexDirection:"column",children:[(0,_.jsx)(b,{onChange:u,state:h,runQuery:L}),(0,_.jsxs)(l.Z,{width:"100%",margin:"0",padding:"0",justifyContent:"space-between",children:[(0,_.jsx)(l.Z,{width:"40%",children:(0,_.jsx)(d.Z,{columns:w,dataSource:null===f||void 0===f?void 0:f.data,rowKey:"invoice_id",onSelectedRow:v,height:"400px",loading:y})}),(0,_.jsx)(l.Z,{width:"60%",children:(0,_.jsx)(d.Z,{columns:g,dataSource:null===Z||void 0===Z?void 0:Z.data,rowKey:"row_key",loading:E})})]})]})})},k=(0,a.memo)(Z)}}]);
//# sourceMappingURL=397.b65b6725.chunk.js.map