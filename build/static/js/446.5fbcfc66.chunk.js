"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[446],{1446:function(i,e,t){t.r(e),t.d(e,{default:function(){return T}});var n=t(9439),a=t(2791),d=t(1413),o=t(5987),c=t(890),l=(t(550),t(3623)),s=t(9230),r=t(8535),u=t(184),h=function(i){var e=i.mode,t=void 0===e?"bar":e,n=i.width,a=i.height,d=i.margin,o=i.padding,c=i.label,h=void 0===c?"chart":c,p=i.dataSource,_=(0,s.$G)().t;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(r.Z,{flexDirection:"column",width:n,height:a,margin:d,padding:o,children:[(0,u.jsx)(r.Z,{width:"100%",justifyContent:"center",children:(0,u.jsx)("p",{children:_(h)})}),p&&function(){switch(t){case"line":return(0,u.jsx)(l.kL,{type:"line",data:p});case"pie":return(0,u.jsx)(l.kL,{type:"pie",data:p});case"bar":return(0,u.jsx)(l.kL,{type:"bar",data:p})}}()]})})},p=(0,a.memo)(h),_=["api","params"],m=function(i){var e=i.api,t=i.params,l=(0,o.Z)(i,_),s=(0,a.useState)({labels:[],datasets:[{label:"",data:[]}]}),r=(0,n.Z)(s,2),h=r[0],m=r[1],v=(0,c.Z)({link:e,fetchOnFirstRun:!0,params:t}).data;return(0,a.useEffect)((function(){Array.isArray(v)||m(v)}),[v]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,(0,d.Z)({dataSource:h},l))})},v=(0,a.memo)(m),x=t(3479),w=t(9539),b=[{title:"itmnm",dataIndex:"item",width:"15%"},{title:"wdth",dataIndex:"width",width:"5%"},{title:"hght",dataIndex:"height",width:"5%"},{title:"sz",dataIndex:"size",width:"5%"},{title:"qnty",dataIndex:"quantity",width:"5%"},{title:"prc",dataIndex:"price",width:"5%"},{title:"total",dataIndex:"total",width:"5%"},{title:"nts",dataIndex:"notes",width:"5%"}],I=function(i){var e=i.visible,t=i.onClose,n=i.invoiceType,a=i.invoiceNumber,d=i.withEdit,o="C"===n?"customer":"supplier";return(0,u.jsx)(w.Z,{visible:e,label:"C"===n?"cstmrs":"splrs",onClose:t,noFooter:!0,children:(0,u.jsx)(x.Z,{api:"QUERY_INVOICE_DETAIL_TABLE_DATA",rowKey:"".concat(o,"_invoice_id"),params:{invoice_type:n,invoice_no:a},columns:b,hideTools:!d,canDelete:!0,fetchOnFirstRun:!0,checkForParams:!1})})},f=(0,a.memo)(I),j=[{title:"no",dataIndex:"customer_invoice_id",width:"5%"},{title:"nm",dataIndex:"invoice_holder_name",width:"10%"},{title:"total",dataIndex:"customer_invoice_total",width:"5%"},{title:"discount",dataIndex:"customer_invoice_discount",width:"5%"},{title:"total after",dataIndex:"customer_invoice_after_discount",width:"5%"},{title:"paid",dataIndex:"customer_invoice_paid",width:"5%"},{title:"credit",dataIndex:"customer_invoice_credit",width:"5%"}],C=[{title:"no",dataIndex:"supplier_invoice_id",width:"5%"},{title:"nm",dataIndex:"invoice_holder_name",width:"10%"},{title:"total",dataIndex:"supplier_invoice_total",width:"5%"},{title:"discount",dataIndex:"supplier_invoice_discount",width:"5%"},{title:"total after",dataIndex:"supplier_invoice_after_discount",width:"5%"},{title:"paid",dataIndex:"supplier_invoice_paid",width:"5%"},{title:"credit",dataIndex:"supplier_invoice_credit",width:"5%"}],y=function(){var i=(0,a.useState)({invoiceType:"",invoiceNumber:0,visible:!1}),e=(0,n.Z)(i,2),t=e[0],d=t.invoiceType,o=t.invoiceNumber,c=t.visible,l=e[1],s=(0,a.useCallback)((function(){l({invoiceType:"",invoiceNumber:0,visible:!1})}),[]),h=(0,a.useCallback)((function(i){l({invoiceType:"C",invoiceNumber:i.customer_invoice_id,visible:!0})}),[]),p=(0,a.useCallback)((function(i){l({invoiceType:"S",invoiceNumber:i.supplier_invoice_id,visible:!0})}),[]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(r.Z,{width:"100%",children:[(0,u.jsxs)(r.Z,{width:"75%",flexDirection:"column",children:[(0,u.jsx)(x.Z,{api:"QUERY_CUSTOMERS_INVOICES_FOR_TODAY",rowKey:"customer_invoice_id",columns:j,fetchOnFirstRun:!0,label:"cstmrs",onDoubleClick:h}),(0,u.jsx)(x.Z,{api:"QUERY_SUPPLIERS_INVOICES_FOR_TODAY",rowKey:"supplier_invoice_id",columns:C,fetchOnFirstRun:!0,label:"splrs",onDoubleClick:p})]}),(0,u.jsxs)(r.Z,{width:"25%",flexDirection:"column",children:[(0,u.jsx)(v,{api:"QUERY_INVOICES_CHART_DATA",label:"invcs",mode:"pie",width:"100%"}),(0,u.jsx)(v,{api:"QUERY_MAIN_CHART_DATA",label:"vault",mode:"pie",width:"100%"})]})]}),(0,u.jsx)(f,{invoiceType:d,invoiceNumber:o,visible:c,onClose:s,withEdit:!1})]})},T=(0,a.memo)(y)}}]);
//# sourceMappingURL=446.5fbcfc66.chunk.js.map