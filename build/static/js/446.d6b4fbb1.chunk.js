"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[446],{8535:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2791),a=n(6582),o=n(184);const d=e=>{let{children:t,justifyContent:n,width:d,height:s,padding:r="10px",margin:l,bordered:c=!1,backgroundColor:h,borderColor:u="#3c8dcf",borderWidth:p="px",borderRadius:m="5px",flexDirection:x="row",textAlign:b="",hidden:g=!1,wrap:f,...w}=e;const[v,j]=(0,i.useState)("");return(0,i.useEffect)((()=>{c&&j("".concat(p," solid ").concat(u))}),[u,p,c]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a.k,{width:d,height:s,padding:r,margin:l,background:h,borderRadius:m,flexDirection:x,textAlign:b,justifyContent:n,hidden:g,wrap:f?"wrap":"",...w,children:t})})},s=(0,i.memo)(d)},3224:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(2791);const a=()=>{const e=(0,i.useRef)(),t=(0,i.useCallback)((async()=>{var t;return await(null===(t=e.current)||void 0===t?void 0:t.handleOpen())}),[e]);return{PDFRef:e,handleOpenModal:t}};var o=n(9539),d=n(184);const s=(e,t)=>{let{reportName:n,params:a}=e;const[s,r]=(0,i.useState)(!1),l=(0,i.useCallback)((()=>{r(!0)}),[]),c=(0,i.useCallback)((()=>{r(!1)}),[]);(0,i.useImperativeHandle)(t,(()=>({handleOpen:l})));const h="http://192.168.1.250:5000/system_pdf_generate/".concat(n,"?").concat(new URLSearchParams(a));return(0,d.jsx)(o.Z,{label:"PDF Viewer",visible:s,onClose:c,noFooter:!0,width:"90%",height:"80%",children:(0,d.jsx)("object",{data:h,width:"100%",height:"100%",children:"Your browser does not support pdf files."})})},r=(0,i.memo)((0,i.forwardRef)(s));var l=n(890);const c=e=>{let{visible:t,onClose:n,onConfirm:a,message:s}=e;const r=(0,i.useCallback)((()=>{a(),n()}),[n,a]);return(0,d.jsx)(o.Z,{label:"cnfrmtn",visible:t,onClose:n,width:"25%",onOK:r,submitTitle:"cnfrm",children:s||"Are you want to continue ?"})},h=(0,i.memo)(c);var u=n(9606),p=n(7262);const m=(e,t)=>{let{api:n,postApi:s,columns:c,ModalContent:m,onClick:x,fetchOnFirstRun:b=!1,params:g,checkForParams:f=!1,modalWidth:w="60%",printProps:v,reportName:j,...C}=e;const{data:k,runFetch:_,loading:y,setData:Z,resetData:S}=(0,l.Z)({link:n,fetchOnFirstRun:b,params:g,checkForParams:f}),{onSaveAndInsertion:T}=(0,p.Z)({api:s,runFetch:_}),{PDFRef:R,handleOpenModal:F}=a(),[I,A]=(0,i.useState)({}),[D,O]=(0,i.useState)(!1),[N,E]=(0,i.useState)(!1),P=(0,i.useCallback)((()=>{A({query_status:"n"}),O(!0)}),[A]),U=(0,i.useCallback)((()=>{A({...I,query_status:"u"}),O(!0)}),[I,A]),z=(0,i.useCallback)((()=>{O(!1)}),[]),L=(0,i.useCallback)((()=>{E(!1)}),[]),Y=(0,i.useCallback)((()=>{E(!0)}),[]),q=(0,i.useMemo)((()=>null===k||void 0===k?void 0:k.data),[null===k||void 0===k?void 0:k.data]),B=(0,i.useCallback)((()=>{I&&F()}),[F,I]);return(0,i.useImperativeHandle)(t,(()=>({runFetch:_,setTableData:Z,resetTableData:S,getCurrentDataSource:()=>q}))),(0,d.jsxs)(d.Fragment,{children:[m&&(0,d.jsx)(o.Z,{visible:D,onClose:z,hideCloseButton:!0,hideSaveButton:!0,label:"dtls",noFooter:!0,width:w,children:(0,d.jsx)(m,{onClose:z,selectedRow:I,refreshTable:_})}),(0,d.jsx)(h,{visible:N,onConfirm:()=>{T({...I,query_status:"d"})},onClose:L}),(0,d.jsx)(r,{ref:R,reportName:j,params:v}),(0,d.jsx)(u.Z,{dataSource:null===k||void 0===k?void 0:k.data,columns:c,onAdd:P,onEdit:U,onPrint:B,onDelete:Y,onSelectedRow:e=>{A(e),x&&x(e)},loading:y,...C})]})},x=(0,i.memo)((0,i.forwardRef)(m))},9606:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(2791),a=n(6409),o=n(4067),d=n(4880),s=n(4045),r=n(9230),l=n(1813),c=n(2715),h=n(8773),u=n(824),p=n(1364),m=n(5802),x=n(8733),b=n(7588),g=n(2940),f=n(5606),w=n(8535),v=n(184);const j=e=>{let{dataSource:t,height:n="300px",rowKey:j="rowKey",columns:C,hideTools:k=!0,canEdit:_=!1,canAdd:y=!1,canDelete:Z=!1,canExcel:S=!1,onAdd:T,onEdit:R,onDelete:F,actionColumn:I=!1,onAction:A,actionLabel:D="",onSelectedRow:O,label:N,canPrint:E=!1,onPrint:P,additionalButtons:U,onSave:z,canSave:L=!1,width:Y="100%",margin:q="",padding:B="",loading:G=!1,onDoubleClick:K}=e;const{pathname:W}=(0,d.TH)(),{t:V}=(0,r.$G)(),[H,M]=(0,i.useState)(),Q=(0,i.useCallback)((e=>()=>{O&&O(e),M(e)}),[O]),$=(0,i.useCallback)((e=>()=>{K&&K(e),M(e)}),[K]),J=(0,i.useCallback)((()=>{const e=W.replace("/",""),n=s.P6.book_new(),i=s.P6.json_to_sheet(t);s.P6.book_append_sheet(n,i,e),s.NC(n,"".concat(e," ").concat((new Date).toUTCString(),".xlsx"))}),[t,W]),X=(0,i.useRef)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(l.x,{width:Y,padding:B,margin:q,children:[N&&(0,v.jsx)(c.x,{width:"100%",textAlign:"center",marginBottom:"7px",fontSize:"md",fontWeight:"bold",children:V(N)}),(0,v.jsxs)(w.Z,{width:"100%",padding:"0",margin:"5px 0",justifyContent:"center",hidden:k,children:[(0,v.jsx)(a.Z,{iconName:"plus",onClick:T,hidden:!y}),(0,v.jsx)(a.Z,{iconName:"edit",onClick:R,hidden:!_,disabled:!H}),(0,v.jsx)(a.Z,{iconName:"delete",onClick:F,hidden:!Z,disabled:!H}),U&&U.map((e=>(0,v.jsx)(a.Z,{iconName:e.icon,onClick:e.onClick,disabled:e.disabled,hidden:!1}))),(0,v.jsx)(a.Z,{iconName:"save",onClick:z,hidden:!L,disabled:!L}),(0,v.jsx)(a.Z,{iconName:"print",onClick:P,hidden:!E,disabled:!E}),(0,v.jsx)(a.Z,{iconName:"excel",onClick:J,hidden:!S,disabled:!S})]}),(0,v.jsx)(h.O,{isLoaded:!G,fadeDuration:0,children:(0,v.jsxs)(u.xu,{overflowY:"auto",height:n,children:[(0,v.jsxs)(p.i,{ref:X,children:[(0,v.jsx)(m.h,{top:0,position:"sticky",bgColor:"#3edae6",children:(0,v.jsxs)(x.Tr,{children:[C.map((e=>(0,v.jsx)(b.Th,{maxWidth:e.width,minWidth:e.width,children:V(e.title)}))),(0,v.jsx)(b.Th,{hidden:!I,children:V("actn")})]})}),(0,v.jsx)(g.p,{children:null===t||void 0===t?void 0:t.map((e=>(0,v.jsxs)(x.Tr,{onClick:Q(e),onDoubleClick:$(e),background:"".concat(H===e?"#dbffbf":""),children:[C.map((t=>(0,v.jsx)(f.Td,{maxWidth:t.width,minWidth:t.width,children:e[t.dataIndex]}))),(0,v.jsx)(f.Td,{hidden:!I,children:(0,v.jsx)(o.Z,{label:D,width:"100%",onClick:()=>{A(e)}})})]},e[j])))})]}),Array.isArray(t)&&0!==t.length||G?(0,v.jsx)(v.Fragment,{}):(0,v.jsx)(w.Z,{justifyContent:"center",width:"100%",children:(0,v.jsx)(c.x,{as:"b",fontSize:"md",color:"red",children:"No Data"})})]})})]})})}},7262:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(2791),a=n(4082);const o=e=>{let{api:t="",runFetch:n}=e;const{setRow:o}=(0,a.Z)({link:t,additionalFunctionToRun:n,method:"POST"}),{setRow:d}=(0,a.Z)({link:t,additionalFunctionToRun:n,method:"PUT"}),{setRow:s}=(0,a.Z)({link:t,additionalFunctionToRun:n,method:"Delete"});return{onSaveAndInsertion:(0,i.useCallback)((e=>{"n"===e.query_status?o(e):"u"===e.query_status?d(e):"d"===e.query_status&&s(e)}),[o,d,s])}}},6409:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(2791),a=n(4067);const o={excel:"fa-sharp fa-regular fa-file-excel",plus:"fa-sharp fa-solid fa-plus",edit:"fa-sharp fa-solid fa-pen-clip",delete:"fa-sharp fa-solid fa-trash",save:"fa-solid fa-floppy-disk",print:"fa-solid fa-print",search:"fa-solid fa-magnifying-glass",clear:"fa-solid fa-broom"};var d=n(184);const s=e=>{let{iconName:t,backGround:n="none",margin:i="5px",...s}=e;const r=(0,d.jsx)("i",{className:t?o[t]:""});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(a.Z,{border:"none",icon:r,padding:"0",borderRadius:"20px",margin:i,backGround:n,...s})})},r=(0,i.memo)(s)},4082:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2791),a=n(1227),o=n(399),d=n(8382);const s=e=>{let{link:t="",noAuthorization:n=!1,additionalFunctionToRun:s,runOnSuccess:r,runOnFail:l,method:c="POST"}=e;const h=(0,d.p)(),u="http://192.168.1.250:5000/api/".concat(o.Z[t]),[p,m]=(0,i.useState)(),{authorization:x}=(0,a.Z)(),b=(0,i.useCallback)((async e=>{if(x||n){const n={method:c,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(x)},body:JSON.stringify(e)};try{const e=await fetch(u,n),t=await e.json();return"success"===t.response?(h({position:"top-right",title:"Success",description:"".concat(t.response),status:"success",duration:5e3,isClosable:!0}),r&&r()):(h({position:"top-right",title:"Error",description:"".concat(t.message),status:"error",duration:9e3,isClosable:!0}),l&&l()),m(t),s&&s(),t}catch(t){}}}),[s,x,c,n,l,r,h,u]);return{success:p,setRow:(0,i.useCallback)((e=>{b(e)}),[b])}}},9539:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(2791),a=n(4067),o=n(9230),d=n(184);const s=e=>{let{value:t,margin:n,padding:i,width:a="",fontSize:s="",color:r,backgroundColor:l}=e;const{t:c}=(0,o.$G)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("strong",{style:{padding:i,margin:n,width:a,fontSize:s,color:r,backgroundColor:l},children:c(t)})})},r=(0,i.memo)(s);var l,c,h,u,p,m=n(8535),x=n(168),b=n(225);const g=b.Z.div(l||(l=(0,x.Z)(["\n  position: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n    z-index: 1;\n"]))),f=b.Z.div(c||(c=(0,x.Z)(["\n /* position: relative;\n    margin: 5% auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: ",";\n    height: ",";\n    background-color: white;\n    border-radius: 15px; */\n    /* max-height: 90vh;\n\tmax-width: 500px; */\n    width: ",";\n    height: ",";\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tbackground-color: #fff;\n\tborder-radius: 15px;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-shadow: 0 15px 30px 0 rgba(#000, 0.25);\n\t@media (max-width: 600px) {\n\t\twidth: 90%;\n\t}\n"])),(e=>{let{width:t}=e;return t}),(e=>{let{height:t}=e;return t}),(e=>{let{width:t}=e;return t}),(e=>{let{height:t}=e;return t})),w=b.Z.div(h||(h=(0,x.Z)(["\n\tpadding: 15px 32px;\n\tborder-bottom: 1px solid #ddd;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n"]))),v=b.Z.div(u||(u=(0,x.Z)(["\n\tpadding: 10px 32px;\n\toverflow-y: auto;\n    height: 100%;\n"]))),j=b.Z.div(p||(p=(0,x.Z)(['\n    padding: 15px 32px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tborder-top: 1px solid #ddd;\n\tgap: 12px;\n\tposition: relative;\n\t&:after {\n\t\tcontent: "";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: -51px;\n\t\tleft: 24px;\n\t\tright: 24px;\n\t\theight: 50px;\n\t\tflex-shrink: 0;\n\t\tbackground-image: linear-gradient(to top, rgba(#fff, 0.75), transparent);\n\t\tpointer-events: none;\n\t}\n']))),C=e=>{let{children:t,visible:n=!1,label:i,onClose:o,onOK:s,submitTitle:l="smbt",width:c="90%",height:h="auto",hideSaveButton:u=!1,hideCloseButton:p=!1,noFooter:x=!1}=e;return(0,d.jsx)(d.Fragment,{children:n&&(0,d.jsx)(g,{hidden:!n,children:(0,d.jsxs)(f,{width:c,height:h,children:[(0,d.jsxs)(w,{children:[(0,d.jsx)(r,{value:i}),(0,d.jsx)(a.Z,{label:"\xd7",backGround:"none",margin:"0",padding:"0","data-dismiss":"modal",onClick:o})]}),(0,d.jsx)(v,{children:(0,d.jsx)(m.Z,{width:"100%",padding:"0",wrap:"wrap",height:"100%",children:t})}),!x&&(0,d.jsxs)(j,{hidden:x,children:[!u&&(0,d.jsx)(a.Z,{onClick:s,label:l,hidden:u,width:"20%",margin:"0"}),!p&&(0,d.jsx)(a.Z,{onClick:o,label:"cls",hidden:p,width:"20%",backGround:"red",margin:"0"})]})]})})})},k=(0,i.memo)(C)},1446:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var i=n(2791),a=n(890),o=n(658),d=n(9230),s=n(8535),r=n(184);const l=e=>{let{mode:t="bar",width:n,height:i,margin:a,padding:l,label:c="chart",dataSource:h}=e;const{t:u}=(0,d.$G)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.Z,{flexDirection:"column",width:n,height:i,margin:a,padding:l,children:[(0,r.jsx)(s.Z,{width:"100%",justifyContent:"center",children:(0,r.jsx)("p",{children:u(c)})}),h&&(()=>{switch(t){case"line":return(0,r.jsx)(o.kL,{type:"line",data:h});case"pie":return(0,r.jsx)(o.kL,{type:"pie",data:h});case"bar":return(0,r.jsx)(o.kL,{type:"bar",data:h})}})()]})})},c=(0,i.memo)(l),h=e=>{let{api:t,params:n,...o}=e;const[d,s]=(0,i.useState)({labels:[],datasets:[{label:"",data:[]}]}),{data:l}=(0,a.Z)({link:t,fetchOnFirstRun:!0,params:n});return(0,i.useEffect)((()=>{Array.isArray(l)||s(l)}),[l]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c,{dataSource:d,...o})})},u=(0,i.memo)(h);var p=n(3224),m=n(9539);const x=[{title:"itmnm",dataIndex:"item",width:"15%"},{title:"wdth",dataIndex:"width",width:"5%"},{title:"hght",dataIndex:"height",width:"5%"},{title:"sz",dataIndex:"size",width:"5%"},{title:"qnty",dataIndex:"quantity",width:"5%"},{title:"prc",dataIndex:"price",width:"5%"},{title:"total",dataIndex:"total",width:"5%"},{title:"nts",dataIndex:"notes",width:"5%"}],b=e=>{let{visible:t,onClose:n,invoiceType:i,invoiceNumber:a,withEdit:o}=e;const d="C"===i?"customer":"supplier";return(0,r.jsx)(m.Z,{visible:t,label:"C"===i?"cstmrs":"splrs",onClose:n,noFooter:!0,children:(0,r.jsx)(p.Z,{api:"QUERY_INVOICE_DETAIL_TABLE_DATA",rowKey:"".concat(d,"_invoice_id"),params:{invoice_type:i,invoice_no:a},columns:x,hideTools:!o,canDelete:!0,fetchOnFirstRun:!0,checkForParams:!1})})},g=(0,i.memo)(b),f=[{title:"no",dataIndex:"customer_invoice_id",width:"5%"},{title:"nm",dataIndex:"invoice_holder_name",width:"10%"},{title:"total",dataIndex:"customer_invoice_total",width:"5%"},{title:"discount",dataIndex:"customer_invoice_discount",width:"5%"},{title:"total after",dataIndex:"customer_invoice_after_discount",width:"5%"},{title:"paid",dataIndex:"customer_invoice_paid",width:"5%"},{title:"credit",dataIndex:"customer_invoice_credit",width:"5%"}],w=[{title:"no",dataIndex:"supplier_invoice_id",width:"5%"},{title:"nm",dataIndex:"invoice_holder_name",width:"10%"},{title:"total",dataIndex:"supplier_invoice_total",width:"5%"},{title:"discount",dataIndex:"supplier_invoice_discount",width:"5%"},{title:"total after",dataIndex:"supplier_invoice_after_discount",width:"5%"},{title:"paid",dataIndex:"supplier_invoice_paid",width:"5%"},{title:"credit",dataIndex:"supplier_invoice_credit",width:"5%"}],v=()=>{const[{invoiceType:e,invoiceNumber:t,visible:n},a]=(0,i.useState)({invoiceType:"",invoiceNumber:0,visible:!1}),o=(0,i.useCallback)((()=>{a({invoiceType:"",invoiceNumber:0,visible:!1})}),[]),d=(0,i.useCallback)((e=>{a({invoiceType:"C",invoiceNumber:e.customer_invoice_id,visible:!0})}),[]),l=(0,i.useCallback)((e=>{a({invoiceType:"S",invoiceNumber:e.supplier_invoice_id,visible:!0})}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Z,{width:"100%",children:[(0,r.jsxs)(s.Z,{width:"75%",flexDirection:"column",children:[(0,r.jsx)(p.Z,{api:"QUERY_CUSTOMERS_INVOICES_FOR_TODAY",rowKey:"customer_invoice_id",columns:f,fetchOnFirstRun:!0,label:"cstmrs",onDoubleClick:d}),(0,r.jsx)(p.Z,{api:"QUERY_SUPPLIERS_INVOICES_FOR_TODAY",rowKey:"supplier_invoice_id",columns:w,fetchOnFirstRun:!0,label:"splrs",onDoubleClick:l})]}),(0,r.jsxs)(s.Z,{width:"25%",flexDirection:"column",children:[(0,r.jsx)(u,{api:"QUERY_INVOICES_CHART_DATA",label:"invcs",mode:"pie",width:"100%"}),(0,r.jsx)(u,{api:"QUERY_VAULT_CHART_DATA",label:"vault",mode:"pie",width:"100%"})]})]}),(0,r.jsx)(g,{invoiceType:e,invoiceNumber:t,visible:n,onClose:o,withEdit:!1})]})},j=(0,i.memo)(v)}}]);
//# sourceMappingURL=446.d6b4fbb1.chunk.js.map