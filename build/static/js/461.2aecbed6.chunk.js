"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[461],{4082:function(e,t,i){var n=i(4165),o=i(5861),a=i(9439),r=i(2791),c=i(1227),s=i(399),u=i(8382);t.Z=function(e){var t,i=e.link,l=void 0===i?"":i,d=e.noAuthorization,_=void 0!==d&&d,m=e.additionalFunctionToRun,h=e.runOnSuccess,v=e.runOnFail,p=e.method,f=void 0===p?"POST":p,g=(0,u.p)(),x="http://144.24.209.19:9090/api/".concat(s.Z[l]),b=(0,r.useState)(),Z=(0,a.Z)(b,2),C=Z[0],w=Z[1],j=(0,c.Z)().authorization,L=(0,r.useCallback)((function(e){return(t=t||(0,o.Z)((0,n.Z)().mark((function e(t){var i,o,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j&&!_){e.next=17;break}return i={method:f,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(j)},body:JSON.stringify(t)},e.prev=2,e.next=5,fetch(x,i);case 5:return o=e.sent,e.next=8,o.json();case 8:return"success"===(a=e.sent).response?(g({position:"top-right",title:"Success",description:"".concat(a.response),status:"success",duration:5e3,isClosable:!0}),h&&h()):(g({position:"top-right",title:"Error",description:"".concat(a.message),status:"error",duration:9e3,isClosable:!0}),v&&v()),w(a),m&&m(),e.abrupt("return",a);case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}),[m,j,f,_,v,h,g,x]);return{success:C,setRow:(0,r.useCallback)((function(e){L(e)}),[L])}}},9242:function(e,t,i){i.d(t,{Z:function(){return v}});var n,o=i(1413),a=i(5987),r=i(2791),c=i(6582),s=i(930),u=i(9230),l=i(168),d=i(225).Z.input(n||(n=(0,l.Z)(["\nbackground: #fdfdfd;\nborder: 0.5px solid #cbd5e0;\nheight: 100%;\nwidth: 100%;\nborder-radius: 7px;\npadding: 0 16px;\n"]))),_=i(184),m=["disabled","value","name","Label","onChange","height","width","padding","margin"],h=function(e){var t=e.disabled,i=e.value,n=e.name,l=e.Label,h=void 0===l?"":l,v=e.onChange,p=e.height,f=void 0===p?"65px":p,g=e.width,x=void 0===g?"200px":g,b=e.padding,Z=e.margin,C=void 0===Z?"10px":Z,w=(0,a.Z)(e,m),j=(0,u.$G)().t,L=(0,r.useCallback)((function(e){v({name:n,value:+e.target.value})}),[n,v]);return(0,_.jsxs)(c.k,{direction:"column",width:x,padding:b,margin:C,height:f,children:[(0,_.jsx)(s.l,{children:j(h)}),(0,_.jsx)(d,(0,o.Z)({disabled:t,onChange:L,width:"100%",value:i,type:"number"},w))]})},v=(0,r.memo)(h)},9461:function(e,t,i){i.r(t),i.d(t,{default:function(){return g}});var n=i(1413),o=i(2791),a=i(9457),r=i(9242),c=i(3388),s=i(4082),u=i(5057),l=i(8535),d=i(6888),_=i(898),m=i(184),h=function(e){var t=e.onChange,i=e.state,c=e.handleRootState,s=e.handleSelectWithLabelChange;return(0,o.useEffect)((function(){c((0,n.Z)((0,n.Z)({},i),{},{customer_invoice_item_size:+i.customer_invoice_item_width*+i.customer_invoice_item_height,customer_invoice_item_total:+i.customer_invoice_item_quantity*+i.customer_invoice_item_price*+i.customer_invoice_item_width*+i.customer_invoice_item_height}))}),[i.customer_invoice_item_width,i.customer_invoice_item_height,i.customer_invoice_item_quantity,i.customer_invoice_item_price]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(l.Z,{width:"100%",flexDirection:"column",margin:"0",padding:"0",children:[(0,m.jsxs)(l.Z,{margin:"0",padding:"0",children:[(0,m.jsx)(d.Z,{Api:"QUERY_PRINT_OPTIONS_LIST",onChange:s,value:i.customer_invoice_print_option_id,Label:"prntnm",name:"customer_invoice_print_option_id",withLabel:!0,fetchOnFirstRun:!0,selectLabelName:"print_name"}),(0,m.jsx)(d.Z,{Api:"QUERY_ITEMS_LIST",onChange:s,value:i.customer_invoice_item_id,Label:"itmnm",name:"customer_invoice_item_id",withLabel:!0,fetchOnFirstRun:!0,selectLabelName:"item_name"})]}),(0,m.jsxs)(l.Z,{margin:"0",padding:"0",children:[(0,m.jsx)(r.Z,{name:"customer_invoice_item_width",value:i.customer_invoice_item_width,Label:"wdth",onChange:t,width:"14%"}),(0,m.jsx)(r.Z,{name:"customer_invoice_item_height",value:i.customer_invoice_item_height,Label:"hght",onChange:t,width:"14%"}),(0,m.jsx)(r.Z,{name:"customer_invoice_item_size",value:i.customer_invoice_item_size,Label:"sz",onChange:t,disabled:!0,width:"14%"}),(0,m.jsx)(r.Z,{name:"customer_invoice_item_quantity",value:i.customer_invoice_item_quantity,Label:"qnty",onChange:t,width:"14%"}),(0,m.jsx)(r.Z,{name:"customer_invoice_item_price",value:i.customer_invoice_item_price,Label:"prc",onChange:t,width:"14%"}),(0,m.jsx)(r.Z,{name:"customer_invoice_item_total",value:i.customer_invoice_item_total,Label:"total",onChange:t,disabled:!0,width:"14%"}),(0,m.jsx)(a.Z,{name:"customer_invoice_item_notes",value:i.customer_invoice_item_notes,Label:"nts",onChange:t,width:"14%"})]})]})})},v=(0,o.memo)(h),p=[{title:"prntnm",width:"10%",dataIndex:"print_name"},{title:"itmnm",width:"10%",dataIndex:"item_name"},{title:"wdth",width:"10%",dataIndex:"customer_invoice_item_width"},{title:"hght",width:"10%",dataIndex:"customer_invoice_item_height"},{title:"sz",width:"10%",dataIndex:"customer_invoice_item_size"},{title:"qnty",width:"10%",dataIndex:"customer_invoice_item_quantity"},{title:"prc",width:"10%",dataIndex:"customer_invoice_item_price"},{title:"total",width:"10%",dataIndex:"customer_invoice_item_total"},{title:"nts",width:"10%",dataIndex:"customer_invoice_item_notes"}],f=function(){var e=(0,c.Z)({initialValues:{customer_id:0,customer_invoice_date:"",customer_invoice_items:[],query_status:"n",customer_invoice_total:0,customer_invoice_discount:0,customer_invoice_after_discount:0,customer_invoice_paid:0,customer_invoice_credit:0}}),t=e.state,i=e.onChange,h=e.resetForm,f=e.handleRootState,g=e.handleArrayChange,x=(0,c.Z)({initialValues:{customer_invoice_print_option_id:0,customer_invoice_item_id:0,customer_invoice_item_width:0,customer_invoice_item_height:0,customer_invoice_item_size:0,customer_invoice_item_quantity:0,customer_invoice_item_price:0,customer_invoice_item_total:0,customer_invoice_item_notes:"",item_name:"",print_name:""}}),b=x.state,Z=x.onChange,C=x.handleRootState,w=x.handleSelectWithLabelChange,j=x.resetForm,L=(0,s.Z)({link:"POST_CUSTOMER_INVOICE_DETAILS",runOnSuccess:h}).setRow,I=(0,o.useCallback)((function(){g({name:"customer_invoice_items",value:b}),j()}),[b,g,j]),k=(0,o.useCallback)((function(){L(t)}),[L,t]),y=[{icon:"fa-solid fa-broom",onClick:h}];return(0,o.useEffect)((function(){if(Array.isArray(t.customer_invoice_items)&&0!==t.customer_invoice_items.length){var e=0;t.customer_invoice_items.forEach((function(t){e+=t.customer_invoice_item_total})),i({name:"customer_invoice_total",value:e})}}),[t.customer_invoice_items,t.customer_invoice_total]),(0,o.useEffect)((function(){f((0,n.Z)((0,n.Z)({},t),{},{customer_invoice_after_discount:t.customer_invoice_total-t.customer_invoice_discount,customer_invoice_credit:t.customer_invoice_total-t.customer_invoice_discount-t.customer_invoice_paid}))}),[t.customer_invoice_total,t.customer_invoice_discount,t.customer_invoice_paid]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(l.Z,{flexDirection:"column",width:"100%",children:[(0,m.jsxs)(l.Z,{margin:"0",padding:"0",children:[(0,m.jsx)(d.Z,{Api:"QUERY_CUSTOMERS_LIST",onChange:i,value:t.customer_id,Label:"cstmr",name:"customer_id",fetchOnFirstRun:!0}),(0,m.jsx)(a.Z,{name:"customer_invoice_date",value:t.customer_invoice_date,Label:"dt",onChange:i,type:"date"})]}),(0,m.jsx)(v,{state:b,onChange:Z,handleRootState:C,handleSelectWithLabelChange:w}),(0,m.jsx)(u.Z,{columns:p,dataSource:t.customer_invoice_items,actionColumn:!0,actionLabel:"Delete",hideTools:!1,onAdd:I,canAdd:!0,additionalButtons:y}),(0,m.jsxs)(l.Z,{width:"100%",justifyContent:"space-around",children:[(0,m.jsx)(r.Z,{name:"customer_invoice_total",disabled:!0,value:t.customer_invoice_total,Label:"total",width:"15%"}),(0,m.jsx)(r.Z,{name:"customer_invoice_discount",value:t.customer_invoice_discount,Label:"dscnt",onChange:i,width:"15%"}),(0,m.jsx)(r.Z,{name:"totalAfterDiscount",disabled:!0,value:t.customer_invoice_after_discount,Label:"Tlaftrdsnt",width:"15%"}),(0,m.jsx)(r.Z,{name:"customer_invoice_paid",value:t.customer_invoice_paid,Label:"paid",onChange:i,width:"15%"}),(0,m.jsx)(r.Z,{name:"customer_invoice_credit",disabled:!0,value:t.customer_invoice_credit,Label:"Crdt",width:"15%"}),(0,m.jsx)(_.Z,{label:"sv",width:"15%",height:"50%",margin:"30px 0",onClick:k})]})]})})},g=(0,o.memo)(f)},930:function(e,t,i){i.d(t,{l:function(){return m}});var n=i(1413),o=i(5987),a=i(9657),r=i(5597),c=i(2481),s=i(9592),u=i(1665),l=i(6992),d=i(184),_=["className","children","requiredIndicator","optionalIndicator"],m=(0,r.G)((function(e,t){var i,r=(0,c.mq)("FormLabel",e),m=(0,s.Lr)(e),v=(m.className,m.children),p=m.requiredIndicator,f=void 0===p?(0,d.jsx)(h,{}):p,g=m.optionalIndicator,x=void 0===g?null:g,b=(0,o.Z)(m,_),Z=(0,a.NJ)(),C=null!=(i=null==Z?void 0:Z.getLabelProps(b,t))?i:(0,n.Z)({ref:t},b);return(0,d.jsxs)(u.m.label,(0,n.Z)((0,n.Z)({},C),{},{className:(0,l.cx)("chakra-form__label",m.className),__css:(0,n.Z)({display:"block",textAlign:"start"},r),children:[v,(null==Z?void 0:Z.isRequired)?f:x]}))}));m.displayName="FormLabel";var h=(0,r.G)((function(e,t){var i=(0,a.NJ)(),o=(0,a.e)();if(!(null==i?void 0:i.isRequired))return null;var r=(0,l.cx)("chakra-form__required-indicator",e.className);return(0,d.jsx)(u.m.span,(0,n.Z)((0,n.Z)({},null==i?void 0:i.getRequiredIndicatorProps(e,t)),{},{__css:o.requiredIndicator,className:r}))}));h.displayName="RequiredIndicator"},9657:function(e,t,i){i.d(t,{NI:function(){return L},NJ:function(){return j},e:function(){return b}});var n=i(1413),o=i(5987),a=i(9439),r=i(9886),c=i(4591),s=i(5597),u=i(2481),l=i(9592),d=i(1665),_=i(6992),m=i(2791),h=i(184),v=["id","isRequired","isInvalid","isDisabled","isReadOnly"],p=["getRootProps","htmlProps"],f=(0,r.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),g=(0,a.Z)(f,2),x=g[0],b=g[1],Z=(0,r.k)({strict:!1,name:"FormControlContext"}),C=(0,a.Z)(Z,2),w=C[0],j=C[1];var L=(0,s.G)((function(e,t){var i=(0,u.jC)("Form",e),r=function(e){var t=e.id,i=e.isRequired,r=e.isInvalid,s=e.isDisabled,u=e.isReadOnly,l=(0,o.Z)(e,v),d=(0,m.useId)(),h=t||"field-".concat(d),p="".concat(h,"-label"),f="".concat(h,"-feedback"),g="".concat(h,"-helptext"),x=(0,m.useState)(!1),b=(0,a.Z)(x,2),Z=b[0],C=b[1],w=(0,m.useState)(!1),j=(0,a.Z)(w,2),L=j[0],I=j[1],k=(0,m.useState)(!1),y=(0,a.Z)(k,2),R=y[0],S=y[1],F=(0,m.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,n.Z)((0,n.Z)({id:g},e),{},{ref:(0,c.lq)(t,(function(e){e&&I(!0)}))})}),[g]),q=(0,m.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,n.Z)((0,n.Z)({},e),{},{ref:t,"data-focus":(0,_.PB)(R),"data-disabled":(0,_.PB)(s),"data-invalid":(0,_.PB)(r),"data-readonly":(0,_.PB)(u),id:void 0!==e.id?e.id:p,htmlFor:void 0!==e.htmlFor?e.htmlFor:h})}),[h,s,R,r,u,p]),N=(0,m.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,n.Z)((0,n.Z)({id:f},e),{},{ref:(0,c.lq)(t,(function(e){e&&C(!0)})),"aria-live":"polite"})}),[f]),T=(0,m.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,n.Z)((0,n.Z)((0,n.Z)({},e),l),{},{ref:t,role:"group"})}),[l]),P=(0,m.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,n.Z)((0,n.Z)({},e),{},{ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!i,isInvalid:!!r,isReadOnly:!!u,isDisabled:!!s,isFocused:!!R,onFocus:function(){return S(!0)},onBlur:function(){return S(!1)},hasFeedbackText:Z,setHasFeedbackText:C,hasHelpText:L,setHasHelpText:I,id:h,labelId:p,feedbackId:f,helpTextId:g,htmlProps:l,getHelpTextProps:F,getErrorMessageProps:N,getRootProps:T,getLabelProps:q,getRequiredIndicatorProps:P}}((0,l.Lr)(e)),s=r.getRootProps,f=(r.htmlProps,(0,o.Z)(r,p)),g=(0,_.cx)("chakra-form-control",e.className);return(0,h.jsx)(w,{value:f,children:(0,h.jsx)(x,{value:i,children:(0,h.jsx)(d.m.div,(0,n.Z)((0,n.Z)({},s({},t)),{},{className:g,__css:i.container}))})})}));L.displayName="FormControl",(0,s.G)((function(e,t){var i=j(),o=b(),a=(0,_.cx)("chakra-form__helper-text",e.className);return(0,h.jsx)(d.m.div,(0,n.Z)((0,n.Z)({},null==i?void 0:i.getHelpTextProps(e,t)),{},{__css:o.helperText,className:a}))})).displayName="FormHelperText"}}]);
//# sourceMappingURL=461.2aecbed6.chunk.js.map