"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[479],{3479:function(e,n,i){var t=i(1413),a=i(9439),o=i(5987),s=i(2791),c=i(5057),r=i(3838),d=i(2080),l=i(7262),_=i(184),u=["api","postApi","columns","ModalContent","onClick","fetchOnFirstRun","params"],p=function(e){var n=e.api,i=e.postApi,p=e.columns,h=e.ModalContent,E=e.onClick,m=e.fetchOnFirstRun,T=void 0!==m&&m,f=e.params,A=(0,o.Z)(e,u),v=(0,r.Z)({link:n,fetchOnFirstRun:T,params:f}),b=v.data,S=v.runFetch,x=v.loading,C=(0,l.Z)({api:i,runFetch:S}).onSaveAndInsertion,R=(0,s.useState)({}),j=(0,a.Z)(R,2),P=j[0],k=j[1],O=(0,s.useState)(!1),g=(0,a.Z)(O,2),L=g[0],y=g[1],I=(0,s.useCallback)((function(){k({query_status:"n"}),y(!0)}),[k]),Z=(0,s.useCallback)((function(){k((0,t.Z)((0,t.Z)({},P),{},{query_status:"u"})),y(!0)}),[P,k]),U=(0,s.useCallback)((function(){y(!1)}),[]);return(0,_.jsxs)(_.Fragment,{children:[h&&(0,_.jsx)(d.Z,{visible:L,onClose:U,hideCloseButton:!0,hideSaveButton:!0,label:"dtls",children:(0,_.jsx)(h,{onClose:U,selectedRow:P,refreshTable:S})}),(0,_.jsx)(c.Z,(0,t.Z)({dataSource:null===b||void 0===b?void 0:b.data,columns:p,onAdd:I,onEdit:Z,onDelete:function(){C((0,t.Z)((0,t.Z)({},P),{},{query_status:"d"}))},onSelectedRow:function(e){k(e),E&&E(e)},loading:x},A))]})};n.Z=(0,s.memo)(p)},5057:function(e,n,i){i.d(n,{Z:function(){return R}});var t=i(9439),a=i(2791),o=i(184),s=function(e){var n=e.icon,i=e.onClick,t=e.disabled,a=void 0!==t&&t,s=e.width,c=void 0===s?"30px":s,r=e.height,d=void 0===r?"30px":r,l=e.color,_=e.margin,u=void 0===_?"10px":_,p=e.padding,h=e.hidden,E=void 0!==h&&h;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{style:{border:"none",width:c,height:d,backgroundColor:l,padding:p,margin:u,borderRadius:"20px"},hidden:E,onClick:i,disabled:a,children:(0,o.jsx)("i",{className:n})})})},c=(0,a.memo)(s),r=i(898),d=i(4880),l=i(4045),_=i(9230),u=i(1146),p=i.n(u),h=i(1900),E=i(3676),m=i(4087),T=i(2732),f=i(553),A=i(3129),v=i(5237),b=i(8500),S=i(4004),x=i(9229),C=i(8535),R=function(e){var n=e.dataSource,i=e.height,s=void 0===i?"300px":i,u=e.rowKey,R=void 0===u?"rowKey":u,j=e.columns,P=e.hideTools,k=void 0===P||P,O=e.canEdit,g=void 0!==O&&O,L=e.canAdd,y=void 0!==L&&L,I=e.canDelete,Z=void 0!==I&&I,U=e.canExcel,D=void 0!==U&&U,w=e.onAdd,Y=e.onEdit,B=e.onDelete,N=e.actionColumn,M=void 0!==N&&N,Q=e.onAction,F=e.actionLabel,H=void 0===F?"":F,z=e.onSelectedRow,V=e.canPrint,q=void 0!==V&&V,G=(e.onPrint,e.additionalButtons),K=e.onSave,W=e.canSave,J=void 0!==W&&W,X=e.width,$=void 0===X?"100%":X,ee=e.margin,ne=void 0===ee?"":ee,ie=e.padding,te=void 0===ie?"":ie,ae=e.loading,oe=void 0!==ae&&ae,se=e.onDoubleClick,ce=void 0===se?function(){}:se,re=(0,d.TH)().pathname,de=(0,_.$G)().t,le=(0,a.useState)(),_e=(0,t.Z)(le,2),ue=_e[0],pe=_e[1],he=(0,a.useCallback)((function(e){return function(){z(e),pe(e)}}),[z]),Ee=(0,a.useCallback)((function(){var e=re.replace("/",""),i=l.P6.book_new(),t=l.P6.json_to_sheet(n);l.P6.book_append_sheet(i,t,e),l.NC(i,"".concat(e," ").concat((new Date).toUTCString(),".xlsx"))}),[n,re]),me=(0,a.useRef)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(h.x,{width:$,padding:te,margin:ne,children:[(0,o.jsxs)(C.Z,{width:"100%",padding:"0",margin:"5px 0",justifyContent:"center",hidden:k,children:[(0,o.jsx)(c,{icon:"fa-sharp fa-solid fa-plus",onClick:w,hidden:!y}),(0,o.jsx)(c,{icon:"fa-sharp fa-solid fa-pen-clip",onClick:Y,hidden:!g,disabled:!ue}),(0,o.jsx)(c,{icon:"fa-sharp fa-solid fa-trash",onClick:B,hidden:!Z,disabled:!ue}),G&&G.map((function(e){return(0,o.jsx)(c,{icon:e.icon,onClick:e.onClick,disabled:e.disabled,hidden:!1})})),(0,o.jsx)(c,{icon:"fa-solid fa-floppy-disk",onClick:K,hidden:!J,disabled:!J}),(0,o.jsx)(p(),{trigger:function(){return(0,o.jsx)(c,{icon:"fa-solid fa-print",hidden:!q,disabled:!q})},content:function(){return me.current},documentTitle:"dd"}),(0,o.jsx)(c,{icon:"fa-sharp fa-regular fa-file-excel",onClick:Ee,hidden:!D,disabled:!D})]}),(0,o.jsx)(E.O,{isLoaded:!oe,fadeDuration:0,children:(0,o.jsxs)(m.xu,{overflowY:"auto",height:s,children:[(0,o.jsxs)(T.i,{ref:me,children:[(0,o.jsx)(f.h,{top:0,position:"sticky",bgColor:"#3edae6",children:(0,o.jsxs)(A.Tr,{children:[j.map((function(e){return(0,o.jsx)(v.Th,{maxWidth:e.width,minWidth:e.width,children:de(e.title)})})),(0,o.jsx)(v.Th,{hidden:!M,children:de("actn")})]})}),(0,o.jsx)(b.p,{children:null===n||void 0===n?void 0:n.map((function(e){return(0,o.jsxs)(A.Tr,{onClick:he(e),onDoubleClick:ce,background:"".concat(ue===e?"#dbffbf":""),children:[j.map((function(n){return(0,o.jsx)(S.Td,{maxWidth:n.width,minWidth:n.width,children:e[n.dataIndex]})})),(0,o.jsx)(S.Td,{hidden:!M,children:(0,o.jsx)(r.Z,{label:H,onClick:function(){Q(e)}})})]},e[R])}))})]}),!Array.isArray(n)||0===n.length&&!oe?(0,o.jsx)(C.Z,{justifyContent:"center",width:"100%",children:(0,o.jsx)(x.x,{as:"b",fontSize:"md",color:"red",children:"No Data"})}):(0,o.jsx)(o.Fragment,{})]})})]})})}},7262:function(e,n,i){var t=i(2791),a=i(4082);n.Z=function(e){var n=e.api,i=void 0===n?"":n,o=e.runFetch,s=(0,a.Z)({link:i,additionalFunctionToRun:o,method:"POST"}).setRow,c=(0,a.Z)({link:i,additionalFunctionToRun:o,method:"PUT"}).setRow,r=(0,a.Z)({link:i,additionalFunctionToRun:o,method:"Delete"}).setRow;return{onSaveAndInsertion:(0,t.useCallback)((function(e){"n"===e.query_status?s(e):"u"===e.query_status?c(e):"d"===e.query_status&&r(e)}),[s,c,r])}}},399:function(e,n){n.Z={QUERY_CUSTOMER_TABLE_DATA:"basic_data/customers/customers_table_data",POST_CUSTOMER_TABLE_DATA:"basic_data/customers/customers_table_data_dml",QUERY_SUPPLIER_TABLE_DATA:"basic_data/suppliers/suppliers_table_data",POST_SUPPLIER_TABLE_DATA:"basic_data/suppliers/suppliers_table_data_dml",POST_CUSTOMER_INVOICE_DETAILS:"invoices/customer_invoice/new_customer_invoice",POST_EMPLOYEE_ATTENDANCE:"employeesData/employee_attendance_dml",POST_EMPLOYEE_LEAVING:"employeesData/employee_leaving_dml",QUERY_EMPLOYEES_TABLE_DATA:"employees/employee_data/employee_table_data",POST_EMPLOYEES_TABLE_DATA:"employees/employee_data/employee_table_data_dml",QUERY_INVOICE_DETAIL_TABLE_DATA:"invoices/invoice_search/customer_supplier_invoice_detail_table",QUERY_INVOICE_MASTER_TABLE_DATA:"invoices/invoice_search/customer_supplier_invoice_main_table",QUERY_ITEMS_TABLE_DATA:"basic_data/items/items_table_data",POST_ITEMS_TABLE_DATA:"basic_data/items/items_table_data_dml",QUERY_PRINT_OPTIONS_TABLE_DAT:"basic_data/print_options/print_options_table_data",POST_PRINT_OPTIONS_TABLE_DATA:"basic_data/print_options/print_options_table_data_dml",USER_LOG_IN:"auth_security/sign_in",POST_SUPPLIER_INVOICE:"invoices/supplier_invoice/new_supplier_invoice",QUERY_LABELS:"get_labels",QUERY_CHUNK_LABELS:"get_chunk_labels",QUERY_EMPLOYEE_NAME_LIST:"employeesData/pop_employee_name",QUERY_CUSTOMER_AND_SUPPLIER_LIST:"invoices/invoice_search/customer_supplier_list",QUERY_SUPPLIER_LIST:"basic_data/suppliers/suppliers_list",QUERY_CUSTOMERS_LIST:"basic_data/customers/customers_list",QUERY_ITEMS_LIST:"basic_data/items/items_list",QUERY_PRINT_OPTIONS_LIST:"basic_data/print_options/print_options_lins",QUERY_EMPLOYEE_SHEET_SALARY:"employeesData/employee_sheet",QUERY_CASHER_RECEIPT_VOUCHER_TABLE_DATA:"income_expense/get_casher_receipt_voucher_invoices",POST_CASHER_RECEIPT_VOUCHER_TABLE_DATA:"income_expense/post_casher_receipt_voucher_invoices_dml",QUERY_CASHER_PAYMENT_VOUCHER_TABLE_DATA:"income_expense/get_casher_payment_voucher_invoices",POST_CASHER_PAYMENT_VOUCHER_TABLE_DATA:"income_expense/post_casher_payment_voucher_invoices_dml",QUERY_MAIN_CHART_DATA:"home/dash_board_get_data",QUERY_EXPENSES_TYPES_TABLE_DATA:"basic_data/expenses_type/expenses_type_table_data",POST_EXPENSES_TYPES_TABLE_DATA:"basic_data/expenses_type/expenses_type_table_data_dml",GET_PRIMARY_IMAGE:"application_logo/primary_logo"}},3838:function(e,n,i){var t=i(4165),a=i(5861),o=i(9439),s=i(2791),c=i(399),r=i(1227),d=i(1295);n.Z=function(e){var n=e.link,i=void 0===n?"":n,l=e.fetchOnFirstRun,_=(e.refreshTimeout,e.params),u=e.noAuthorization,p=void 0!==u&&u,h=(0,d.p)(),E=(0,r.Z)().authorization,m="http://144.24.209.19:9090/api/".concat(c.Z[i]),T=(0,s.useState)(void 0),f=(0,o.Z)(T,2),A=f[0],v=f[1],b=(0,s.useState)(!1),S=(0,o.Z)(b,2),x=S[0],C=S[1],R=(0,s.useCallback)((0,a.Z)((0,t.Z)().mark((function e(){var n,i,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),!E&&!p){e.next=11;break}return n={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(E)}},e.next=5,fetch("".concat(m,"?").concat(new URLSearchParams(_)),n);case 5:return i=e.sent,C(!1),e.next=9,i.json();case 9:a=e.sent,v(a);case 11:case"end":return e.stop()}}),e)}))),[E,p,_,m]),j=(0,s.useCallback)((function(){l&&R()}),[l,R]);(0,s.useEffect)((function(){l&&R()}),[l,R,m,_,j]),(0,s.useEffect)((function(){A&&A.response&&h({position:"top-right",title:"error",description:"".concat(JSON.stringify(A.response)),status:"error",duration:5e3,isClosable:!0})}),[A,h]);var P=(0,s.useCallback)((function(){R()}),[R]);return{data:A,runFetch:P,setData:v,loading:x}}},4082:function(e,n,i){var t=i(4165),a=i(5861),o=i(9439),s=i(2791),c=i(1227),r=i(399),d=i(1295);n.Z=function(e){var n=e.link,i=void 0===n?"":n,l=e.noAuthorization,_=void 0!==l&&l,u=e.additionalFunctionToRun,p=e.runOnSuccess,h=e.runOnFail,E=e.method,m=void 0===E?"POST":E,T=(0,d.p)(),f="http://144.24.209.19:9090/api/".concat(r.Z[i]),A=(0,s.useState)(),v=(0,o.Z)(A,2),b=v[0],S=v[1],x=(0,c.Z)().authorization,C=(0,s.useCallback)(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var i,a,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x&&!_){e.next=17;break}return i={method:m,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(x)},body:JSON.stringify(n)},e.prev=2,e.next=5,fetch(f,i);case 5:return a=e.sent,e.next=8,a.json();case 8:return"success"===(o=e.sent).response?(T({position:"top-right",title:"Success",description:"".concat(o.response),status:"success",duration:5e3,isClosable:!0}),p&&p()):(T({position:"top-right",title:"Error",description:"".concat(o.message),status:"error",duration:9e3,isClosable:!0}),h&&h()),S(o),u&&u(),e.abrupt("return",o);case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(n){return e.apply(this,arguments)}}(),[u,x,m,_,h,p,T,f]);return{success:b,setRow:(0,s.useCallback)((function(e){C(e)}),[C])}}},2080:function(e,n,i){var t=i(2791),a=i(9230),o=i(1820),s=i(3380),c=i(1078),r=i(7693),d=i(1461),l=i(7521),_=i(176),u=i(4653),p=i(4224),h=i(184),E=function(e){var n=e.children,i=e.visible,t=void 0!==i&&i,E=e.label,m=e.onClose,T=e.onOK,f=e.submitTitle,A=void 0===f?"smbt":f,v=e.width,b=void 0===v?"3xl":v,S=e.hideSaveButton,x=void 0!==S&&S,C=e.hideCloseButton,R=void 0!==C&&C,j=(0,a.$G)().t;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(o.u_,{isOpen:t,onClose:m,size:b,children:[(0,h.jsx)(s.Z,{}),(0,h.jsxs)(c.h,{children:[(0,h.jsx)(r.x,{children:j(E)}),(0,h.jsx)(d.o,{}),(0,h.jsx)(l.f,{children:(0,h.jsx)(_.k,{w:"100%",padding:"5px",wrap:"wrap",children:n})}),(0,h.jsx)(u.m,{children:(0,h.jsxs)(_.k,{w:"25%",justifyContent:"space-around",children:[(0,h.jsx)(p.z,{colorScheme:"red",mr:3,onClick:m,hidden:R,children:j("cls")}),(0,h.jsx)(p.z,{colorScheme:"blue",onClick:T,hidden:x,children:j(A)})]})})]})]})})};n.Z=(0,t.memo)(E)}}]);
//# sourceMappingURL=479.16f173f8.chunk.js.map