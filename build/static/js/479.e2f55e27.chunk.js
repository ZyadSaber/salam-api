"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[479],{8535:function(n,t,i){var e=i(1413),o=i(9439),d=i(5987),a=i(2791),r=i(6582),s=i(184),c=["children","justifyContent","width","height","padding","margin","bordered","backgroundColor","borderColor","borderWidth","borderRadius","flexDirection","textAlign","hidden","wrap"],l=function(n){var t=n.children,i=n.justifyContent,l=n.width,u=n.height,h=n.padding,p=void 0===h?"10px":h,f=n.margin,x=n.bordered,g=void 0!==x&&x,v=n.backgroundColor,b=n.borderColor,m=void 0===b?"#3c8dcf":b,k=n.borderWidth,j=void 0===k?"px":k,C=n.borderRadius,w=void 0===C?"5px":C,Z=n.flexDirection,y=void 0===Z?"row":Z,S=n.textAlign,F=void 0===S?"":S,T=n.hidden,R=void 0!==T&&T,A=n.wrap,D=(0,d.Z)(n,c),P=(0,a.useState)(""),_=(0,o.Z)(P,2),O=(_[0],_[1]);return(0,a.useEffect)((function(){g&&O("".concat(j," solid ").concat(m))}),[m,j,g]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.k,(0,e.Z)((0,e.Z)({width:l,height:u,padding:p,margin:f,background:v,borderRadius:w,flexDirection:y,textAlign:F,justifyContent:i,hidden:R,wrap:A?"wrap":""},D),{},{children:t}))})};t.Z=(0,a.memo)(l)},3479:function(n,t,i){var e=i(1413),o=i(9439),d=i(5987),a=i(2791),r=i(5057),s=i(890),c=i(9539),l=i(7262),u=i(184),h=["api","postApi","columns","ModalContent","onClick","fetchOnFirstRun","params","checkForParams","modalWidth"],p=function(n,t){var i=n.api,p=n.postApi,f=n.columns,x=n.ModalContent,g=n.onClick,v=n.fetchOnFirstRun,b=void 0!==v&&v,m=n.params,k=n.checkForParams,j=void 0!==k&&k,C=n.modalWidth,w=void 0===C?"60%":C,Z=(0,d.Z)(n,h),y=(0,s.Z)({link:i,fetchOnFirstRun:b,params:m,checkForParams:j}),S=y.data,F=y.runFetch,T=y.loading,R=y.setData,A=y.resetData,D=(0,l.Z)({api:p,runFetch:F}).onSaveAndInsertion,P=(0,a.useState)({}),_=(0,o.Z)(P,2),O=_[0],W=_[1],z=(0,a.useState)(!1),B=(0,o.Z)(z,2),q=B[0],E=B[1],I=(0,a.useCallback)((function(){W({query_status:"n"}),E(!0)}),[W]),N=(0,a.useCallback)((function(){W((0,e.Z)((0,e.Z)({},O),{},{query_status:"u"})),E(!0)}),[O,W]),G=(0,a.useCallback)((function(){E(!1)}),[]),K=(0,a.useMemo)((function(){return null===S||void 0===S?void 0:S.data}),[null===S||void 0===S?void 0:S.data]);return(0,a.useImperativeHandle)(t,(function(){return{runFetch:F,setTableData:R,resetTableData:A,getCurrentDataSource:function(){return K}}})),(0,u.jsxs)(u.Fragment,{children:[x&&(0,u.jsx)(c.Z,{visible:q,onClose:G,hideCloseButton:!0,hideSaveButton:!0,label:"dtls",noFooter:!0,width:w,children:(0,u.jsx)(x,{onClose:G,selectedRow:O,refreshTable:F})}),(0,u.jsx)(r.Z,(0,e.Z)({dataSource:null===S||void 0===S?void 0:S.data,columns:f,onAdd:I,onEdit:N,onDelete:function(){D((0,e.Z)((0,e.Z)({},O),{},{query_status:"d"}))},onSelectedRow:function(n){W(n),g&&g(n)},loading:T},Z))]})};t.Z=(0,a.memo)((0,a.forwardRef)(p))},5057:function(n,t,i){i.d(t,{Z:function(){return w}});var e=i(9439),o=i(2791),d=i(184),a=function(n){var t=n.icon,i=n.onClick,e=n.disabled,o=void 0!==e&&e,a=n.width,r=void 0===a?"30px":a,s=n.height,c=void 0===s?"30px":s,l=n.color,u=n.margin,h=void 0===u?"10px":u,p=n.padding,f=n.hidden,x=void 0!==f&&f;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{style:{border:"none",width:r,height:c,backgroundColor:l,padding:p,margin:h,borderRadius:"20px"},hidden:x,onClick:i,disabled:o,children:(0,d.jsx)("i",{className:t})})})},r=(0,o.memo)(a),s=i(898),c=i(4880),l=i(4045),u=i(9230),h=i(1813),p=i(2715),f=i(8773),x=i(824),g=i(1364),v=i(5802),b=i(8733),m=i(7588),k=i(2940),j=i(5606),C=i(8535),w=function(n){var t=n.dataSource,i=n.height,a=void 0===i?"300px":i,w=n.rowKey,Z=void 0===w?"rowKey":w,y=n.columns,S=n.hideTools,F=void 0===S||S,T=n.canEdit,R=void 0!==T&&T,A=n.canAdd,D=void 0!==A&&A,P=n.canDelete,_=void 0!==P&&P,O=n.canExcel,W=void 0!==O&&O,z=n.onAdd,B=n.onEdit,q=n.onDelete,E=n.actionColumn,I=void 0!==E&&E,N=n.onAction,G=n.actionLabel,K=void 0===G?"":G,M=n.onSelectedRow,H=n.label,L=n.canPrint,U=void 0!==L&&L,$=n.onPrint,J=n.additionalButtons,Y=n.onSave,Q=n.canSave,V=void 0!==Q&&Q,X=n.width,nn=void 0===X?"100%":X,tn=n.margin,en=void 0===tn?"":tn,on=n.padding,dn=void 0===on?"":on,an=n.loading,rn=void 0!==an&&an,sn=n.onDoubleClick,cn=(0,c.TH)().pathname,ln=(0,u.$G)().t,un=(0,o.useState)(),hn=(0,e.Z)(un,2),pn=hn[0],fn=hn[1],xn=(0,o.useCallback)((function(n){return function(){M&&M(n),fn(n)}}),[M]),gn=(0,o.useCallback)((function(n){return function(){sn&&sn(n),fn(n)}}),[sn]),vn=(0,o.useCallback)((function(){var n=cn.replace("/",""),i=l.P6.book_new(),e=l.P6.json_to_sheet(t);l.P6.book_append_sheet(i,e,n),l.NC(i,"".concat(n," ").concat((new Date).toUTCString(),".xlsx"))}),[t,cn]),bn=(0,o.useRef)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(h.x,{width:nn,padding:dn,margin:en,children:[H&&(0,d.jsx)(p.x,{width:"100%",textAlign:"center",marginBottom:"7px",fontSize:"md",fontWeight:"bold",children:ln(H)}),(0,d.jsxs)(C.Z,{width:"100%",padding:"0",margin:"5px 0",justifyContent:"center",hidden:F,children:[(0,d.jsx)(r,{icon:"fa-sharp fa-solid fa-plus",onClick:z,hidden:!D}),(0,d.jsx)(r,{icon:"fa-sharp fa-solid fa-pen-clip",onClick:B,hidden:!R,disabled:!pn}),(0,d.jsx)(r,{icon:"fa-sharp fa-solid fa-trash",onClick:q,hidden:!_,disabled:!pn}),J&&J.map((function(n){return(0,d.jsx)(r,{icon:n.icon,onClick:n.onClick,disabled:n.disabled,hidden:!1})})),(0,d.jsx)(r,{icon:"fa-solid fa-floppy-disk",onClick:Y,hidden:!V,disabled:!V}),(0,d.jsx)(r,{icon:"fa-solid fa-print",onClick:$,hidden:!U,disabled:!U}),(0,d.jsx)(r,{icon:"fa-sharp fa-regular fa-file-excel",onClick:vn,hidden:!W,disabled:!W})]}),(0,d.jsx)(f.O,{isLoaded:!rn,fadeDuration:0,children:(0,d.jsxs)(x.xu,{overflowY:"auto",height:a,children:[(0,d.jsxs)(g.i,{ref:bn,children:[(0,d.jsx)(v.h,{top:0,position:"sticky",bgColor:"#3edae6",children:(0,d.jsxs)(b.Tr,{children:[y.map((function(n){return(0,d.jsx)(m.Th,{maxWidth:n.width,minWidth:n.width,children:ln(n.title)})})),(0,d.jsx)(m.Th,{hidden:!I,children:ln("actn")})]})}),(0,d.jsx)(k.p,{children:null===t||void 0===t?void 0:t.map((function(n){return(0,d.jsxs)(b.Tr,{onClick:xn(n),onDoubleClick:gn(n),background:"".concat(pn===n?"#dbffbf":""),children:[y.map((function(t){return(0,d.jsx)(j.Td,{maxWidth:t.width,minWidth:t.width,children:n[t.dataIndex]})})),(0,d.jsx)(j.Td,{hidden:!I,children:(0,d.jsx)(s.Z,{label:K,onClick:function(){N(n)}})})]},n[Z])}))})]}),!Array.isArray(t)||0===t.length&&!rn?(0,d.jsx)(C.Z,{justifyContent:"center",width:"100%",children:(0,d.jsx)(p.x,{as:"b",fontSize:"md",color:"red",children:"No Data"})}):(0,d.jsx)(d.Fragment,{})]})})]})})}},7262:function(n,t,i){var e=i(2791),o=i(4082);t.Z=function(n){var t=n.api,i=void 0===t?"":t,d=n.runFetch,a=(0,o.Z)({link:i,additionalFunctionToRun:d,method:"POST"}).setRow,r=(0,o.Z)({link:i,additionalFunctionToRun:d,method:"PUT"}).setRow,s=(0,o.Z)({link:i,additionalFunctionToRun:d,method:"Delete"}).setRow;return{onSaveAndInsertion:(0,e.useCallback)((function(n){"n"===n.query_status?a(n):"u"===n.query_status?r(n):"d"===n.query_status&&s(n)}),[a,r,s])}}},4082:function(n,t,i){var e=i(4165),o=i(5861),d=i(9439),a=i(2791),r=i(1227),s=i(399),c=i(8382);t.Z=function(n){var t,i=n.link,l=void 0===i?"":i,u=n.noAuthorization,h=void 0!==u&&u,p=n.additionalFunctionToRun,f=n.runOnSuccess,x=n.runOnFail,g=n.method,v=void 0===g?"POST":g,b=(0,c.p)(),m="http://144.24.209.19:9090/api/".concat(s.Z[l]),k=(0,a.useState)(),j=(0,d.Z)(k,2),C=j[0],w=j[1],Z=(0,r.Z)().authorization,y=(0,a.useCallback)((function(n){return(t=t||(0,o.Z)((0,e.Z)().mark((function n(t){var i,o,d;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Z&&!h){n.next=17;break}return i={method:v,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},body:JSON.stringify(t)},n.prev=2,n.next=5,fetch(m,i);case 5:return o=n.sent,n.next=8,o.json();case 8:return"success"===(d=n.sent).response?(b({position:"top-right",title:"Success",description:"".concat(d.response),status:"success",duration:5e3,isClosable:!0}),f&&f()):(b({position:"top-right",title:"Error",description:"".concat(d.message),status:"error",duration:9e3,isClosable:!0}),x&&x()),w(d),p&&p(),n.abrupt("return",d);case 15:n.prev=15,n.t0=n.catch(2);case 17:case"end":return n.stop()}}),n,null,[[2,15]])})))).apply(this,arguments)}),[p,Z,v,h,x,f,b,m]);return{success:C,setRow:(0,a.useCallback)((function(n){y(n)}),[y])}}},9539:function(n,t,i){i.d(t,{Z:function(){return w}});var e,o,d,a,r,s=i(2791),c=i(898),l=i(9230),u=i(184),h=function(n){var t=n.value,i=n.margin,e=n.padding,o=n.width,d=void 0===o?"":o,a=n.fontSize,r=void 0===a?"":a,s=n.color,c=n.backgroundColor,h=(0,l.$G)().t;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("strong",{style:{padding:e,margin:i,width:d,fontSize:r,color:s,backgroundColor:c},children:h(t)})})},p=(0,s.memo)(h),f=i(8535),x=i(168),g=i(225),v=g.Z.div(e||(e=(0,x.Z)(["\n  position: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n    z-index: 1;\n"]))),b=g.Z.div(o||(o=(0,x.Z)(["\n /* position: relative;\n    margin: 5% auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: ",";\n    height: ",";\n    background-color: white;\n    border-radius: 15px; */\n    /* max-height: 90vh;\n\tmax-width: 500px; */\n    width: ",";\n    height: ",";\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tbackground-color: #fff;\n\tborder-radius: 15px;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-shadow: 0 15px 30px 0 rgba(#000, 0.25);\n\t@media (max-width: 600px) {\n\t\twidth: 90%;\n\t}\n"])),(function(n){return n.width}),(function(n){return n.height}),(function(n){return n.width}),(function(n){return n.height})),m=g.Z.div(d||(d=(0,x.Z)(["\n\tpadding: 5px 32px;\n\tborder-bottom: 1px solid #ddd;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n"]))),k=g.Z.div(a||(a=(0,x.Z)(["\n\tpadding: 10px 32px;\n\toverflow-y: auto;\n    height: 100%;\n"]))),j=g.Z.div(r||(r=(0,x.Z)(['\n    padding: 20px 32px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tborder-top: 1px solid #ddd;\n\tgap: 12px;\n\tposition: relative;\n\t&:after {\n\t\tcontent: "";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: -51px;\n\t\tleft: 24px;\n\t\tright: 24px;\n\t\theight: 50px;\n\t\tflex-shrink: 0;\n\t\tbackground-image: linear-gradient(to top, rgba(#fff, 0.75), transparent);\n\t\tpointer-events: none;\n\t}\n']))),C=function(n){var t=n.children,i=n.visible,e=void 0!==i&&i,o=n.label,d=n.onClose,a=n.onOK,r=n.submitTitle,s=void 0===r?"smbt":r,l=n.width,h=void 0===l?"90%":l,x=n.height,g=void 0===x?"auto":x,C=n.hideSaveButton,w=void 0!==C&&C,Z=n.hideCloseButton,y=void 0!==Z&&Z,S=n.noFooter,F=void 0!==S&&S;return(0,u.jsx)(u.Fragment,{children:e&&(0,u.jsx)(v,{hidden:!e,children:(0,u.jsxs)(b,{width:h,height:g,children:[(0,u.jsxs)(m,{children:[(0,u.jsx)(p,{value:o}),(0,u.jsx)(c.Z,{label:"\xd7",backGround:"none","data-dismiss":"modal",onClick:d})]}),(0,u.jsx)(k,{children:(0,u.jsx)(f.Z,{width:"100%",padding:"0",wrap:"wrap",height:"100%",children:t})}),!F&&(0,u.jsxs)(j,{hidden:F,children:[!w&&(0,u.jsx)(c.Z,{onClick:a,label:s,hidden:w}),!y&&(0,u.jsx)(c.Z,{onClick:d,label:"cls",hidden:y})]})]})})})},w=(0,s.memo)(C)}}]);
//# sourceMappingURL=479.e2f55e27.chunk.js.map