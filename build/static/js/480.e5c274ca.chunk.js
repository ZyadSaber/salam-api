"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[480],{5480:function(e,a,n){n.r(a),n.d(a,{default:function(){return E}});var t=n(9439),s=n(2791),i=n(1413),r=n(9457),l=n(3388),o=n(6888),d=n(7262),u=n(898),_=n(184),c=function(e){var a=e.onClose,n=e.selectedRow,t=e.refreshTable,c=(0,l.Z)({initialValues:(0,i.Z)({},n)}),m=c.state,h=c.onChange,p=(0,d.Z)({api:"POST_CUSTOMER_TABLE_DATA",runFetch:t}).onSaveAndInsertion,w=m.customer_id,f=m.password,x=m.confirm_password,Z=m.user_name,g=m.first_name,v=m.last_name,C=m.user_role,E=m.query_status,b=(0,s.useCallback)((function(){p({user_name:Z,first_name:g,last_name:v,user_role:C,customer_id:w,query_status:E,password:f,confirm_password:x}),a()}),[Z,g,v,C,w,E,f,x,p,a]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.Z,{name:"user_name",Label:"user_name",onChange:h,value:Z,width:"47%"}),(0,_.jsx)(r.Z,{name:"first_name",Label:"first_name",onChange:h,value:g,width:"47%"}),(0,_.jsx)(r.Z,{name:"last_name",Label:"last_name",onChange:h,value:v,width:"47%"}),(0,_.jsx)(o.Z,{Api:"",name:"user_role",Label:"user_role",onChange:h,value:C,width:"47%"}),(0,_.jsx)(r.Z,{name:"password",Label:"password",onChange:h,value:f,width:"47%",type:"password"}),(0,_.jsx)(r.Z,{name:"confirm_password",Label:"confirm_password",onChange:h,value:x,width:"47%",type:"password"}),(0,_.jsx)(u.Z,{onClick:b,label:"sv"})]})},m=(0,s.memo)(c),h=n(7940),p=n(8535),w=n(890),f=n(4082),x=n(9901),Z=function(e){var a=e.row,n=(0,s.useState)(),r=(0,t.Z)(n,2),l=r[0],o=r[1],d=(0,w.Z)({link:"QUERY_PAGE_NAME_LIST_TO_VIEW",onResponse:o,params:{user_id:a.id}}).runFetch,c=(0,f.Z)({link:"POST_USER_PAGE_PERMISSIONS",additionalFunctionToRun:d}).setRow,m=(0,s.useCallback)((function(e){var a=l&&l.map((function(a){return e.name===a.page_id?(0,i.Z)((0,i.Z)({},a),{},{status:e.value}):a}));o(a)}),[l]);(0,s.useEffect)((function(){d({user_id:a.id})}),[a.id]);var h=(0,s.useCallback)((function(){c(l)}),[l,c]);return(0,_.jsxs)(p.Z,{width:"40%",flexDirection:"column",children:[(0,_.jsx)(u.Z,{onClick:h,width:"100%",label:"save"}),(0,_.jsx)(p.Z,{width:"100%",flexDirection:"column",height:"600px",border:"1px solid white",margin:"5px",overflow:"scroll",children:a.id&&(null===l||void 0===l?void 0:l.length)&&l.map((function(e){return(0,_.jsx)(x.Z,{name:e.page_id,label:"".concat(e.page_name," / ").concat(e.page_link),value:e.status,onChange:m})}))})]})},g=(0,s.memo)(Z),v=[{title:"user_name",dataIndex:"user_name",width:"20%"},{title:"first_name",dataIndex:"first_name",width:"17%"},{title:"last_name",dataIndex:"last_name",width:"17%"},{title:"created_at",dataIndex:"created_at",width:"10%"},{title:"updated_at",dataIndex:"updated_at",width:"10%"}],C=function(){var e=(0,s.useState)({}),a=(0,t.Z)(e,2),n=a[0],i=a[1];return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(p.Z,{width:"100%",margin:"0",padding:"0",gap:"0.5",children:[(0,_.jsx)(h.Z,{api:"QUERY_USERS_TABLE_DATA",postApi:"POST_USERS_TABLE_DATA",columns:v,hideTools:!1,canEdit:!0,canAdd:!0,canDelete:!0,canExcel:!0,rowKey:"user_id",ModalContent:m,onClick:i,fetchOnFirstRun:!0}),(0,_.jsx)(g,{row:n})]})})},E=(0,s.memo)(C)}}]);
//# sourceMappingURL=480.e5c274ca.chunk.js.map