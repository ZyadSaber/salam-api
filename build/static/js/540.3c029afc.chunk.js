"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[540],{4209:function(e,n,a){a.d(n,{Z:function(){return m}});var t,i,l=a(2791),r=a(9230),d=a(6582),o=a(930),c=a(168),u=a(225),s=u.Z.select(t||(t=(0,c.Z)(["\n  background: #fdfdfd;\n  border: 0.5px solid #cbd5e0;\n  height: 100%;\n  width: 100%;\n  border-radius: 7px;\n  padding: 0 10px;\n"]))),h=u.Z.option(i||(i=(0,c.Z)(["\n  padding: 100px;\n"]))),v=a(184),p=function(e){var n=e.height,a=void 0===n?"65px":n,t=e.width,i=void 0===t?"200px":t,l=e.Options,c=e.onChange,u=e.label,p=e.value,m=void 0===p?0:p,f=e.name,b=e.withLabel,g=void 0!==b&&b,x=e.margin,Z=void 0===x?"10px":x,_=e.padding,w=e.placeholder,C=void 0===w?"Select":w,j=e.selectLabelName,T=void 0===j?"label_select":j,k=(0,r.$G)().t;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(d.k,{direction:"column",width:i,padding:_,margin:Z,height:a,children:[(0,v.jsx)(o.l,{fontSize:"md",as:"b",margin:"0 0 5px",children:k(u)}),(0,v.jsxs)(s,{placeholder:k(C),onChange:function(e){Array.isArray(l)&&l.forEach((function(n){n.value===+e.target.value&&c(g?{value:n.value,selectLabelName:T,label:n.label,name:f}:{value:n.value,name:f})}))},children:[(0,v.jsx)(h,{children:k("Select")}),Array.isArray(l)&&0!==l.length?l.map((function(e){return(0,v.jsxs)(h,{value:e.value,selected:m===e.value&&!0,children:[" ",k(e.label)]},e.value)})):(0,v.jsx)(h,{disabled:!0,children:k("No data")})]})]})})},m=(0,l.memo)(p)},6888:function(e,n,a){var t=a(2791),i=a(4209),l=a(890),r=a(184),d=function(e){var n=e.width,a=e.api,t=e.onChange,d=e.label,o=e.name,c=void 0===o?"":o,u=e.value,s=void 0===u?0:u,h=e.withLabel,v=void 0!==h&&h,p=e.padding,m=e.margin,f=e.params,b=e.selectLabelName,g=void 0===b?"label_select":b,x=(0,l.Z)({link:a,fetchOnFirstRun:!0,params:f,checkForParams:!0}).data;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{Options:x,onChange:t,label:d,value:s,name:c,width:n,withLabel:v,margin:m,padding:p,selectLabelName:g})})};n.Z=(0,t.memo)(d)},6590:function(e,n,a){var t=a(4165),i=a(5861),l=a(2791);n.Z=function(){var e,n=(0,l.useRef)(),a=(0,l.useCallback)((function(a){return(e=e||(0,i.Z)((0,t.Z)().mark((function e(a){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(i=n.current)||void 0===i?void 0:i.runFetch(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}),[n]),r=(0,l.useCallback)((function(){var e;return(null===(e=n.current)||void 0===e?void 0:e.getCurrentDataSource())||[]}),[n]),d=(0,l.useCallback)((function(e){var a;return(null===(a=n.current)||void 0===a?void 0:a.setTableData(e))||[]}),[n]),o=(0,l.useCallback)((function(){var e;return(null===(e=n.current)||void 0===e?void 0:e.resetTableData())||[]}),[n]);return{tableRef:n,fetchTableData:a,getTableData:r,setTableData:d,resetTable:o}}},1489:function(e,n,a){var t=a(1413),i=a(5987),l=a(2791),r=a(898),d=a(184),o=["onOK","width","label"],c=function(e){var n=e.onOK,a=e.width,l=void 0===a?"40%":a,c=(e.label,(0,i.Z)(e,o));return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(r.Z,(0,t.Z)({onClick:n,label:"sv",width:l},c))})};n.Z=(0,l.memo)(c)},3388:function(e,n,a){a.d(n,{Z:function(){return c}});var t=a(3433),i=a(4942),l=a(1413),r=a(9439),d=a(2791),o=function(e){var n=(0,d.useRef)();return(0,d.useEffect)((function(){n.current=e})),n.current},c=function(e){var n=e.initialValues,a=(0,d.useState)(n),c=(0,r.Z)(a,2),u=c[0],s=c[1],h=(0,d.useRef)(!1),v=o(n),p=(0,d.useCallback)((function(){return!Object.is(JSON.stringify(v),JSON.stringify(n))}),[n,v]);(0,d.useEffect)((function(){p()&&s((0,l.Z)({},n))}),[p,n]);var m=(0,d.useCallback)((function(){h.current=!1,s((function(){return n}))}),[n]);(0,d.useEffect)((function(){return m}),[]);var f=(0,d.useCallback)((function(e){var n=e.name,a=e.value;s((0,l.Z)((0,l.Z)({},u),{},(0,i.Z)({},n,a)))}),[u]),b=(0,d.useCallback)((function(e){s((0,l.Z)((0,l.Z)({},u),e))}),[u]),g=(0,d.useCallback)((function(e){var n;s((0,l.Z)((0,l.Z)({},u),{},(n={},(0,i.Z)(n,e.name,e.value),(0,i.Z)(n,e.selectLabelName,e.label),n)))}),[u]),x=(0,d.useCallback)((function(e){var n=e.name,a=e.value;s((0,l.Z)((0,l.Z)({},u),{},(0,i.Z)({},n,[].concat((0,t.Z)(u[n]),[a]))))}),[u]);return{state:u,onChange:f,resetForm:m,handleRootState:s,handleSelectWithLabelChange:g,handleArrayChange:x,handleMultiInput:b}}},1561:function(e,n,a){var t=a(2791),i=a(8382);n.Z=function(e){var n=e.validateFelids,a=e.functionToRun,l=e.stateToValidate,r=(0,i.p)();return(0,t.useCallback)((function(){var e=[];n.forEach((function(n){void 0===l[n]||l[n]||e.push(n)})),0!==e.length?r({position:"top-right",title:"Error",description:"\n      Make sure to fill this required fields\n      ".concat(e.toString(),"\n      "),status:"info",duration:5e3,isClosable:!0}):a()}),[a,l,r,n])}},9242:function(e,n,a){a.d(n,{Z:function(){return m}});var t,i=a(1413),l=a(5987),r=a(2791),d=a(6582),o=a(930),c=a(9230),u=a(168),s=a(225).Z.input(t||(t=(0,u.Z)(["\nbackground: #fdfdfd;\nborder: 0.5px solid #cbd5e0;\nheight: 100%;\nwidth: 100%;\nborder-radius: 7px;\npadding: 0 16px;\n"]))),h=a(184),v=["disabled","value","name","label","onChange","height","width","padding","margin"],p=function(e){var n=e.disabled,a=e.value,t=e.name,u=e.label,p=void 0===u?"":u,m=e.onChange,f=e.height,b=void 0===f?"65px":f,g=e.width,x=void 0===g?"200px":g,Z=e.padding,_=e.margin,w=void 0===_?"10px":_,C=(0,l.Z)(e,v),j=(0,c.$G)().t,T=(0,r.useCallback)((function(e){m({name:t,value:+e.target.value})}),[t,m]);return(0,h.jsxs)(d.k,{direction:"column",width:x,padding:Z,margin:w,height:b,children:[(0,h.jsx)(o.l,{children:j(p)}),(0,h.jsx)(s,(0,i.Z)({disabled:n,onChange:T,width:"100%",value:a,type:"number"},C))]})},m=(0,r.memo)(p)},9457:function(e,n,a){a.d(n,{Z:function(){return m}});var t,i=a(1413),l=a(5987),r=a(2791),d=a(9230),o=a(6582),c=a(930),u=a(168),s=a(225).Z.input(t||(t=(0,u.Z)(["\nbackground: #fdfdfd;\nborder: 0.5px solid #cbd5e0;\nheight: 100%;\nwidth: 100%;\nborder-radius: 7px;\npadding: 0 16px;\n"]))),h=a(184),v=["disabled","value","name","label","onChange","height","width","type","placeHolder","padding","margin","className","required"],p=function(e){var n=e.disabled,a=e.value,t=e.name,u=e.label,p=void 0===u?"":u,m=e.onChange,f=e.height,b=void 0===f?"65px":f,g=e.width,x=void 0===g?"200px":g,Z=e.type,_=void 0===Z?"text":Z,w=e.placeHolder,C=e.padding,j=e.margin,T=void 0===j?"10px":j,k=e.className,y=void 0===k?"":k,I=e.required,E=(0,l.Z)(e,v),S=(0,d.$G)().t,A=(0,r.useCallback)((function(e){m({name:t,value:e.target.value})}),[t,m]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(o.k,{direction:"column",width:x,padding:C,margin:T,height:b,children:[(0,h.jsx)(c.l,{children:S(p)}),(0,h.jsx)(s,(0,i.Z)({placeholder:w,disabled:n,required:I,onChange:A,width:"100%",className:y,value:a,type:_},E))]})})},m=(0,r.memo)(p)},8456:function(e,n,a){var t=a(1413),i=a(5987),l=a(2791),r=a(9230),d=a(6582),o=a(930),c=a(3027),u=a(3387),s=a(164),h=a(184),v=["name","options","width","onChange","value","label","margin","padding","hidden","disabled"],p=function(e){var n=e.name,a=e.options,p=e.width,m=e.onChange,f=e.value,b=e.label,g=e.margin,x=void 0===g?"10px":g,Z=e.padding,_=e.hidden,w=void 0!==_&&_,C=e.disabled,j=void 0!==C&&C,T=(0,i.Z)(e,v),k=(0,r.$G)().t,y=(0,l.useCallback)((function(e){m({name:n,value:e})}),[n,m]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(d.k,{direction:"column",width:p,padding:Z,margin:x,wrap:"wrap",hidden:w,children:[(0,h.jsx)(o.l,{fontSize:"md",as:"b",margin:"0 0 5px",children:k(b)}),(0,h.jsx)(d.k,{className:"css-1xsh6d8",width:"100%",children:(0,h.jsx)(c.E,(0,t.Z)((0,t.Z)({padding:"7px",onChange:y,value:f,width:"100%",display:"flex",gap:"15px",flexWrap:"wrap",isDisabled:j},T),{},{children:a.map((function(e){return(0,h.jsx)(u.K,{direction:"row",children:(0,h.jsx)(s.Y,{value:e.value,children:k(e.label)})})}))}))})]})})};n.Z=(0,l.memo)(p)},8540:function(e,n,a){a.r(n),a.d(n,{default:function(){return O}});var t=a(2791),i=a(6590),l=a(3479),r=a(8535),d=a(9439),o=a(9539),c=a(184),u=function(e,n){var a=e.reportName,i=e.params,l=(0,t.useState)(!1),r=(0,d.Z)(l,2),u=r[0],s=r[1],h=(0,t.useCallback)((function(){s(!0)}),[]),v=(0,t.useCallback)((function(){s(!1)}),[]);(0,t.useImperativeHandle)(n,(function(){return{handleOpen:h}}));var p="http://144.24.209.19:9090/system_pdf_generate/".concat(a,"?").concat(new URLSearchParams(i));return(0,c.jsx)(o.Z,{label:"PDF Viewer",visible:u,onClose:v,noFooter:!0,width:"90%",height:"80%",children:(0,c.jsx)("object",{data:p,width:"100%",height:"100%",children:"Your browser does not support pdf files."})})},s=(0,t.memo)((0,t.forwardRef)(u)),h=a(4165),v=a(5861),p=function(){var e=(0,t.useRef)(),n=(0,t.useCallback)((0,v.Z)((0,h.Z)().mark((function n(){var a;return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===(a=e.current)||void 0===a?void 0:a.handleOpen();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),[e]);return{PDFRef:e,handleOpenModal:n}},m=a(8456),f={invoice_type:"C",invoice_no:"",person_id:"",date_from:"",date_to:""},b=[{title:"no",dataIndex:"invoice_id",width:"14%"},{title:"nm",dataIndex:"holder_name",width:"20%"},{title:"dt",dataIndex:"invoice_date",width:"10%"},{title:"total",dataIndex:"invoice_total",width:"10%"}],g=[{title:"itmnm",dataIndex:"item",width:"15%"},{title:"wdth",dataIndex:"width",width:"5%"},{title:"hght",dataIndex:"height",width:"5%"},{title:"sz",dataIndex:"size",width:"5%"},{title:"qnty",dataIndex:"quantity",width:"5%"},{title:"prc",dataIndex:"price",width:"5%"},{title:"total",dataIndex:"total",width:"5%"},{title:"nts",dataIndex:"notes",width:"5%"}],x=[{label:"splr",value:"S"},{label:"cstmr",value:"C"}],Z=a(6888),_=a(9457),w=a(3388),C=a(898),j=function(e){var n=e.fetchTableData,a=(0,w.Z)({initialValues:f}),i=a.state,l=a.onChange,d=(0,t.useCallback)((function(){n({invoice_type:i.invoice_type,invoice_no:i.invoice_no,holder_number:i.holder_number})}),[n,i.holder_number,i.invoice_no,i.invoice_type]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(r.Z,{bordered:!0,width:"100%",wrap:!0,children:[(0,c.jsx)(m.Z,{name:"invoice_type",options:x,value:i.invoice_type,onChange:l,label:"invctyp",width:"17%"}),(0,c.jsx)(_.Z,{name:"invoice_no",label:"no",onChange:l,type:"number",value:i.invoice_no}),(0,c.jsx)(Z.Z,{name:"holder_number",api:"QUERY_CUSTOMER_AND_SUPPLIER_LIST",label:"nm",params:{invoice_type:i.invoice_type},value:i.holder_number,fetchOnFirstRun:!0,onChange:l}),(0,c.jsx)(_.Z,{name:"date_from",value:i.date_from,label:"dtfrm",onChange:l,type:"date"}),(0,c.jsx)(_.Z,{name:"date_to",value:i.date_to,label:"dto",onChange:l,type:"date"}),(0,c.jsx)(C.Z,{onClick:d,label:"Search"})]})})},T=(0,t.memo)(j),k=a(1413),y=a(9242),I=a(1561),E=a(7262),S=a(1489),A=function(e){var n=e.onClose,a=e.selectedRow,i=e.refreshTable,l=(0,w.Z)({initialValues:(0,k.Z)({},a)}),d=l.state,o=l.onChange,u=(0,E.Z)({api:"POST_CUSTOMER_TABLE_DATA",runFetch:i}).onSaveAndInsertion,s=(0,t.useCallback)((function(){u(d),n()}),[n,u,d]),h=(0,I.Z)({validateFelids:["customer_name"],functionToRun:s,stateToValidate:d});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(r.Z,{width:"100%",children:["C"===d.invoice_type&&(0,c.jsx)(Z.Z,{api:"QUERY_PRINT_OPTIONS_LIST",name:"invoice_print_option_id",value:d.invoice_print_option_id,onChange:o,label:"prntnm"}),(0,c.jsx)(Z.Z,{api:"QUERY_ITEMS_LIST",name:"invoice_item_id",value:d.invoice_item_id,onChange:o,label:"itmnm"}),(0,c.jsx)(y.Z,{name:"width",value:d.width,onChange:o,min:0,label:"wdth"}),(0,c.jsx)(y.Z,{name:"height",value:d.height,onChange:o,min:0,label:"hght"}),(0,c.jsx)(y.Z,{name:"size",value:d.size,onChange:o,min:0,disabled:!0,label:"sz"}),(0,c.jsx)(y.Z,{name:"quantity",value:d.quantity,onChange:o,min:0,label:"qty"}),(0,c.jsx)(y.Z,{name:"price",value:d.price,onChange:o,min:0,label:"prc"}),(0,c.jsx)(y.Z,{name:"total",value:d.total,onChange:o,min:0,disabled:!0,label:"total"}),(0,c.jsx)(_.Z,{name:"notes",value:d.notes,onChange:o,disabled:!0,label:"nts"})]}),(0,c.jsx)(S.Z,{onClick:h,width:"20%"})]})},R=(0,t.memo)(A),D=function(){var e=(0,i.Z)(),n=e.tableRef,a=e.fetchTableData,d=(0,i.Z)(),o=d.tableRef,u=d.fetchTableData,h=p(),v=h.PDFRef,m=h.handleOpenModal,f=(0,t.useCallback)((function(e){u({invoice_type:e.invoice_type,invoice_no:e.invoice_id})}),[u]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(r.Z,{width:"100%",margin:"0",padding:"0",flexDirection:"column",children:[(0,c.jsx)(T,{fetchTableData:a}),(0,c.jsxs)(r.Z,{width:"100%",margin:"0",padding:"0",justifyContent:"space-between",children:[(0,c.jsx)(r.Z,{width:"40%",children:(0,c.jsx)(l.Z,{ref:n,api:"QUERY_INVOICE_MASTER_TABLE_DATA",postApi:"POST_INVOICE_MASTER_TABLE_DATA",columns:b,rowKey:"invoice_id",onSelectedRow:f,height:"400px",hideTools:!1,canDelete:!0})}),(0,c.jsx)(r.Z,{width:"60%",children:(0,c.jsx)(l.Z,{ref:o,api:"QUERY_INVOICE_DETAIL_TABLE_DATA",postApi:"POST_INVOICE_DETAIL_TABLE_DATA",columns:g,rowKey:"row_key",hideTools:!1,canPrint:!0,canAdd:!0,canEdit:!0,canDelete:!0,onPrint:m,ModalContent:R,modalWidth:"80%"})})]}),(0,c.jsx)(s,{ref:v,reportName:"files",params:{invoice_id:17,type:"C"}})]})})},O=(0,t.memo)(D)}}]);
//# sourceMappingURL=540.3c029afc.chunk.js.map