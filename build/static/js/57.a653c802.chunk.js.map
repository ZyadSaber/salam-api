{"version":3,"file":"static/js/57.a653c802.chunk.js","mappings":"4TAAaA,EAAU,CACrB,CACEC,MAAO,KACPC,UAAW,eACXC,MAAO,OAET,CACEF,MAAO,OACPC,UAAW,iBACXC,MAAO,OAET,CACEF,MAAO,SACPC,UAAW,oBACXC,MAAO,OAET,CACEF,MAAO,SACPC,UAAW,eACXC,MAAO,OAET,CACEF,MAAO,MACPC,UAAW,QACXC,MAAO,QAIEC,EAAiB,CAC5B,CACEC,MAAO,OACPC,MAAO,KAET,CACED,MAAO,QACPC,MAAO,KAET,CACED,MAAO,OACPC,MAAO,M,SC3BLC,EAAY,SAAHC,GAIO,IAHlBC,EAAOD,EAAPC,QACAC,EAAWF,EAAXE,YACAC,EAAYH,EAAZG,aAEAC,GAA4BC,EAAAA,EAAAA,GAAe,CACvCC,eAAaC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACNL,GAAW,IACdM,aAAcC,EAAAA,GAAeP,EAAYM,aACzCE,aAAcR,EAAYQ,cAAgB,QAJ1CC,EAAKP,EAALO,MAAOC,EAAQR,EAARQ,SAOPC,GAAuBC,EAAAA,EAAAA,GAAwB,CAAEC,IAAK,yCAA0CC,SAAUb,IAA1GU,mBAEFI,GAAaC,EAAAA,EAAAA,cAAY,WAC3BL,EAAmBF,GACnBV,GACJ,GAAG,CAACY,EAAoBF,EAAOV,IAEzBkB,GAAuBC,EAAAA,EAAAA,GAAgB,CACzCC,eAAgB,CACZ,eACA,iBACA,eACA,cAEJC,cAAeL,EACfM,gBAAiBZ,IAGrB,OACIa,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIC,EAAAA,EAAAA,MAAAF,EAAAA,SAAA,CAAAC,SAAA,EACAF,EAAAA,EAAAA,KAACI,EAAAA,EAAU,CACPC,KAAK,eACLjB,SAAUA,EACVd,MAAOa,EAAMH,aACbX,MAAM,KACNF,MAAM,SAEN6B,EAAAA,EAAAA,KAACM,EAAAA,EAAW,CACRD,KAAK,iBACLjB,SAAUA,EACVd,MAAY,OAALa,QAAK,IAALA,OAAK,EAALA,EAAOoB,eACdlC,MAAM,OACNF,MAAM,SAEV6B,EAAAA,EAAAA,KAACQ,EAAAA,EAAQ,CACLH,KAAK,eACLjB,SAAUA,EACVd,MAAY,OAALa,QAAK,IAALA,OAAK,EAALA,EAAOD,aACdb,MAAM,OACNF,MAAM,MACNsC,QAASrC,EACTsC,OAA+B,MAAvBvB,EAAMwB,gBAElBX,EAAAA,EAAAA,KAACY,EAAAA,EAAa,CACVP,KAAK,aACLQ,IAAI,mCACJxC,MAAM,KACNyC,OAAQ,CACJC,aAAc5B,EAAMD,cAExBZ,MAAY,OAALa,QAAK,IAALA,OAAK,EAALA,EAAO6B,WACdC,iBAAe,EACf9C,MAAM,MACNiB,SAAUA,KAEdY,EAAAA,EAAAA,KAACkB,EAAAA,EAAQ,CACL/C,MAAM,OACNkC,KAAK,QACLjB,SAAUA,EACVd,MAAY,OAALa,QAAK,IAALA,OAAK,EAALA,EAAOgC,MACd9C,MAAM,SAEV2B,EAAAA,EAAAA,KAACoB,EAAAA,EAAU,CACXC,QAAS1B,QAKzB,EAEA,GAAe2B,EAAAA,EAAAA,MAAK/C,GCtFdgD,EAAuB,WAEzB,IAAA3C,GAA4BC,EAAAA,EAAAA,GAAe,CAAEC,cAAe,CAAE0C,UAAW,GAAIC,QAAS,MAA9EtC,EAAKP,EAALO,MAAOC,EAAQR,EAARQ,SAEfsC,GAGIC,EAAAA,EAAAA,KAFAC,EAAQF,EAARE,SACAC,EAAcH,EAAdG,eAEEC,GAAepC,EAAAA,EAAAA,cAAY,WAC7BmC,EACI,CACIL,UAAWrC,EAAMqC,UACjBC,QAAStC,EAAMsC,SAG3B,GAAG,CAACI,EAAgB1C,EAAMqC,UAAWrC,EAAMsC,UAE3C,OACIzB,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIC,EAAAA,EAAAA,MAAC4B,EAAAA,EAAI,CAAC5D,MAAM,OAAO6D,cAAc,SAAQ9B,SAAA,EACrCC,EAAAA,EAAAA,MAAC4B,EAAAA,EAAI,CAAC5D,MAAM,OAAM+B,SAAA,EACdF,EAAAA,EAAAA,KAACI,EAAAA,EAAU,CAACC,KAAK,YAAYhC,MAAM,MAAMe,SAAUA,KACnDY,EAAAA,EAAAA,KAACI,EAAAA,EAAU,CAACC,KAAK,UAAUhC,MAAM,KAAKe,SAAUA,KAChDY,EAAAA,EAAAA,KAACiC,EAAAA,EAAM,CACHZ,QAASS,EACTzD,MAAM,OACNF,MAAM,YAGd6B,EAAAA,EAAAA,KAACkC,EAAAA,EAAY,CACTC,IAAKP,EACLrC,IAAK,0CACL6C,QAAS,yCACTpE,QAASA,EACTqE,WAAW,EACXC,SAAS,EACTC,QAAQ,EACRC,WAAW,EACXC,OAAQ,qBACRC,aAAcnE,EACd0C,iBAAe,QAKnC,EAEA,GAAeK,EAAAA,EAAAA,MAAKC,E","sources":["../pages/casher-receipt-voucher-page/src/constant.ts","../pages/casher-receipt-voucher-page/src/Partials/modalView.tsx","../pages/casher-receipt-voucher-page/src/component.tsx"],"sourcesContent":["export const columns = [\r\n  {\r\n    title: \"dt\",\r\n    dataIndex: \"voucher_date\",\r\n    width: \"15%\",\r\n  },\r\n  {\r\n    title: \"amnt\",\r\n    dataIndex: \"voucher_amount\",\r\n    width: \"20%\",\r\n  },\r\n  {\r\n    title: \"vchrnm\",\r\n    dataIndex: \"voucher_type_name\",\r\n    width: \"10%\",\r\n  },\r\n  {\r\n    title: \"hldrnm\",\r\n    dataIndex: \"voucher_name\",\r\n    width: \"40%\",\r\n  },\r\n  {\r\n    title: \"nts\",\r\n    dataIndex: \"notes\",\r\n    width: \"15%\",\r\n  },\r\n];\r\n\r\nexport const voucherOptions = [\r\n  {\r\n    label: \"splr\",\r\n    value: \"S\",\r\n  },\r\n  {\r\n    label: \"cstmr\",\r\n    value: \"C\",\r\n  },\r\n  {\r\n    label: \"othr\",\r\n    value: \"O\",\r\n  },\r\n];\r\n","import React, { memo, useCallback } from \"react\";\r\nimport { useTableControlsButtons } from \"@commons/table\";\r\nimport { ModalViewProp, defaultDate } from \"@commons/global\";\r\nimport RadioBox from \"@commons/radio-box\"\r\nimport { TextArea } from \"@commons/input-text\";\r\nimport InputNumber from \"@commons/input-number\"\r\nimport DatePicker from \"@commons/date-picker\"\r\nimport { SelectWithApi } from \"@commons/select\";\r\nimport { useFormManager, useValidateForm } from \"@commons/hooks\";\r\nimport { SaveButton } from \"@commons/button\"\r\nimport { voucherOptions } from \"../constant\"\r\n\r\nconst ModalView = ({\r\n    onClose,\r\n    selectedRow,\r\n    refreshTable\r\n}: ModalViewProp) => {\r\n    const { state, onChange } = useFormManager({\r\n        initialValues: {\r\n            ...selectedRow,\r\n            voucher_date: defaultDate || selectedRow.voucher_date,\r\n            voucher_type: selectedRow.voucher_type || \"C\",\r\n        }\r\n    })\r\n    const { onSaveAndInsertion } = useTableControlsButtons({ api: \"POST_CASHER_RECEIPT_VOUCHER_TABLE_DATA\", runFetch: refreshTable })\r\n\r\n    const handleSave = useCallback(() => {\r\n        onSaveAndInsertion(state)\r\n        onClose()\r\n    }, [onSaveAndInsertion, state, onClose])\r\n\r\n    const handleValidateFelids = useValidateForm({\r\n        validateFelids: [\r\n            \"voucher_date\",\r\n            \"voucher_amount\",\r\n            \"voucher_type\",\r\n            \"voucher_id\",\r\n        ],\r\n        functionToRun: handleSave,\r\n        stateToValidate: state\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <>\r\n            <DatePicker\r\n                name=\"voucher_date\"\r\n                onChange={onChange}\r\n                value={state.voucher_date}\r\n                label=\"dt\"\r\n                width=\"47%\"\r\n            />\r\n                <InputNumber\r\n                    name=\"voucher_amount\"\r\n                    onChange={onChange}\r\n                    value={state?.voucher_amount}\r\n                    label=\"amnt\"\r\n                    width=\"47%\"\r\n                />\r\n                <RadioBox\r\n                    name=\"voucher_type\"\r\n                    onChange={onChange}\r\n                    value={state?.voucher_type}\r\n                    label=\"vchr\"\r\n                    width=\"47%\"\r\n                    options={voucherOptions}\r\n                    hidden={state.query_status === \"u\"}\r\n                />\r\n                <SelectWithApi\r\n                    name=\"voucher_id\"\r\n                    Api=\"QUERY_CUSTOMER_AND_SUPPLIER_LIST\"\r\n                    label=\"nm\"\r\n                    params={{\r\n                        invoice_type: state.voucher_type\r\n                    }}\r\n                    value={state?.voucher_id}\r\n                    fetchOnFirstRun\r\n                    width=\"47%\"\r\n                    onChange={onChange}\r\n                />\r\n                <TextArea\r\n                    width=\"100%\"\r\n                    name=\"notes\"\r\n                    onChange={onChange}\r\n                    value={state?.notes}\r\n                    label=\"nts\"\r\n                />\r\n                <SaveButton\r\n                onClick={handleValidateFelids}\r\n            />\r\n            </>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(ModalView)","import React, { memo, useCallback } from \"react\";\r\nimport Flex from \"@commons/flex\";\r\nimport DatePicker from \"@commons/date-picker\"\r\nimport { TableWithApi, useCreateTableActionRef } from \"@commons/table\";\r\nimport { useFormManager } from \"@commons/hooks\";\r\nimport { Button } from \"@commons/button\"\r\nimport ModalView from \"./Partials/modalView\"\r\nimport { columns } from \"./constant\";\r\n\r\nconst CasherReceiptVoucher = () => {\r\n\r\n    const { state, onChange } = useFormManager({ initialValues: { date_from: \"\", date_to: \"\" } })\r\n\r\n    const {\r\n        tableRef,\r\n        fetchTableData,\r\n    } = useCreateTableActionRef()\r\n    const handleSearch = useCallback(() => {\r\n        fetchTableData(\r\n            {\r\n                date_from: state.date_from,\r\n                date_to: state.date_to\r\n            }\r\n        )\r\n    }, [fetchTableData, state.date_from, state.date_to])\r\n\r\n    return (\r\n        <>\r\n            <Flex width=\"100%\" flexDirection=\"column\">\r\n                <Flex width=\"100%\" >\r\n                    <DatePicker name=\"date_from\" label=\"frm\" onChange={onChange} />\r\n                    <DatePicker name=\"date_to\" label=\"to\" onChange={onChange} />\r\n                    <Button\r\n                        onClick={handleSearch}\r\n                        label=\"srch\"\r\n                        width=\"10%\"\r\n                    />\r\n                </Flex>\r\n                <TableWithApi\r\n                    ref={tableRef}\r\n                    api={\"QUERY_CASHER_RECEIPT_VOUCHER_TABLE_DATA\"}\r\n                    postApi={\"POST_CASHER_RECEIPT_VOUCHER_TABLE_DATA\"}\r\n                    columns={columns}\r\n                    hideTools={false}\r\n                    canEdit={true}\r\n                    canAdd={true}\r\n                    canDelete={true}\r\n                    rowKey={\"receipt_voucher_id\"}\r\n                    ModalContent={ModalView}\r\n                    fetchOnFirstRun\r\n                />\r\n            </Flex>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(CasherReceiptVoucher)"],"names":["columns","title","dataIndex","width","voucherOptions","label","value","ModalView","_ref","onClose","selectedRow","refreshTable","_useFormManager","useFormManager","initialValues","_objectSpread","voucher_date","defaultDate","voucher_type","state","onChange","onSaveAndInsertion","useTableControlsButtons","api","runFetch","handleSave","useCallback","handleValidateFelids","useValidateForm","validateFelids","functionToRun","stateToValidate","_jsx","_Fragment","children","_jsxs","DatePicker","name","InputNumber","voucher_amount","RadioBox","options","hidden","query_status","SelectWithApi","Api","params","invoice_type","voucher_id","fetchOnFirstRun","TextArea","notes","SaveButton","onClick","memo","CasherReceiptVoucher","date_from","date_to","_useCreateTableAction","useCreateTableActionRef","tableRef","fetchTableData","handleSearch","Flex","flexDirection","Button","TableWithApi","ref","postApi","hideTools","canEdit","canAdd","canDelete","rowKey","ModalContent"],"sourceRoot":""}