{"version":3,"file":"static/js/57.d84ce074.chunk.js","mappings":"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","sources":["../pages/casher-receipt-voucher-page/src/constant.ts","../pages/casher-receipt-voucher-page/src/Partials/modalView.tsx","../pages/casher-receipt-voucher-page/src/component.tsx"],"sourcesContent":["export const columns = [\r\n  {\r\n    title: \"dt\",\r\n    dataIndex: \"voucher_date\",\r\n    width: \"14%\",\r\n  },\r\n  {\r\n    title: \"amnt\",\r\n    dataIndex: \"voucher_amount\",\r\n    width: \"20%\",\r\n  },\r\n  {\r\n    title: \"vchrnm\",\r\n    dataIndex: \"voucher_type_name\",\r\n    width: \"10%\",\r\n  },\r\n  {\r\n    title: \"hldrnm\",\r\n    dataIndex: \"voucher_name\",\r\n    width: \"40%\",\r\n  },\r\n  {\r\n    title: \"nts\",\r\n    dataIndex: \"notes\",\r\n    width: \"15%\",\r\n  },\r\n];\r\n\r\nexport const voucherOptions = [\r\n  {\r\n    label: \"splr\",\r\n    value: \"S\",\r\n  },\r\n  {\r\n    label: \"cstmr\",\r\n    value: \"C\",\r\n  },\r\n  {\r\n    label: \"othr\",\r\n    value: \"O\",\r\n  },\r\n];\r\n","import React, { memo, useCallback } from \"react\";\r\nimport { useTableControlsButtons } from \"@commons/table\";\r\nimport { ModalViewProp, defaultDate } from \"@commons/global\";\r\nimport RadioBox from \"@commons/radio-box\";\r\nimport { TextArea } from \"@commons/input-text\";\r\nimport InputNumber from \"@commons/input-number\";\r\nimport DatePicker from \"@commons/date-picker\";\r\nimport { SelectWithApi } from \"@commons/select\";\r\nimport { useFormManager, useValidateForm } from \"@commons/hooks\";\r\nimport { SaveButton } from \"@commons/button\";\r\nimport { voucherOptions } from \"../constant\";\r\n\r\nconst ModalView = ({ onClose, selectedRow, refreshTable }: ModalViewProp) => {\r\n  const { state, onChange } = useFormManager({\r\n    initialValues: {\r\n      ...selectedRow,\r\n      voucher_date: defaultDate || selectedRow.voucher_date,\r\n      voucher_type: selectedRow.voucher_type || \"C\",\r\n    },\r\n  });\r\n  const { onSaveAndInsertion } = useTableControlsButtons({\r\n    api: \"POST_CASHER_RECEIPT_VOUCHER_TABLE_DATA\",\r\n    runFetch: refreshTable,\r\n  });\r\n\r\n  const handleSave = useCallback(() => {\r\n    onSaveAndInsertion(state);\r\n    onClose();\r\n  }, [onSaveAndInsertion, state, onClose]);\r\n\r\n  const handleValidateFelids = useValidateForm({\r\n    validateFelids: [\r\n      \"voucher_date\",\r\n      \"voucher_amount\",\r\n      \"voucher_type\",\r\n      \"voucher_id\",\r\n    ],\r\n    functionToRun: handleSave,\r\n    stateToValidate: state,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <>\r\n        <DatePicker\r\n          name=\"voucher_date\"\r\n          onChange={onChange}\r\n          value={state.voucher_date}\r\n          label=\"dt\"\r\n          width=\"47%\"\r\n        />\r\n        <InputNumber\r\n          name=\"voucher_amount\"\r\n          onChange={onChange}\r\n          value={state?.voucher_amount}\r\n          label=\"amnt\"\r\n          width=\"47%\"\r\n        />\r\n        <RadioBox\r\n          name=\"voucher_type\"\r\n          onChange={onChange}\r\n          value={state?.voucher_type}\r\n          label=\"vchr\"\r\n          width=\"47%\"\r\n          options={voucherOptions}\r\n          hidden={state.query_status === \"u\"}\r\n        />\r\n        <SelectWithApi\r\n          name=\"voucher_id\"\r\n          api=\"QUERY_CUSTOMER_AND_SUPPLIER_LIST\"\r\n          label=\"nm\"\r\n          params={{\r\n            invoice_type: state.voucher_type,\r\n          }}\r\n          value={state?.voucher_id}\r\n          fetchOnFirstRun\r\n          width=\"47%\"\r\n          onChange={onChange}\r\n        />\r\n        <TextArea\r\n          width=\"100%\"\r\n          name=\"notes\"\r\n          onChange={onChange}\r\n          value={state?.notes}\r\n          label=\"nts\"\r\n        />\r\n        <SaveButton onClick={handleValidateFelids} />\r\n      </>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(ModalView);\r\n","import React, { memo, useCallback } from \"react\";\r\nimport Flex from \"@commons/flex\";\r\nimport DatePicker from \"@commons/date-picker\";\r\nimport { TableWithApi, useCreateTableActionRef } from \"@commons/table\";\r\nimport { useFormManager } from \"@commons/hooks\";\r\nimport { Button } from \"@commons/button\";\r\nimport ModalView from \"./Partials/modalView\";\r\nimport { columns } from \"./constant\";\r\n\r\nconst CasherReceiptVoucher = () => {\r\n  const { state, onChange } = useFormManager({\r\n    initialValues: { date_from: \"\", date_to: \"\" },\r\n  });\r\n\r\n  const { tableRef, fetchTableData } = useCreateTableActionRef();\r\n  const handleSearch = useCallback(() => {\r\n    fetchTableData({\r\n      date_from: state.date_from,\r\n      date_to: state.date_to,\r\n    });\r\n  }, [fetchTableData, state.date_from, state.date_to]);\r\n\r\n  return (\r\n    <>\r\n      <Flex width=\"100%\" flexDirection=\"column\">\r\n        <Flex width=\"100%\">\r\n          <DatePicker name=\"date_from\" label=\"frm\" onChange={onChange} />\r\n          <DatePicker name=\"date_to\" label=\"to\" onChange={onChange} />\r\n          <Button onClick={handleSearch} label=\"srch\" width=\"10%\" />\r\n        </Flex>\r\n        <TableWithApi\r\n          ref={tableRef}\r\n          api={\"QUERY_CASHER_RECEIPT_VOUCHER_TABLE_DATA\"}\r\n          postApi={\"POST_CASHER_RECEIPT_VOUCHER_TABLE_DATA\"}\r\n          columns={columns}\r\n          hideTools={false}\r\n          canEdit={true}\r\n          canAdd={true}\r\n          canDelete={true}\r\n          rowKey={\"receipt_voucher_id\"}\r\n          ModalContent={ModalView}\r\n          fetchOnFirstRun\r\n        />\r\n      </Flex>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(CasherReceiptVoucher);\r\n"],"names":["columns","title","dataIndex","width","voucherOptions","label","value","ModalView","_ref","onClose","selectedRow","refreshTable","state","onChange","useFormManager","initialValues","voucher_date","defaultDate","voucher_type","onSaveAndInsertion","useTableControlsButtons","api","runFetch","handleSave","useCallback","handleValidateFelids","useValidateForm","validateFelids","functionToRun","stateToValidate","_jsx","_Fragment","children","_jsxs","DatePicker","name","InputNumber","voucher_amount","RadioBox","options","hidden","query_status","SelectWithApi","params","invoice_type","voucher_id","fetchOnFirstRun","TextArea","notes","SaveButton","onClick","memo","CasherReceiptVoucher","date_from","date_to","tableRef","fetchTableData","useCreateTableActionRef","handleSearch","Flex","flexDirection","Button","TableWithApi","ref","postApi","hideTools","canEdit","canAdd","canDelete","rowKey","ModalContent"],"sourceRoot":""}