"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[699],{8535:function(i,n,e){var t=e(1413),o=e(9439),d=e(5987),a=e(2791),r=e(6582),c=e(184),s=["children","justifyContent","width","height","padding","margin","bordered","backgroundColor","borderColor","borderWidth","borderRadius","flexDirection","textAlign","hidden","wrap"],l=function(i){var n=i.children,e=i.justifyContent,l=i.width,u=i.height,h=i.padding,p=void 0===h?"10px":h,x=i.margin,f=i.bordered,m=void 0!==f&&f,v=i.backgroundColor,j=i.borderColor,b=void 0===j?"#3c8dcf":j,w=i.borderWidth,g=void 0===w?"px":w,C=i.borderRadius,_=void 0===C?"5px":C,k=i.flexDirection,Z=void 0===k?"row":k,S=i.textAlign,R=void 0===S?"":S,y=i.hidden,F=void 0!==y&&y,A=i.wrap,T=(0,d.Z)(i,s),I=(0,a.useState)(""),O=(0,o.Z)(I,2),D=(O[0],O[1]);return(0,a.useEffect)((function(){m&&D("".concat(g," solid ").concat(b))}),[b,g,m]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(r.k,(0,t.Z)((0,t.Z)({width:l,height:u,padding:p,margin:x,background:v,borderRadius:_,flexDirection:Z,textAlign:R,justifyContent:e,hidden:F,wrap:A?"wrap":""},T),{},{children:n}))})};n.Z=(0,a.memo)(l)},7940:function(i,n,e){e.d(n,{Z:function(){return Z}});var t=e(1413),o=e(9439),d=e(5987),a=e(2791),r=e(5057),c=e(890),s=e(9230),l=e(990),u=e(8874),h=e(2989),p=e(5473),x=e(634),f=e(6241),m=e(6582),v=e(7685),j=e(9055),b=e(184),w=function(i){var n=i.children,e=i.visible,t=void 0!==e&&e,o=i.label,d=i.onClose,a=i.onOK,r=i.submitTitle,c=void 0===r?"smbt":r,w=i.width,g=void 0===w?"3xl":w,C=i.hideSaveButton,_=void 0!==C&&C,k=i.hideCloseButton,Z=void 0!==k&&k,S=(0,s.$G)().t;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(l.u_,{isOpen:t,onClose:d,size:g,children:[(0,b.jsx)(u.Z,{}),(0,b.jsxs)(h.h,{children:[(0,b.jsx)(p.x,{children:S(o)}),(0,b.jsx)(x.o,{}),(0,b.jsx)(f.f,{children:(0,b.jsx)(m.k,{w:"100%",padding:"5px",wrap:"wrap",children:n})}),(0,b.jsx)(v.m,{children:(0,b.jsxs)(m.k,{w:"25%",justifyContent:"space-around",children:[(0,b.jsx)(j.z,{colorScheme:"red",mr:3,onClick:d,hidden:Z,children:S("cls")}),(0,b.jsx)(j.z,{colorScheme:"blue",onClick:a,hidden:_,children:S(c)})]})})]})]})})},g=(0,a.memo)(w),C=e(7262),_=["api","postApi","columns","ModalContent","onClick","fetchOnFirstRun","params","checkForParams"],k=function(i,n){var e=i.api,s=i.postApi,l=i.columns,u=i.ModalContent,h=i.onClick,p=i.fetchOnFirstRun,x=void 0!==p&&p,f=i.params,m=(i.checkForParams,(0,d.Z)(i,_)),v=(0,c.Z)({link:e,fetchOnFirstRun:x,params:f,checkForParams:!0}),j=v.data,w=v.runFetch,k=v.loading,Z=(0,C.Z)({api:s,runFetch:w}).onSaveAndInsertion,S=(0,a.useState)({}),R=(0,o.Z)(S,2),y=R[0],F=R[1],A=(0,a.useState)(!1),T=(0,o.Z)(A,2),I=T[0],O=T[1],D=(0,a.useCallback)((function(){F({query_status:"n"}),O(!0)}),[F]),E=(0,a.useCallback)((function(){F((0,t.Z)((0,t.Z)({},y),{},{query_status:"u"})),O(!0)}),[y,F]),P=(0,a.useCallback)((function(){O(!1)}),[]);return(0,a.useImperativeHandle)(n,(function(){return{runFetch:w}})),(0,b.jsxs)(b.Fragment,{children:[u&&(0,b.jsx)(g,{visible:I,onClose:P,hideCloseButton:!0,hideSaveButton:!0,label:"dtls",children:(0,b.jsx)(u,{onClose:P,selectedRow:y,refreshTable:w})}),(0,b.jsx)(r.Z,(0,t.Z)({dataSource:null===j||void 0===j?void 0:j.data,columns:l,onAdd:D,onEdit:E,onDelete:function(){Z((0,t.Z)((0,t.Z)({},y),{},{query_status:"d"}))},onSelectedRow:function(i){F(i),h&&h(i)},loading:k},m))]})},Z=(0,a.memo)((0,a.forwardRef)(k))},5057:function(i,n,e){e.d(n,{Z:function(){return Z}});var t=e(9439),o=e(2791),d=e(184),a=function(i){var n=i.icon,e=i.onClick,t=i.disabled,o=void 0!==t&&t,a=i.width,r=void 0===a?"30px":a,c=i.height,s=void 0===c?"30px":c,l=i.color,u=i.margin,h=void 0===u?"10px":u,p=i.padding,x=i.hidden,f=void 0!==x&&x;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{style:{border:"none",width:r,height:s,backgroundColor:l,padding:p,margin:h,borderRadius:"20px"},hidden:f,onClick:e,disabled:o,children:(0,d.jsx)("i",{className:n})})})},r=(0,o.memo)(a),c=e(898),s=e(4880),l=e(4045),u=e(9230),h=e(1146),p=e.n(h),x=e(1813),f=e(2715),m=e(8773),v=e(824),j=e(1364),b=e(5802),w=e(8733),g=e(7588),C=e(2940),_=e(5606),k=e(8535),Z=function(i){var n=i.dataSource,e=i.height,a=void 0===e?"300px":e,h=i.rowKey,Z=void 0===h?"rowKey":h,S=i.columns,R=i.hideTools,y=void 0===R||R,F=i.canEdit,A=void 0!==F&&F,T=i.canAdd,I=void 0!==T&&T,O=i.canDelete,D=void 0!==O&&O,E=i.canExcel,P=void 0!==E&&E,z=i.onAdd,N=i.onEdit,U=i.onDelete,B=i.actionColumn,W=void 0!==B&&B,Y=i.onAction,q=i.actionLabel,L=void 0===q?"":q,K=i.onSelectedRow,H=i.label,M=i.canPrint,Q=void 0!==M&&M,G=(i.onPrint,i.additionalButtons),V=i.onSave,$=i.canSave,J=void 0!==$&&$,X=i.width,ii=void 0===X?"100%":X,ni=i.margin,ei=void 0===ni?"":ni,ti=i.padding,oi=void 0===ti?"":ti,di=i.loading,ai=void 0!==di&&di,ri=i.onDoubleClick,ci=void 0===ri?function(i){console.log(i)}:ri,si=(0,s.TH)().pathname,li=(0,u.$G)().t,ui=(0,o.useState)(),hi=(0,t.Z)(ui,2),pi=hi[0],xi=hi[1],fi=(0,o.useCallback)((function(i){return function(){K&&K(i),xi(i)}}),[K]),mi=(0,o.useCallback)((function(i){return function(){ci&&ci(i),xi(i)}}),[ci]),vi=(0,o.useCallback)((function(){var i=si.replace("/",""),e=l.P6.book_new(),t=l.P6.json_to_sheet(n);l.P6.book_append_sheet(e,t,i),l.NC(e,"".concat(i," ").concat((new Date).toUTCString(),".xlsx"))}),[n,si]),ji=(0,o.useRef)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(x.x,{width:ii,padding:oi,margin:ei,children:[H&&(0,d.jsx)(f.x,{width:"100%",textAlign:"center",marginBottom:"7px",fontSize:"md",fontWeight:"bold",children:li(H)}),(0,d.jsxs)(k.Z,{width:"100%",padding:"0",margin:"5px 0",justifyContent:"center",hidden:y,children:[(0,d.jsx)(r,{icon:"fa-sharp fa-solid fa-plus",onClick:z,hidden:!I}),(0,d.jsx)(r,{icon:"fa-sharp fa-solid fa-pen-clip",onClick:N,hidden:!A,disabled:!pi}),(0,d.jsx)(r,{icon:"fa-sharp fa-solid fa-trash",onClick:U,hidden:!D,disabled:!pi}),G&&G.map((function(i){return(0,d.jsx)(r,{icon:i.icon,onClick:i.onClick,disabled:i.disabled,hidden:!1})})),(0,d.jsx)(r,{icon:"fa-solid fa-floppy-disk",onClick:V,hidden:!J,disabled:!J}),(0,d.jsx)(p(),{trigger:function(){return(0,d.jsx)(r,{icon:"fa-solid fa-print",hidden:!Q,disabled:!Q})},content:function(){return ji.current},documentTitle:"dd"}),(0,d.jsx)(r,{icon:"fa-sharp fa-regular fa-file-excel",onClick:vi,hidden:!P,disabled:!P})]}),(0,d.jsx)(m.O,{isLoaded:!ai,fadeDuration:0,children:(0,d.jsxs)(v.xu,{overflowY:"auto",height:a,children:[(0,d.jsxs)(j.i,{ref:ji,children:[(0,d.jsx)(b.h,{top:0,position:"sticky",bgColor:"#3edae6",children:(0,d.jsxs)(w.Tr,{children:[S.map((function(i){return(0,d.jsx)(g.Th,{maxWidth:i.width,minWidth:i.width,children:li(i.title)})})),(0,d.jsx)(g.Th,{hidden:!W,children:li("actn")})]})}),(0,d.jsx)(C.p,{children:null===n||void 0===n?void 0:n.map((function(i){return(0,d.jsxs)(w.Tr,{onClick:fi(i),onDoubleClick:mi(i),background:"".concat(pi===i?"#dbffbf":""),children:[S.map((function(n){return(0,d.jsx)(_.Td,{maxWidth:n.width,minWidth:n.width,children:i[n.dataIndex]})})),(0,d.jsx)(_.Td,{hidden:!W,children:(0,d.jsx)(c.Z,{label:L,onClick:function(){Y(i)}})})]},i[Z])}))})]}),!Array.isArray(n)||0===n.length&&!ai?(0,d.jsx)(k.Z,{justifyContent:"center",width:"100%",children:(0,d.jsx)(f.x,{as:"b",fontSize:"md",color:"red",children:"No Data"})}):(0,d.jsx)(d.Fragment,{})]})})]})})}},7262:function(i,n,e){var t=e(2791),o=e(4082);n.Z=function(i){var n=i.api,e=void 0===n?"":n,d=i.runFetch,a=(0,o.Z)({link:e,additionalFunctionToRun:d,method:"POST"}).setRow,r=(0,o.Z)({link:e,additionalFunctionToRun:d,method:"PUT"}).setRow,c=(0,o.Z)({link:e,additionalFunctionToRun:d,method:"Delete"}).setRow;return{onSaveAndInsertion:(0,t.useCallback)((function(i){"n"===i.query_status?a(i):"u"===i.query_status?r(i):"d"===i.query_status&&c(i)}),[a,r,c])}}},4082:function(i,n,e){var t=e(4165),o=e(5861),d=e(9439),a=e(2791),r=e(1227),c=e(399),s=e(8382);n.Z=function(i){var n,e=i.link,l=void 0===e?"":e,u=i.noAuthorization,h=void 0!==u&&u,p=i.additionalFunctionToRun,x=i.runOnSuccess,f=i.runOnFail,m=i.method,v=void 0===m?"POST":m,j=(0,s.p)(),b="http://144.24.209.19:9090/api/".concat(c.Z[l]),w=(0,a.useState)(),g=(0,d.Z)(w,2),C=g[0],_=g[1],k=(0,r.Z)().authorization,Z=(0,a.useCallback)((function(i){return(n=n||(0,o.Z)((0,t.Z)().mark((function i(n){var e,o,d;return(0,t.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!k&&!h){i.next=17;break}return e={method:v,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(k)},body:JSON.stringify(n)},i.prev=2,i.next=5,fetch(b,e);case 5:return o=i.sent,i.next=8,o.json();case 8:return"success"===(d=i.sent).response?(j({position:"top-right",title:"Success",description:"".concat(d.response),status:"success",duration:5e3,isClosable:!0}),x&&x()):(j({position:"top-right",title:"Error",description:"".concat(d.message),status:"error",duration:9e3,isClosable:!0}),f&&f()),_(d),p&&p(),i.abrupt("return",d);case 15:i.prev=15,i.t0=i.catch(2);case 17:case"end":return i.stop()}}),i,null,[[2,15]])})))).apply(this,arguments)}),[p,k,v,h,f,x,j,b]);return{success:C,setRow:(0,a.useCallback)((function(i){Z(i)}),[Z])}}},3746:function(i,n,e){e.r(n),e.d(n,{default:function(){return g}});var t=e(2791),o=e(1413),d=e(9439),a=e(5987),r=e(890),c=(e(550),e(3623)),s=e(9230),l=e(8535),u=e(184),h=function(i){var n=i.mode,e=void 0===n?"bar":n,t=i.width,o=i.height,d=i.margin,a=i.padding,r=i.label,h=void 0===r?"chart":r,p=i.dataSource,x=(0,s.$G)().t;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(l.Z,{flexDirection:"column",width:t,height:o,margin:d,padding:a,children:[(0,u.jsx)(l.Z,{width:"100%",justifyContent:"center",children:(0,u.jsx)("p",{children:x(h)})}),p&&function(){switch(e){case"line":return(0,u.jsx)(c.kL,{type:"line",data:p});case"pie":return(0,u.jsx)(c.kL,{type:"pie",data:p});case"bar":return(0,u.jsx)(c.kL,{type:"bar",data:p})}}()]})})},p=(0,t.memo)(h),x=["api","params"],f=function(i){var n=i.api,e=i.params,c=(0,a.Z)(i,x),s=(0,t.useState)({labels:[],datasets:[{label:"",data:[]}]}),l=(0,d.Z)(s,2),h=l[0],f=l[1],m=(0,r.Z)({link:n,fetchOnFirstRun:!0,params:e}).data;return(0,t.useEffect)((function(){Array.isArray(m)||f(m)}),[m]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,(0,o.Z)({dataSource:h},c))})},m=(0,t.memo)(f),v=e(7940),j=[{title:"no",dataIndex:"customer_invoice_id",width:"5%"},{title:"nm",dataIndex:"invoice_holder_name",width:"10%"},{title:"total",dataIndex:"customer_invoice_total",width:"5%"},{title:"discount",dataIndex:"customer_invoice_discount",width:"5%"},{title:"total after",dataIndex:"customer_invoice_after_discount",width:"5%"},{title:"paid",dataIndex:"customer_invoice_paid",width:"5%"},{title:"credit",dataIndex:"customer_invoice_credit",width:"5%"}],b=[{title:"no",dataIndex:"supplier_invoice_id",width:"5%"},{title:"nm",dataIndex:"invoice_holder_name",width:"10%"},{title:"total",dataIndex:"supplier_invoice_total",width:"5%"},{title:"discount",dataIndex:"supplier_invoice_discount",width:"5%"},{title:"total after",dataIndex:"supplier_invoice_after_discount",width:"5%"},{title:"paid",dataIndex:"supplier_invoice_paid",width:"5%"},{title:"credit",dataIndex:"supplier_invoice_credit",width:"5%"}],w=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(l.Z,{width:"100%",children:[(0,u.jsxs)(l.Z,{width:"75%",flexDirection:"column",children:[(0,u.jsx)(v.Z,{api:"QUERY_CUSTOMERS_INVOICES_FOR_TODAY",rowKey:"customer_invoice_id",columns:j,fetchOnFirstRun:!0,label:"cstmrs"}),(0,u.jsx)(v.Z,{api:"QUERY_SUPPLIERS_INVOICES_FOR_TODAY",rowKey:"supplier_invoice_id",columns:b,fetchOnFirstRun:!0,label:"splrs"})]}),(0,u.jsxs)(l.Z,{width:"25%",flexDirection:"column",children:[(0,u.jsx)(m,{api:"QUERY_INVOICES_CHART_DATA",label:"invcs",mode:"pie",width:"100%"}),(0,u.jsx)(m,{api:"QUERY_MAIN_CHART_DATA",label:"vault",mode:"pie",width:"100%"})]})]})})},g=(0,t.memo)(w)}}]);
//# sourceMappingURL=699.94a307d1.chunk.js.map