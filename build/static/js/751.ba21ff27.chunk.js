"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[751],{8535:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(2791),i=t(6582),o=t(184);const r=e=>{let{children:n,justifyContent:t,width:r,height:l,padding:s="10px",margin:d,bordered:c=!1,backgroundColor:u,borderColor:h="#3c8dcf",borderWidth:p="px",borderRadius:x="5px",flexDirection:m="row",textAlign:b="",hidden:g=!1,wrap:f,...C}=e;const[k,v]=(0,a.useState)("");return(0,a.useEffect)((()=>{c&&v("".concat(p," solid ").concat(h))}),[h,p,c]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.k,{width:r,height:l,padding:s,margin:d,background:u,borderRadius:x,flexDirection:m,textAlign:b,justifyContent:t,hidden:g,wrap:f?"wrap":"",...C,children:n})})},l=(0,a.memo)(r)},3224:(e,n,t)=>{t.d(n,{Z:()=>m});var a=t(2791);const i=()=>{const e=(0,a.useRef)(),n=(0,a.useCallback)((async()=>{var n;return await(null===(n=e.current)||void 0===n?void 0:n.handleOpen())}),[e]);return{PDFRef:e,handleOpenModal:n}};var o=t(9539),r=t(184);const l=(e,n)=>{let{reportName:t,params:i}=e;const[l,s]=(0,a.useState)(!1),d=(0,a.useCallback)((()=>{s(!0)}),[]),c=(0,a.useCallback)((()=>{s(!1)}),[]);(0,a.useImperativeHandle)(n,(()=>({handleOpen:d})));const u="http://192.168.1.250:5000/system_pdf_generate/".concat(t,"?").concat(new URLSearchParams(i));return(0,r.jsx)(o.Z,{label:"PDF Viewer",visible:l,onClose:c,noFooter:!0,width:"90%",height:"80%",children:(0,r.jsx)("object",{data:u,width:"100%",height:"100%",children:"Your browser does not support pdf files."})})},s=(0,a.memo)((0,a.forwardRef)(l));var d=t(890);const c=e=>{let{visible:n,onClose:t,onConfirm:i,message:l}=e;const s=(0,a.useCallback)((()=>{i(),t()}),[t,i]);return(0,r.jsx)(o.Z,{label:"cnfrmtn",visible:n,onClose:t,width:"25%",onOK:s,submitTitle:"cnfrm",children:l||"Are you want to continue ?"})},u=(0,a.memo)(c);var h=t(9606),p=t(7262);const x=(e,n)=>{let{api:t,postApi:l,columns:c,ModalContent:x,onClick:m,fetchOnFirstRun:b=!1,params:g,checkForParams:f=!1,modalWidth:C="60%",printProps:k,reportName:v,...j}=e;const{data:w,runFetch:Z,loading:y,setData:S,resetData:F}=(0,d.Z)({link:t,fetchOnFirstRun:b,params:g,checkForParams:f}),{onSaveAndInsertion:R}=(0,p.Z)({api:l,runFetch:Z}),{PDFRef:T,handleOpenModal:D}=i(),[N,A]=(0,a.useState)({}),[O,P]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),z=(0,a.useCallback)((()=>{A({query_status:"n"}),P(!0)}),[A]),W=(0,a.useCallback)((()=>{A({...N,query_status:"u"}),P(!0)}),[N,A]),B=(0,a.useCallback)((()=>{P(!1)}),[]),G=(0,a.useCallback)((()=>{E(!1)}),[]),q=(0,a.useCallback)((()=>{E(!0)}),[]),I=(0,a.useMemo)((()=>null===w||void 0===w?void 0:w.data),[null===w||void 0===w?void 0:w.data]),K=(0,a.useCallback)((()=>{N&&D()}),[D,N]);return(0,a.useImperativeHandle)(n,(()=>({runFetch:Z,setTableData:S,resetTableData:F,getCurrentDataSource:()=>I}))),(0,r.jsxs)(r.Fragment,{children:[x&&(0,r.jsx)(o.Z,{visible:O,onClose:B,hideCloseButton:!0,hideSaveButton:!0,label:"dtls",noFooter:!0,width:C,children:(0,r.jsx)(x,{onClose:B,selectedRow:N,refreshTable:Z})}),(0,r.jsx)(u,{visible:_,onConfirm:()=>{R({...N,query_status:"d"})},onClose:G}),(0,r.jsx)(s,{ref:T,reportName:v,params:k}),(0,r.jsx)(h.Z,{dataSource:null===w||void 0===w?void 0:w.data,columns:c,onAdd:z,onEdit:W,onPrint:K,onDelete:q,onSelectedRow:e=>{A(e),m&&m(e)},loading:y,...j})]})},m=(0,a.memo)((0,a.forwardRef)(x))},9606:(e,n,t)=>{t.d(n,{Z:()=>v});var a=t(2791),i=t(6409),o=t(4067),r=t(4880),l=t(4045),s=t(9230),d=t(1813),c=t(2715),u=t(8773),h=t(824),p=t(1364),x=t(5802),m=t(8733),b=t(7588),g=t(2940),f=t(5606),C=t(8535),k=t(184);const v=e=>{let{dataSource:n,height:t="300px",rowKey:v="rowKey",columns:j,hideTools:w=!0,canEdit:Z=!1,canAdd:y=!1,canDelete:S=!1,canExcel:F=!1,onAdd:R,onEdit:T,onDelete:D,actionColumn:N=!1,onAction:A,actionLabel:O="",onSelectedRow:P,label:_,canPrint:E=!1,onPrint:z,additionalButtons:W,onSave:B,canSave:G=!1,width:q="100%",margin:I="",padding:K="",loading:L=!1,onDoubleClick:M}=e;const{pathname:H}=(0,r.TH)(),{t:J}=(0,s.$G)(),[U,Y]=(0,a.useState)(),$=(0,a.useCallback)((e=>()=>{P&&P(e),Y(e)}),[P]),V=(0,a.useCallback)((e=>()=>{M&&M(e),Y(e)}),[M]),Q=(0,a.useCallback)((()=>{const e=H.replace("/",""),t=l.P6.book_new(),a=l.P6.json_to_sheet(n);l.P6.book_append_sheet(t,a,e),l.NC(t,"".concat(e," ").concat((new Date).toUTCString(),".xlsx"))}),[n,H]),X=(0,a.useRef)();return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(d.x,{width:q,padding:K,margin:I,children:[_&&(0,k.jsx)(c.x,{width:"100%",textAlign:"center",marginBottom:"7px",fontSize:"md",fontWeight:"bold",children:J(_)}),(0,k.jsxs)(C.Z,{width:"100%",padding:"0",margin:"5px 0",justifyContent:"center",hidden:w,children:[(0,k.jsx)(i.Z,{iconName:"plus",onClick:R,hidden:!y}),(0,k.jsx)(i.Z,{iconName:"edit",onClick:T,hidden:!Z,disabled:!U}),(0,k.jsx)(i.Z,{iconName:"delete",onClick:D,hidden:!S,disabled:!U}),W&&W.map((e=>(0,k.jsx)(i.Z,{iconName:e.icon,onClick:e.onClick,disabled:e.disabled,hidden:!1}))),(0,k.jsx)(i.Z,{iconName:"save",onClick:B,hidden:!G,disabled:!G}),(0,k.jsx)(i.Z,{iconName:"print",onClick:z,hidden:!E,disabled:!E}),(0,k.jsx)(i.Z,{iconName:"excel",onClick:Q,hidden:!F,disabled:!F})]}),(0,k.jsx)(u.O,{isLoaded:!L,fadeDuration:0,children:(0,k.jsxs)(h.xu,{overflowY:"auto",height:t,children:[(0,k.jsxs)(p.i,{ref:X,children:[(0,k.jsx)(x.h,{top:0,position:"sticky",bgColor:"#3edae6",children:(0,k.jsxs)(m.Tr,{children:[j.map((e=>(0,k.jsx)(b.Th,{maxWidth:e.width,minWidth:e.width,children:J(e.title)}))),(0,k.jsx)(b.Th,{hidden:!N,children:J("actn")})]})}),(0,k.jsx)(g.p,{children:null===n||void 0===n?void 0:n.map((e=>(0,k.jsxs)(m.Tr,{onClick:$(e),onDoubleClick:V(e),background:"".concat(U===e?"#dbffbf":""),children:[j.map((n=>(0,k.jsx)(f.Td,{maxWidth:n.width,minWidth:n.width,children:e[n.dataIndex]}))),(0,k.jsx)(f.Td,{hidden:!N,children:(0,k.jsx)(o.Z,{label:O,width:"100%",onClick:()=>{A(e)}})})]},e[v])))})]}),Array.isArray(n)&&0!==n.length||L?(0,k.jsx)(k.Fragment,{}):(0,k.jsx)(C.Z,{justifyContent:"center",width:"100%",children:(0,k.jsx)(c.x,{as:"b",fontSize:"md",color:"red",children:"No Data"})})]})})]})})}},6590:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(2791);const i=()=>{const e=(0,a.useRef)(),n=(0,a.useCallback)((async n=>{var t;return await(null===(t=e.current)||void 0===t?void 0:t.runFetch(n))}),[e]),t=(0,a.useCallback)((()=>{var n;return(null===(n=e.current)||void 0===n?void 0:n.getCurrentDataSource())||[]}),[e]),i=(0,a.useCallback)((n=>{var t;return(null===(t=e.current)||void 0===t?void 0:t.setTableData(n))||[]}),[e]),o=(0,a.useCallback)((()=>{var n;return(null===(n=e.current)||void 0===n?void 0:n.resetTableData())||[]}),[e]);return{tableRef:e,fetchTableData:n,getTableData:t,setTableData:i,resetTable:o}}},7262:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(2791),i=t(4082);const o=e=>{let{api:n="",runFetch:t}=e;const{setRow:o}=(0,i.Z)({link:n,additionalFunctionToRun:t,method:"POST"}),{setRow:r}=(0,i.Z)({link:n,additionalFunctionToRun:t,method:"PUT"}),{setRow:l}=(0,i.Z)({link:n,additionalFunctionToRun:t,method:"Delete"});return{onSaveAndInsertion:(0,a.useCallback)((e=>{"n"===e.query_status?o(e):"u"===e.query_status?r(e):"d"===e.query_status&&l(e)}),[o,r,l])}}},6409:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(2791),i=t(4067);const o={excel:"fa-sharp fa-regular fa-file-excel",plus:"fa-sharp fa-solid fa-plus",edit:"fa-sharp fa-solid fa-pen-clip",delete:"fa-sharp fa-solid fa-trash",save:"fa-solid fa-floppy-disk",print:"fa-solid fa-print",search:"fa-solid fa-magnifying-glass",clear:"fa-solid fa-broom"};var r=t(184);const l=e=>{let{iconName:n,backGround:t="none",margin:a="5px",...l}=e;const s=(0,r.jsx)("i",{className:n?o[n]:""});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{border:"none",icon:s,padding:"0",borderRadius:"20px",margin:a,backGround:t,...l})})},s=(0,a.memo)(l)},3388:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(2791);const i=e=>{const n=(0,a.useRef)();return(0,a.useEffect)((()=>{n.current=e})),n.current},o=e=>{let{initialValues:n}=e;const[t,o]=(0,a.useState)(n),r=(0,a.useRef)(!1),l=i(n),s=(0,a.useCallback)((()=>!Object.is(JSON.stringify(l),JSON.stringify(n))),[n,l]);(0,a.useEffect)((()=>{s()&&o({...n})}),[s,n]);const d=(0,a.useCallback)((()=>{r.current=!1,o((()=>n))}),[n]);(0,a.useEffect)((()=>d),[]);const c=(0,a.useCallback)((e=>{const{name:n,value:a}=e;o({...t,[n]:a})}),[t]),u=(0,a.useCallback)((e=>{o({...t,...e})}),[t]),h=(0,a.useCallback)((e=>{o({...t,[e.name]:e.value,[e.selectLabelName]:e.label})}),[t]),p=(0,a.useCallback)((e=>{let{name:n,value:a}=e;o({...t,[n]:[...t[n],a]})}),[t]);return{state:t,onChange:c,resetForm:d,handleRootState:o,handleSelectWithLabelChange:h,handleArrayChange:p,handleMultiInput:u}}},4082:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(2791),i=t(1227),o=t(399),r=t(8382);const l=e=>{let{link:n="",noAuthorization:t=!1,additionalFunctionToRun:l,runOnSuccess:s,runOnFail:d,method:c="POST"}=e;const u=(0,r.p)(),h="http://192.168.1.250:5000/api/".concat(o.Z[n]),[p,x]=(0,a.useState)(),{authorization:m}=(0,i.Z)(),b=(0,a.useCallback)((async e=>{if(m||t){const t={method:c,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(m)},body:JSON.stringify(e)};try{const e=await fetch(h,t),n=await e.json();return"success"===n.response?(u({position:"top-right",title:"Success",description:"".concat(n.response),status:"success",duration:5e3,isClosable:!0}),s&&s()):(u({position:"top-right",title:"Error",description:"".concat(n.message),status:"error",duration:9e3,isClosable:!0}),d&&d()),x(n),l&&l(),n}catch(n){}}}),[l,m,c,t,d,s,u,h]);return{success:p,setRow:(0,a.useCallback)((e=>{b(e)}),[b])}}},9539:(e,n,t)=>{t.d(n,{Z:()=>w});var a=t(2791),i=t(4067),o=t(9230),r=t(184);const l=e=>{let{value:n,margin:t,padding:a,width:i="",fontSize:l="",color:s,backgroundColor:d}=e;const{t:c}=(0,o.$G)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("strong",{style:{padding:a,margin:t,width:i,fontSize:l,color:s,backgroundColor:d},children:c(n)})})},s=(0,a.memo)(l);var d,c,u,h,p,x=t(8535),m=t(168),b=t(225);const g=b.Z.div(d||(d=(0,m.Z)(["\n  position: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n    z-index: 1;\n"]))),f=b.Z.div(c||(c=(0,m.Z)(["\n /* position: relative;\n    margin: 5% auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: ",";\n    height: ",";\n    background-color: white;\n    border-radius: 15px; */\n    /* max-height: 90vh;\n\tmax-width: 500px; */\n    width: ",";\n    height: ",";\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tbackground-color: #fff;\n\tborder-radius: 15px;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-shadow: 0 15px 30px 0 rgba(#000, 0.25);\n\t@media (max-width: 600px) {\n\t\twidth: 90%;\n\t}\n"])),(e=>{let{width:n}=e;return n}),(e=>{let{height:n}=e;return n}),(e=>{let{width:n}=e;return n}),(e=>{let{height:n}=e;return n})),C=b.Z.div(u||(u=(0,m.Z)(["\n\tpadding: 15px 32px;\n\tborder-bottom: 1px solid #ddd;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n"]))),k=b.Z.div(h||(h=(0,m.Z)(["\n\tpadding: 10px 32px;\n\toverflow-y: auto;\n    height: 100%;\n"]))),v=b.Z.div(p||(p=(0,m.Z)(['\n    padding: 15px 32px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tborder-top: 1px solid #ddd;\n\tgap: 12px;\n\tposition: relative;\n\t&:after {\n\t\tcontent: "";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: -51px;\n\t\tleft: 24px;\n\t\tright: 24px;\n\t\theight: 50px;\n\t\tflex-shrink: 0;\n\t\tbackground-image: linear-gradient(to top, rgba(#fff, 0.75), transparent);\n\t\tpointer-events: none;\n\t}\n']))),j=e=>{let{children:n,visible:t=!1,label:a,onClose:o,onOK:l,submitTitle:d="smbt",width:c="90%",height:u="auto",hideSaveButton:h=!1,hideCloseButton:p=!1,noFooter:m=!1}=e;return(0,r.jsx)(r.Fragment,{children:t&&(0,r.jsx)(g,{hidden:!t,children:(0,r.jsxs)(f,{width:c,height:u,children:[(0,r.jsxs)(C,{children:[(0,r.jsx)(s,{value:a}),(0,r.jsx)(i.Z,{label:"\xd7",backGround:"none",margin:"0",padding:"0","data-dismiss":"modal",onClick:o})]}),(0,r.jsx)(k,{children:(0,r.jsx)(x.Z,{width:"100%",padding:"0",wrap:"wrap",height:"100%",children:n})}),!m&&(0,r.jsxs)(v,{hidden:m,children:[!h&&(0,r.jsx)(i.Z,{onClick:l,label:d,hidden:h,width:"20%",margin:"0"}),!p&&(0,r.jsx)(i.Z,{onClick:o,label:"cls",hidden:p,width:"20%",backGround:"red",margin:"0"})]})]})})})},w=(0,a.memo)(j)},7299:(e,n,t)=>{t.d(n,{Z:()=>h});var a=t(2791),i=t(9230),o=t(6582),r=t(930),l=t(3027),s=t(3387),d=t(164),c=t(184);const u=e=>{let{name:n,options:t,width:u,onChange:h,value:p,label:x,margin:m="10px",padding:b,hidden:g=!1,disabled:f=!1,...C}=e;const{t:k}=(0,i.$G)(),v=(0,a.useCallback)((e=>{h({name:n,value:e})}),[n,h]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(o.k,{direction:"column",width:u,padding:b,margin:m,wrap:"wrap",hidden:g,children:[(0,c.jsx)(r.l,{fontSize:"md",as:"b",margin:"0 0 5px",children:k(x)}),(0,c.jsx)(o.k,{className:"css-1xsh6d8",width:"100%",children:(0,c.jsx)(l.E,{padding:"7px",onChange:v,value:p,width:"100%",display:"flex",gap:"15px",flexWrap:"wrap",isDisabled:f,...C,children:t.map((e=>(0,c.jsx)(s.K,{direction:"row",children:(0,c.jsx)(d.Y,{value:e.value,children:k(e.label)})})))})})]})})},h=(0,a.memo)(u)}}]);
//# sourceMappingURL=751.ba21ff27.chunk.js.map