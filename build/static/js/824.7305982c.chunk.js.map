{"version":3,"file":"static/js/824.7305982c.chunk.js","mappings":"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","sources":["../pages/casher-payment-voucher-page/src/constant.ts","../pages/casher-payment-voucher-page/src/Partials/modalView.tsx","../pages/casher-payment-voucher-page/src/component.tsx"],"sourcesContent":["export const columns = [\r\n  {\r\n    title: \"dt\",\r\n    dataIndex: \"voucher_date\",\r\n    width: \"14%\",\r\n  },\r\n  {\r\n    title: \"amnt\",\r\n    dataIndex: \"voucher_amount\",\r\n    width: \"20%\",\r\n  },\r\n  {\r\n    title: \"vchrnm\",\r\n    dataIndex: \"voucher_type_name\",\r\n    width: \"10%\",\r\n  },\r\n  {\r\n    title: \"hldrnm\",\r\n    dataIndex: \"voucher_name\",\r\n    width: \"40%\",\r\n  },\r\n  {\r\n    title: \"nts\",\r\n    dataIndex: \"notes\",\r\n    width: \"15%\",\r\n  },\r\n];\r\n\r\nexport const voucherOptions = [\r\n  {\r\n    label: \"splr\",\r\n    value: \"S\",\r\n  },\r\n  {\r\n    label: \"cstmr\",\r\n    value: \"C\",\r\n  },\r\n  {\r\n    label: \"othr\",\r\n    value: \"O\",\r\n  },\r\n];\r\n","import React, { memo, useCallback } from \"react\";\r\nimport { useTableControlsButtons } from \"@commons/table\";\r\nimport { ModalViewProp, defaultDate } from \"@commons/global\";\r\nimport RadioBox from \"@commons/radio-box\";\r\nimport { TextArea } from \"@commons/input-text\";\r\nimport DatePicker from \"@commons/date-picker\";\r\nimport InputNumber from \"@commons/input-number\";\r\nimport { SelectWithApi } from \"@commons/select\";\r\nimport { useFormManager, useValidateForm } from \"@commons/hooks\";\r\nimport { SaveButton } from \"@commons/button\";\r\nimport { voucherOptions } from \"../constant\";\r\n\r\nconst ModalView = ({ onClose, selectedRow, refreshTable }: ModalViewProp) => {\r\n  const { state, onChange } = useFormManager({\r\n    initialValues: {\r\n      ...selectedRow,\r\n      voucher_type: selectedRow.voucher_type || \"S\",\r\n      voucher_date: defaultDate || selectedRow.voucher_date,\r\n    },\r\n  });\r\n  const { onSaveAndInsertion } = useTableControlsButtons({\r\n    api: \"POST_CASHER_PAYMENT_VOUCHER_TABLE_DATA\",\r\n    runFetch: refreshTable,\r\n  });\r\n\r\n  const handleSave = useCallback(() => {\r\n    onSaveAndInsertion(state);\r\n    onClose();\r\n  }, [onSaveAndInsertion, state, onClose]);\r\n\r\n  const handleValidateFelids = useValidateForm({\r\n    validateFelids: [\r\n      \"voucher_date\",\r\n      \"voucher_amount\",\r\n      \"voucher_type\",\r\n      \"voucher_id\",\r\n    ],\r\n    functionToRun: handleSave,\r\n    stateToValidate: state,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <DatePicker\r\n        name=\"voucher_date\"\r\n        onChange={onChange}\r\n        value={state.voucher_date}\r\n        label=\"dt\"\r\n        width=\"47%\"\r\n      />\r\n      <InputNumber\r\n        name=\"voucher_amount\"\r\n        onChange={onChange}\r\n        value={state.voucher_amount}\r\n        label=\"amnt\"\r\n        width=\"47%\"\r\n      />\r\n      <RadioBox\r\n        name=\"voucher_type\"\r\n        onChange={onChange}\r\n        value={state.voucher_type}\r\n        label=\"vchr\"\r\n        width=\"47%\"\r\n        options={voucherOptions}\r\n        disabled={state.query_status === \"u\"}\r\n      />\r\n      <SelectWithApi\r\n        name=\"voucher_id\"\r\n        api=\"QUERY_CUSTOMER_AND_SUPPLIER_LIST\"\r\n        label=\"nm\"\r\n        params={{\r\n          invoice_type: state.voucher_type,\r\n        }}\r\n        value={state.voucher_id}\r\n        fetchOnFirstRun\r\n        width=\"47%\"\r\n        onChange={onChange}\r\n      />\r\n      <TextArea\r\n        width=\"100%\"\r\n        name=\"notes\"\r\n        onChange={onChange}\r\n        value={state?.notes}\r\n        label=\"nts\"\r\n      />\r\n      <SaveButton onClick={handleValidateFelids} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(ModalView);\r\n","import React, { memo, useCallback } from \"react\";\r\nimport Flex from \"@commons/flex\";\r\nimport DatePicker from \"@commons/date-picker\";\r\nimport { TableWithApi, useCreateTableActionRef } from \"@commons/table\";\r\nimport { useFormManager } from \"@commons/hooks\";\r\nimport { Button } from \"@commons/button\";\r\nimport ModalView from \"./Partials/modalView\";\r\nimport { columns } from \"./constant\";\r\n\r\nconst CasherPaymentVoucher = () => {\r\n  const { state, onChange } = useFormManager({\r\n    initialValues: { date_from: \"\", date_to: \"\" },\r\n  });\r\n  const { tableRef, fetchTableData } = useCreateTableActionRef();\r\n  const handleSearch = useCallback(() => {\r\n    fetchTableData({\r\n      date_from: state.date_from,\r\n      date_to: state.date_to,\r\n    });\r\n  }, [fetchTableData, state.date_from, state.date_to]);\r\n  return (\r\n    <>\r\n      <Flex width=\"100%\" flexDirection=\"column\">\r\n        <Flex width=\"100%\">\r\n          <DatePicker name=\"date_from\" label=\"frm\" onChange={onChange} />\r\n          <DatePicker name=\"date_to\" label=\"to\" onChange={onChange} />\r\n          <Button onClick={handleSearch} label=\"srch\" width=\"10%\" />\r\n        </Flex>\r\n        <TableWithApi\r\n          ref={tableRef}\r\n          api={\"QUERY_CASHER_PAYMENT_VOUCHER_TABLE_DATA\"}\r\n          postApi={\"POST_CASHER_PAYMENT_VOUCHER_TABLE_DATA\"}\r\n          columns={columns}\r\n          hideTools={false}\r\n          canEdit={true}\r\n          canAdd={true}\r\n          canDelete={true}\r\n          rowKey={\"payment_voucher_id\"}\r\n          ModalContent={ModalView}\r\n        />\r\n      </Flex>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(CasherPaymentVoucher);\r\n"],"names":["columns","title","dataIndex","width","voucherOptions","label","value","ModalView","_ref","onClose","selectedRow","refreshTable","state","onChange","useFormManager","initialValues","voucher_type","voucher_date","defaultDate","onSaveAndInsertion","useTableControlsButtons","api","runFetch","handleSave","useCallback","handleValidateFelids","useValidateForm","validateFelids","functionToRun","stateToValidate","_jsxs","_Fragment","children","_jsx","DatePicker","name","InputNumber","voucher_amount","RadioBox","options","disabled","query_status","SelectWithApi","params","invoice_type","voucher_id","fetchOnFirstRun","TextArea","notes","SaveButton","onClick","memo","CasherPaymentVoucher","date_from","date_to","tableRef","fetchTableData","useCreateTableActionRef","handleSearch","Flex","flexDirection","Button","TableWithApi","ref","postApi","hideTools","canEdit","canAdd","canDelete","rowKey","ModalContent"],"sourceRoot":""}