{"version":3,"file":"static/js/824.c1b6a4ff.chunk.js","mappings":"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","sources":["../pages/casher-payment-voucher-page/src/constant.ts","../pages/casher-payment-voucher-page/src/Partials/modalView.tsx","../pages/casher-payment-voucher-page/src/component.tsx"],"sourcesContent":["export const columns = [\r\n  {\r\n    title: \"dt\",\r\n    dataIndex: \"voucher_date\",\r\n    width: \"15%\",\r\n  },\r\n  {\r\n    title: \"amnt\",\r\n    dataIndex: \"voucher_amount\",\r\n    width: \"20%\",\r\n  },\r\n  {\r\n    title: \"vchrnm\",\r\n    dataIndex: \"voucher_type_name\",\r\n    width: \"10%\",\r\n  },\r\n  {\r\n    title: \"hldrnm\",\r\n    dataIndex: \"voucher_name\",\r\n    width: \"40%\",\r\n  },\r\n  {\r\n    title: \"nts\",\r\n    dataIndex: \"notes\",\r\n    width: \"15%\",\r\n  },\r\n];\r\n\r\nexport const voucherOptions = [\r\n  {\r\n    label: \"splr\",\r\n    value: \"S\",\r\n  },\r\n  {\r\n    label: \"cstmr\",\r\n    value: \"C\",\r\n  },\r\n  {\r\n    label: \"othr\",\r\n    value: \"O\",\r\n  },\r\n];\r\n","import React, { memo, useCallback } from \"react\";\r\nimport { useTableControlsButtons } from \"@commons/table\";\r\nimport { ModalViewProp, defaultDate } from \"@commons/global\";\r\nimport RadioBox from \"@commons/radio-box\"\r\nimport { TextArea } from \"@commons/input-text\";\r\nimport DatePicker from \"@commons/date-picker\"\r\nimport InputNumber from \"@commons/input-number\"\r\nimport { SelectWithApi } from \"@commons/select\";\r\nimport { useFormManager, useValidateForm } from \"@commons/hooks\";\r\nimport { SaveButton } from \"@commons/button\"\r\nimport { voucherOptions } from \"../constant\"\r\n\r\nconst ModalView = ({\r\n    onClose,\r\n    selectedRow,\r\n    refreshTable\r\n}: ModalViewProp) => {\r\n    const { state, onChange } = useFormManager({\r\n        initialValues: {\r\n            ...selectedRow,\r\n            voucher_type: selectedRow.voucher_type || \"S\",\r\n            voucher_date: defaultDate || selectedRow.voucher_date\r\n        }\r\n    })\r\n    const { onSaveAndInsertion } = useTableControlsButtons({ api: \"POST_CASHER_PAYMENT_VOUCHER_TABLE_DATA\", runFetch: refreshTable })\r\n\r\n    const handleSave = useCallback(() => {\r\n        onSaveAndInsertion(state)\r\n        onClose()\r\n    }, [onSaveAndInsertion, state, onClose])\r\n\r\n    const handleValidateFelids = useValidateForm({\r\n        validateFelids: [\r\n            \"voucher_date\",\r\n            \"voucher_amount\",\r\n            \"voucher_type\",\r\n            \"voucher_id\",\r\n        ],\r\n        functionToRun: handleSave,\r\n        stateToValidate: state\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <DatePicker\r\n                name=\"voucher_date\"\r\n                onChange={onChange}\r\n                value={state.voucher_date}\r\n                label=\"dt\"\r\n                width=\"47%\"\r\n            />\r\n            <InputNumber\r\n                name=\"voucher_amount\"\r\n                onChange={onChange}\r\n                value={state.voucher_amount}\r\n                label=\"amnt\"\r\n                width=\"47%\"\r\n            />\r\n            <RadioBox\r\n                name=\"voucher_type\"\r\n                onChange={onChange}\r\n                value={state.voucher_type}\r\n                label=\"vchr\"\r\n                width=\"47%\"\r\n                options={voucherOptions}\r\n                disabled={state.query_status === \"u\"}\r\n            />\r\n            <SelectWithApi\r\n                name=\"voucher_id\"\r\n                api=\"QUERY_CUSTOMER_AND_SUPPLIER_LIST\"\r\n                label=\"nm\"\r\n                params={{\r\n                    invoice_type: state.voucher_type\r\n                }}\r\n                value={state.voucher_id}\r\n                fetchOnFirstRun\r\n                width=\"47%\"\r\n                onChange={onChange}\r\n            />\r\n            <TextArea\r\n                width=\"100%\"\r\n                name=\"notes\"\r\n                onChange={onChange}\r\n                value={state?.notes}\r\n                label=\"nts\"\r\n            />\r\n            <SaveButton\r\n                onClick={handleValidateFelids}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(ModalView)","import React, { memo, useCallback } from \"react\";\r\nimport Flex from \"@commons/flex\";\r\nimport DatePicker from \"@commons/date-picker\"\r\nimport { TableWithApi, useCreateTableActionRef } from \"@commons/table\";\r\nimport { useFormManager } from \"@commons/hooks\";\r\nimport { Button } from \"@commons/button\"\r\nimport ModalView from \"./Partials/modalView\"\r\nimport { columns } from \"./constant\";\r\n\r\nconst CasherPaymentVoucher = () => {\r\n    const { state, onChange } = useFormManager({ initialValues: { date_from: \"\", date_to: \"\" } })\r\n    const {\r\n        tableRef,\r\n        fetchTableData,\r\n    } = useCreateTableActionRef()\r\n    const handleSearch = useCallback(() => {\r\n        fetchTableData(\r\n            {\r\n                date_from: state.date_from,\r\n                date_to: state.date_to\r\n            }\r\n        )\r\n    }, [fetchTableData, state.date_from, state.date_to])\r\n    return (\r\n        <>\r\n            <Flex width=\"100%\" flexDirection=\"column\">\r\n                <Flex width=\"100%\" >\r\n                    <DatePicker name=\"date_from\" label=\"frm\" onChange={onChange} />\r\n                    <DatePicker name=\"date_to\" label=\"to\" onChange={onChange} />\r\n                    <Button\r\n                        onClick={handleSearch}\r\n                        label=\"srch\"\r\n                        width=\"10%\"\r\n                    />\r\n                </Flex>\r\n                <TableWithApi\r\n                    ref={tableRef}\r\n                    api={\"QUERY_CASHER_PAYMENT_VOUCHER_TABLE_DATA\"}\r\n                    postApi={\"POST_CASHER_PAYMENT_VOUCHER_TABLE_DATA\"}\r\n                    columns={columns}\r\n                    hideTools={false}\r\n                    canEdit={true}\r\n                    canAdd={true}\r\n                    canDelete={true}\r\n                    rowKey={\"payment_voucher_id\"}\r\n                    ModalContent={ModalView}\r\n                />\r\n            </Flex>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(CasherPaymentVoucher)"],"names":["columns","title","dataIndex","width","voucherOptions","label","value","ModalView","_ref","onClose","selectedRow","refreshTable","_useFormManager","useFormManager","initialValues","_objectSpread","voucher_type","voucher_date","defaultDate","state","onChange","onSaveAndInsertion","useTableControlsButtons","api","runFetch","handleSave","useCallback","handleValidateFelids","useValidateForm","validateFelids","functionToRun","stateToValidate","_jsxs","_Fragment","children","_jsx","DatePicker","name","InputNumber","voucher_amount","RadioBox","options","disabled","query_status","SelectWithApi","params","invoice_type","voucher_id","fetchOnFirstRun","TextArea","notes","SaveButton","onClick","memo","CasherPaymentVoucher","date_from","date_to","_useCreateTableAction","useCreateTableActionRef","tableRef","fetchTableData","handleSearch","Flex","flexDirection","Button","TableWithApi","ref","postApi","hideTools","canEdit","canAdd","canDelete","rowKey","ModalContent"],"sourceRoot":""}