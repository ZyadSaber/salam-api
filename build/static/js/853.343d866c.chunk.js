"use strict";(self.webpackChunkelsalamapp=self.webpackChunkelsalamapp||[]).push([[853],{3224:(e,t,n)=>{n.d(t,{Z:()=>b});var a=n(2791);const o=()=>{const e=(0,a.useRef)(),t=(0,a.useCallback)((async()=>{var t;return await(null===(t=e.current)||void 0===t?void 0:t.handleOpen())}),[e]);return{PDFRef:e,handleOpenModal:t}};var r=n(6314),i=n(184);const l=(e,t)=>{let{reportName:n,params:o}=e;const[l,s]=(0,a.useState)(!1),d=(0,a.useCallback)((()=>{s(!0)}),[]),c=(0,a.useCallback)((()=>{s(!1)}),[]);(0,a.useImperativeHandle)(t,(()=>({handleOpen:d})));const u="http://144.24.209.19:9090/system_pdf_generate/".concat(n,"?").concat(new URLSearchParams(o));return(0,i.jsx)(r.Z,{label:"PDF Viewer",visible:l,onClose:c,noFooter:!0,width:"90%",height:"80%",children:(0,i.jsx)("object",{data:u,width:"100%",height:"100%",children:"Your browser does not support pdf files."})})},s=(0,a.memo)((0,a.forwardRef)(l));var d=n(890);const c=e=>{let{visible:t,onClose:n,onConfirm:o,message:l}=e;const s=(0,a.useCallback)((()=>{o(),n()}),[n,o]);return(0,i.jsx)(r.Z,{label:"cnfrmtn",visible:t,onClose:n,width:"25%",onOK:s,submitTitle:"cnfrm",children:l||"Are you want to continue ?"})},u=(0,a.memo)(c);var h=n(6903),p=n(7262);const m=(e,t)=>{let{api:n,postApi:l,columns:c,ModalContent:m,onClick:b,fetchOnFirstRun:g=!1,params:x,checkForParams:f=!1,modalWidth:v="60%",printProps:w,reportName:C,...k}=e;const{data:Z,runFetch:j,loading:S,setData:D,resetData:y}=(0,d.Z)({link:n,fetchOnFirstRun:g,params:x,checkForParams:f}),{onSaveAndInsertion:F}=(0,p.Z)({api:l,runFetch:j}),{PDFRef:_,handleOpenModal:R}=o(),[T,Y]=(0,a.useState)({}),[M,O]=(0,a.useState)(!1),[I,A]=(0,a.useState)(!1),P=(0,a.useCallback)((()=>{Y({query_status:"n"}),O(!0)}),[Y]),q=(0,a.useCallback)((()=>{Y({...T,query_status:"u"}),O(!0)}),[T,Y]),E=(0,a.useCallback)((()=>{O(!1)}),[]),N=(0,a.useCallback)((()=>{A(!1)}),[]),z=(0,a.useCallback)((()=>{A(!0)}),[]),H=(0,a.useMemo)((()=>null===Z||void 0===Z?void 0:Z.data),[null===Z||void 0===Z?void 0:Z.data]),B=(0,a.useCallback)((()=>{T&&R()}),[R,T]);return(0,a.useImperativeHandle)(t,(()=>({runFetch:j,setTableData:D,resetTableData:y,getCurrentDataSource:()=>H}))),(0,i.jsxs)(i.Fragment,{children:[m&&(0,i.jsx)(r.Z,{visible:M,onClose:E,hideCloseButton:!0,hideSaveButton:!0,label:"dtls",noFooter:!0,width:v,children:(0,i.jsx)(m,{onClose:E,selectedRow:T,refreshTable:j})}),(0,i.jsx)(u,{visible:I,onConfirm:()=>{F({...T,query_status:"d"})},onClose:N}),(0,i.jsx)(s,{ref:_,reportName:C,params:w}),(0,i.jsx)(h.Z,{dataSource:null===Z||void 0===Z?void 0:Z.data,columns:c,onAdd:P,onEdit:q,onPrint:B,onDelete:z,onSelectedRow:e=>{Y(e),b&&b(e)},loading:S,...k})]})},b=(0,a.memo)((0,a.forwardRef)(m))},6590:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(2791);const o=()=>{const e=(0,a.useRef)(),t=(0,a.useCallback)((async t=>{var n;return await(null===(n=e.current)||void 0===n?void 0:n.runFetch(t))}),[e]),n=(0,a.useCallback)((()=>{var t;return(null===(t=e.current)||void 0===t?void 0:t.getCurrentDataSource())||[]}),[e]),o=(0,a.useCallback)((t=>{var n;return(null===(n=e.current)||void 0===n?void 0:n.setTableData(t))||[]}),[e]),r=(0,a.useCallback)((()=>{var t;return(null===(t=e.current)||void 0===t?void 0:t.resetTableData())||[]}),[e]);return{tableRef:e,fetchTableData:t,getTableData:n,setTableData:o,resetTable:r}}},7262:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2791),o=n(4082);const r=e=>{let{api:t="",runFetch:n}=e;const{setRow:r}=(0,o.Z)({link:t,additionalFunctionToRun:n,method:"POST"}),{setRow:i}=(0,o.Z)({link:t,additionalFunctionToRun:n,method:"PUT"}),{setRow:l}=(0,o.Z)({link:t,additionalFunctionToRun:n,method:"Delete"});return{onSaveAndInsertion:(0,a.useCallback)((e=>{"n"===e.query_status?r(e):"u"===e.query_status?i(e):"d"===e.query_status&&l(e)}),[r,i,l])}}},8216:(e,t,n)=>{n.d(t,{Z:()=>b});var a,o=n(2791),r=n(7892),i=n.n(r),l=n(4826),s=n(168),d=n(225),c=n(1535);const u=(0,d.Z)(c.Z)(a||(a=(0,s.Z)(["\n  ","\n  width: 100%;\n"])),(e=>{let{required:t}=e;return t&&"border: 1px solid red;"})),h={fullDate:"YYYY-MM-DD",weakDate:"MM-DD",monthFormat:"YYYY-MM",fullDateWithTime:"YYYY-MM-DD HH:mm:ss",fullDateWithTimeNoSecond:"YYYY-MM-DD HH:mm"};var p=n(184);const m=e=>{let{dateFormat:t="fullDate",label:n,value:a,width:o="200px",height:r,padding:s,margin:d,name:c,onChange:m,required:b=!1,showTime:g,...x}=e;const f=a?i()(a,h[t]):void 0;return(0,p.jsx)(l.Z,{label:n,width:o,height:r,padding:s,margin:d,hasContent:f&&(null===f||void 0===f?void 0:f.toString()),top:"7px",children:(0,p.jsx)(u,{defaultValue:f,value:f,format:h[t],showTime:g,width:"100%",onChange:(e,t)=>{m&&m({name:c,value:t})},placeholder:"",required:b,...x})})},b=(0,o.memo)(m)},4826:(e,t,n)=>{n.d(t,{Z:()=>p});var a,o,r=n(2791),i=n(9230),l=n(168),s=n(225);const d=s.Z.div(a||(a=(0,l.Z)(["\n  position: relative;\n  margin: ",";\n  padding: ",";\n  height: ",";\n  width: ",";\n"])),(e=>{let{margin:t}=e;return t}),(e=>{let{padding:t}=e;return t||"5px 0"}),(e=>{let{height:t}=e;return t}),(e=>{let{width:t}=e;return t})),c=s.Z.label(o||(o=(0,l.Z)(["\n  position: absolute;\n  top: ",";\n  left: 10px;\n  color: #999;\n  padding: 0;\n  margin: 0;\n  transition: top 0.3s, font-size 0.3s, background-color 0.5s;\n\n  ","\n"])),(e=>{let{top:t}=e;return t||"5px"}),(e=>{let{hasContent:t}=e;return t&&"\n    top: -5px;\n    font-size: 12px;\n    color: #007bff;\n    font-size: 14px;\n    background-color: white;\n  "}));var u=n(184);const h=e=>{let{hasContent:t,name:n,label:a="",height:o,width:r="200px",padding:l,margin:s,children:h,hidden:p,top:m}=e;const{t:b}=(0,i.$G)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d,{width:r,height:o,margin:s,padding:l,hidden:p,children:[h,(0,u.jsx)(c,{top:m,htmlFor:n,hasContent:t,children:b(a)})]})})},p=(0,r.memo)(h)},5848:(e,t,n)=>{n.d(t,{_8:()=>o});const a=new Date,o="".concat(a.getFullYear(),"-").concat((a.getMonth()+1).toString().padStart(2,"0"),"-").concat(a.getDate().toString().padStart(2,"0")),r="".concat(a.getHours().toString().padStart(2,"0"),":").concat(a.getMinutes().toString().padStart(2,"0"),":").concat(a.getSeconds().toString().padStart(2,"0"));"".concat(o," ").concat(r)},3388:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2791);const o=e=>{const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e})),t.current},r=e=>{let{initialValues:t}=e;const[n,r]=(0,a.useState)(t),i=(0,a.useRef)(!1),l=o(t),s=(0,a.useCallback)((()=>!Object.is(JSON.stringify(l),JSON.stringify(t))),[t,l]);(0,a.useEffect)((()=>{s()&&r({...t})}),[s,t]);const d=(0,a.useCallback)((()=>{i.current=!1,r((()=>t))}),[t]);(0,a.useEffect)((()=>d),[]);const c=(0,a.useCallback)((e=>{const{name:t,value:a}=e;r({...n,[t]:a})}),[n]),u=(0,a.useCallback)((e=>{r({...n,...e})}),[n]),h=(0,a.useCallback)((e=>{r({...n,[e.name]:e.value,[e.selectLabelName]:e.label})}),[n]),p=(0,a.useCallback)((e=>{let{name:t,value:a}=e;r({...n,[t]:[...n[t],a]})}),[n]);return{state:n,onChange:c,resetForm:d,handleRootState:r,handleSelectWithLabelChange:h,handleArrayChange:p,handleMultiInput:u}}},4082:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(2791),o=n(1227),r=n(399),i=n(8382);const l=e=>{let{link:t="",noAuthorization:n=!1,additionalFunctionToRun:l,runOnSuccess:s,runOnFail:d,method:c="POST"}=e;const u=(0,i.p)(),h="http://144.24.209.19:9090/api/".concat(r.Z[t]),[p,m]=(0,a.useState)(),{authorization:b}=(0,o.Z)(),g=(0,a.useCallback)((async e=>{if(b||n){const n={method:c,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(b)},body:JSON.stringify(e)};try{const e=await fetch(h,n),t=await e.json();return"success"===t.response?(u({position:"top-right",title:"Success",description:"".concat(t.response),status:"success",duration:5e3,isClosable:!0}),s&&s()):(u({position:"top-right",title:"Error",description:"".concat(t.message),status:"error",duration:9e3,isClosable:!0}),d&&d()),m(t),l&&l(),t}catch(t){}}}),[l,b,c,n,d,s,u,h]);return{success:p,setRow:(0,a.useCallback)((e=>{g(e)}),[g])}}},6314:(e,t,n)=>{n.d(t,{Z:()=>w});var a,o,r,i,l,s=n(2791),d=n(81),c=n(2125),u=n(168),h=n(225);const p=h.Z.div(a||(a=(0,u.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n"]))),m=h.Z.div(o||(o=(0,u.Z)(["\n  /* position: relative;\n    margin: 5% auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: ",";\n    height: ",";\n    background-color: white;\n    border-radius: 15px; */\n  /* max-height: 90vh;\n\tmax-width: 500px; */\n  width: ",";\n  height: ",";\n  margin-left: auto;\n  margin-right: auto;\n  background-color: #fff;\n  border-radius: 15px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 15px 30px 0 rgba(#000, 0.25);\n  @media (max-width: 600px) {\n    width: 90%;\n  }\n"])),(e=>{let{width:t}=e;return t}),(e=>{let{height:t}=e;return t}),(e=>{let{width:t}=e;return t}),(e=>{let{height:t}=e;return t})),b=h.Z.div(r||(r=(0,u.Z)(["\n  padding: 15px 32px;\n  border-bottom: 1px solid #ddd;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),g=h.Z.div(i||(i=(0,u.Z)(["\n  margin: 10px 15px;\n  overflow-y: auto;\n  height: 100%;\n"]))),x=h.Z.div(l||(l=(0,u.Z)(['\n  padding: 35px 32px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  border-top: 1px solid #ddd;\n  gap: 12px;\n  position: relative;\n  &:after {\n    content: "";\n    display: block;\n    position: absolute;\n    top: -51px;\n    left: 24px;\n    right: 24px;\n    height: 50px;\n    flex-shrink: 0;\n    background-image: linear-gradient(to top, rgba(#fff, 0.75), transparent);\n    pointer-events: none;\n  }\n'])));var f=n(184);const v=e=>{let{children:t,visible:n=!1,label:a,onClose:o,onOK:r,submitTitle:i="smbt",width:l="90%",height:s="auto",hideSaveButton:u=!1,hideCloseButton:h=!1,noFooter:v=!1}=e;return(0,f.jsx)(f.Fragment,{children:n&&(0,f.jsx)(p,{hidden:!n,children:(0,f.jsxs)(m,{width:l,height:s,children:[(0,f.jsxs)(b,{children:[(0,f.jsx)(c.Z,{children:a}),(0,f.jsx)(d.Z,{label:"\xd7",width:"5%",backGround:"none",margin:"0",padding:"0","data-dismiss":"modal",onClick:o,fontWeight:"19px"})]}),(0,f.jsx)(g,{children:t}),!v&&(0,f.jsxs)(x,{hidden:v,children:[!u&&(0,f.jsx)(d.Z,{onClick:r,label:i,hidden:u,width:"20%",margin:"0"}),!h&&(0,f.jsx)(d.Z,{onClick:o,label:"cls",hidden:h,width:"20%",backGround:"red",margin:"0"})]})]})})})},w=(0,s.memo)(v)},9853:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(2791),o=n(5410),r=n(6590),i=n(3224),l=n(3388),s=n(8216),d=n(5848),c=n(81);const u=[{title:"id",dataIndex:"record_id",width:"10%"},{title:"typ",dataIndex:"type",width:"10%"},{title:"hldrnm",dataIndex:"holder_name",width:"20%"},{title:"dt",dataIndex:"date",width:"10%"},{title:"crdt",dataIndex:"credit",width:"15%"},{title:"dbt",dataIndex:"debit",width:"15%"},{title:"total",dataIndex:"total",width:"15%"}];var h=n(184);const p=()=>{const{state:e,onChange:t}=(0,l.Z)({initialValues:{date_from:d._8,date_to:d._8}}),{tableRef:n,fetchTableData:p}=(0,r.Z)(),m=(0,a.useCallback)((()=>{p({date_from:e.date_from,date_to:e.date_to})}),[p,e.date_from,e.date_to]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(o.Z,{width:"100%",flexDirection:"column",children:[(0,h.jsxs)(o.Z,{width:"100%",children:[(0,h.jsx)(s.Z,{name:"date_from",label:"frm",value:e.date_from,onChange:t}),(0,h.jsx)(s.Z,{name:"date_to",value:e.date_to,label:"to",onChange:t}),(0,h.jsx)(c.Z,{onClick:m,label:"srch",width:"10%"})]}),(0,h.jsx)(i.Z,{ref:n,api:"QUERY_DAILY_SUMMARY_TABLE",columns:u,rowKey:"rowKey",hideTools:!1,canExcel:!0})]})})},m=(0,a.memo)(p)}}]);
//# sourceMappingURL=853.343d866c.chunk.js.map